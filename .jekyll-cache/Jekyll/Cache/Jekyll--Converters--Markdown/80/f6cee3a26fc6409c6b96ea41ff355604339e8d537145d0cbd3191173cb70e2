I"ğ<p>rm -rf ~/.kube
rm -rf ~/Library/Group\ Containers/group.com.docker/pki</p>

<p>// git clone https://github.com/hummerstudio/k8s-docker-desktop-for-mac.git</p>

<p>æ³¨æ„ç‰ˆæœ¬
https://github.com/maguowei/k8s-docker-desktop-for-mac</p>

<p>cd k8s-docker-desktop-for-mac/</p>

<p>./load_images.sh
<!-- more -->
æ˜¯ K8s è¿è¡Œæ‰€éœ€çš„ä¸€äº› k8s.gcr.io ä¸‹çš„é•œåƒï¼Œæ— æ³•ç›´æ¥ä¸‹è½½å¾—åˆ°ã€‚</p>

<p>å‡†å¤‡é•œåƒ
é…ç½®é•œåƒæœåŠ¡
åœ¨ Preferences =&gt; Docker Engine é‡Œï¼Œå¯ä»¥é…ç½® registry-mirrorsï¼Œå›½å†…å¯ç”¨çš„ä¸€äº›é•œåƒæœåŠ¡æœ‰ï¼š</p>

<p>ä¸­å›½ç§‘å¤§ï¼šhttps://docker.mirrors.ustc.edu.cn / https://ustc-edu-cn.mirror.aliyuncs.com</p>

<p>é˜¿é‡Œäº‘ï¼šhttps://xxxxx.mirror.aliyuncs.comï¼Œå¯ä½¿ç”¨é˜¿é‡Œäº‘è´¦å·åœ¨ è¿™é‡Œ è·å¾—</p>

<p>ç½‘æ˜“äº‘ï¼šhttps://hub-mirror.c.163.com</p>

<p>DaoCloudï¼šhttp://f1361db2.m.daocloud.io</p>

<p>å¦å¤–ï¼Œä¸­å›½ç§‘å¤§è¿˜æœ‰ GCR å’Œ Quay çš„é•œåƒã€‚</p>

<p>å¯æ·»åŠ å¤šä¸ªé•œåƒï¼Œå¦‚ï¼š</p>

<p>{  â€œregistry-mirrorsâ€: [    â€œhttps://xxxxx.mirror.aliyuncs.comâ€,    â€œhttps://docker.mirrors.ustc.edu.cnâ€,    â€œhttps://hub-mirror.c.163.comâ€,    â€œhttp://f1361db2.m.daocloud.ioâ€  ],  â€œdebugâ€: true,  â€œexperimentalâ€: true}
ä¹‹åç‚¹å‡» Apply &amp; Restart åº”ç”¨é…ç½®ã€‚</p>

<p>ä¸‹è½½é•œåƒ
åœ¨ é˜¿é‡Œäº‘å®¹å™¨æœåŠ¡çš„ GitHub ç»„ç»‡ ä¸‹ï¼Œæœ‰ä¸ª k8s-for-docker-desktop ä»“åº“å³ä¸ºè§£å†³æ­¤é—®é¢˜è€Œå­˜åœ¨ã€‚è§£å†³çš„æ–¹å¼ä¸ºï¼šå…ˆä»é˜¿é‡Œäº‘ä¸‹è½½æ‰€éœ€çš„é•œåƒå‰¯æœ¬è‡³æœ¬åœ°ï¼Œå†å°†é•œåƒ tag ä¿®æ”¹è‡³ k8s.gcr.io ä¸‹ã€‚</p>

<p>å®‰è£… K8s å¯¹åº”ç‰ˆæœ¬çš„ kubeadm ï¼Œä¹‹åè¿è¡Œï¼š</p>

<h1 id="æ›¿æ¢-kubernetes_version-ä¸ºæ‰€ä½¿ç”¨çš„-k8s-ç‰ˆæœ¬-kubeadm-config-images-list-kubernetes-versionkubernetes_version">æ›¿æ¢ ${KUBERNETES_VERSION} ä¸ºæ‰€ä½¿ç”¨çš„ K8s ç‰ˆæœ¬$ ./kubeadm config images list â€“kubernetes-version=${KUBERNETES_VERSION}</h1>
<p>å¯å¾—åˆ°ç±»ä¼¼å¦‚ä¸‹ä¿¡æ¯ï¼š</p>

<p>k8s.gcr.io/kube-apiserver:v1.19.3
k8s.gcr.io/kube-controller-manager:v1.19.3
k8s.gcr.io/kube-scheduler:v1.19.3
k8s.gcr.io/kube-proxy:v1.19.3
k8s.gcr.io/pause:3.2
k8s.gcr.io/etcd:3.4.13-0
k8s.gcr.io/coredns:1.7.0
ä¹Ÿå¯å‚ç…§è¿™ä¸ª entrypoint.sh ä¸­çš„ å†…å®¹ ï¼Œæˆ–ç›´æ¥ä» è¿™ä¸ª å®šæœŸæ‰§è¡Œçš„ GitHub Actions è®°å½•ä¸­æ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬æ‰§è¡Œæ—¶çš„è¾“å‡ºä¿¡æ¯ï¼Œå¦‚ v1.19.3 è®°å½•ã€‚</p>

<p>æ ¹æ®æ‰€å¾—åˆ°çš„å¯¹åº”ç‰ˆæœ¬é•œåƒä¿¡æ¯ï¼Œä¿®æ”¹ images.properties æ–‡ä»¶ä¸­å†…å®¹ï¼Œå†æ‰§è¡Œ load_images.sh å³å¯ã€‚</p>

<p>https://blog.csdn.net/weixin_31558841/article/details/112072166</p>

<p>https://docs.docker.com/docker-for-mac/release-notes/</p>

<p>https://github.com/docker/for-mac/issues/5020</p>

<p>https://github.com/docker/for-mac</p>

<p>https://blog.csdn.net/chen801090/article/details/107108301/
https://github.com/hummerstudio/k8s-docker-desktop-for-mac
https://github.com/maguowei/k8s-docker-desktop-for-mac</p>

<p>https://www.bilibili.com/video/BV1w4411y7Go?p=33</p>

<p>$ kubectl cluster-info dump
Error from server (InternalError): an error on the server (â€œâ€) has prevented the request from succeeding (get nodes)</p>

<p>Apple æœ‰ä¸€ä¸ª Virtualization.framework å¯ä»¥ç›´æ¥å¯åŠ¨ Linux VM ã€‚
https://github.com/gyf304/vmcli
https://github.com/gyf304/vmcli/blob/main/vmbuilders/ubuntu.sh</p>

<p>https://github.com/koolshare/koolshare.github.io
https://www.bilibili.com/video/BV1w4411y7Go?p=35</p>
:ET