I"2<p>åˆ†å‰²æ–‡ä»¶
æ–‡ä»¶åˆ†å‰²å¯ä»¥ä½¿ç”¨splitå‘½ä»¤ï¼Œè¯¥å³æ”¯æŒæ–‡æœ¬æ–‡ä»¶åˆ†å‰²ï¼Œåˆæ”¯æŒäºŒè¿›åˆ¶æ–‡ä»¶åˆ†å‰²ï¼›è€Œåˆå¹¶æ–‡ä»¶å¯ä»¥ä½¿ç”¨catå‘½ä»¤ã€‚</p>

<p>1.1 æ–‡æœ¬æ–‡ä»¶åˆ†å‰²</p>

<p>åˆ†å‰²æ–‡æœ¬æ–‡ä»¶æ—¶ï¼Œå¯ä»¥æŒ‰æ–‡ä»¶å¤§å°åˆ†å‰²ï¼Œä¹Ÿå¯ä»¥æŒ‰æ–‡æœ¬è¡Œæ•°åˆ†å‰²ã€‚</p>

<p>æŒ‰æ–‡ä»¶å¤§å°åˆ†å‰²</p>

<p>æŒ‰æ–‡ä»¶å¤§å°åˆ†å‰²æ–‡ä»¶æ—¶ï¼Œéœ€è¦ä»¥-Cå‚æ•°æŒ‡å®šåˆ†å‰²åçš„æ–‡ä»¶å¤§å°ï¼š</p>

<p>?1 $ split -C 100M large_file.txt stxt
å¦‚ä¸Šæ‰€ç¤ºï¼Œæˆ‘ä»¬å°†å¤§æ–‡ä»¶large_file.txtæŒ‰100Må¤§å°è¿›è¡Œåˆ†å‰²ï¼Œå¹¶æŒ‡å®šäº†åˆ†å‰²åæ–‡ä»¶å‰ç¼€stxtï¼›å½“ä¸æŒ‡å®šå‰ç¼€æ—¶ï¼Œsplitä¼šè‡ªåŠ¨å¯¹åˆ†å‰²æ–‡ä»¶è¿›è¡Œå‘½åï¼Œä¸€èˆ¬ä¼šä»¥xå¼€å¤´ã€‚</p>

<p>æŒ‰è¡Œåˆ†å‰²</p>

<p>æ–‡æœ¬æ–‡ä»¶è¿˜å¯ä»¥ä»¥è¡Œä¸ºå•ä½è¿›è¡Œåˆ†å‰²ï¼Œä»¥è¡Œæ•°è¿›è¡Œåˆ†å‰²æ—¶ä¼šå¿½ç•¥æ–‡ä»¶å¤§å°ï¼Œå¹¶ä»¥-lå‚æ•°æŒ‡å®šåˆ†å‰²åæ–‡ä»¶çš„è¡Œæ•°ï¼š</p>

<p>?1 $ split -l 1000 large_file.txt stxt
1.2 äºŒè¿›åˆ¶æ–‡ä»¶åˆ†å‰²</p>

<p>äºŒè¿›åˆ¶æ–‡ä»¶åˆ†å‰²ç±»ä¼¼äºæŒ‰å¤§å°åˆ†å‰²æ–‡æœ¬æ–‡ä»¶ï¼Œä¸åŒçš„æ˜¯ä»¥-bå‚æ•°æ¥æŒ‡å®šåˆ†å‰²åçš„æ–‡ä»¶å¤§å°ï¼š</p>

<p>?1 $ split -b 100M data.bak sdata</p>
<ol>
  <li>æ–‡ä»¶åˆå¹¶</li>
</ol>

<p>æ–‡ä»¶åˆå¹¶ä½¿ç”¨catå‘½ä»¤ï¼Œä¸Šé¢å‡ ç§æ–¹å¼åˆ†å‰²çš„æ–‡ä»¶éƒ½å¯ä»¥ä½¿ç”¨catå‘½ä»¤åˆå¹¶ã€‚</p>

<p>catå‘½ä»¤åˆå¹¶åˆ†å‰²æ–‡ä»¶ï¼š</p>

<p>?1 $ cat stxt* &gt; new_file.txt</p>
<ol>
  <li>å‘½ä»¤æ ¼å¼</li>
</ol>

<p>3.1 splitå‘½ä»¤è¯´æ˜</p>

<p>splitå‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š</p>

<p>split [é€‰é¡¹]â€¦ [è¦åˆ‡å‰²çš„æ–‡ä»¶ [è¾“å‡ºæ–‡ä»¶å‰ç¼€]]</p>

<p>å‘½ä»¤å‚æ•°</p>

<p>-a, â€“suffix-length=N ä½¿ç”¨é•¿åº¦ä¸º N çš„åç¼€ (é»˜è®¤ 2)</p>

<p>-b, â€“bytes=SIZE è®¾ç½®è¾“å‡ºæ–‡ä»¶çš„å¤§å°ã€‚æ”¯æŒå•ä½ï¼šm,k</p>

<p>-C, â€“line-bytes=SIZE è®¾ç½®è¾“å‡ºæ–‡ä»¶çš„æœ€å¤§è¡Œæ•°ã€‚ä¸ -b ç±»ä¼¼ï¼Œä½†ä¼šå°½é‡ç»´æŒæ¯è¡Œçš„å®Œæ•´æ€§</p>

<p>-d, â€“numeric-suffixes ä½¿ç”¨æ•°å­—åç¼€ä»£æ›¿å­—æ¯</p>

<p>-l, â€“lines=NUMBER è®¾å¤‡è¾“å‡ºæ–‡ä»¶çš„è¡Œæ•°</p>

<p>â€“help     æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯</p>

<p>â€“version  è¾“å‡ºç‰ˆæœ¬ä¿¡æ¯</p>

<p>3.2 catå‘½ä»¤è¯´æ˜</p>

<p>catæ˜¯Linuxä¸‹ä½¿ç”¨é¢‘ç‡è¾ƒé«˜çš„å‘½ä»¤ä¹‹ä¸€ï¼Œè¯¥ä»¤è¯¦ç»†ä»‹ç»ï¼š</p>

<p>catè¿æ¥æ–‡ä»¶å¹¶æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºè®¾å¤‡ä¸Š</p>

<p>catå‘½ä»¤çš„å¸¸è§ä½¿ç”¨åœºæ™¯æœ‰ï¼š</p>

<p>æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼š</p>

<p>?1 $ cat filename
åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶ï¼š</p>

<p>?1 $ cat &gt; filename
æ–‡ä»¶åˆå¹¶ï¼š</p>

<p>?1 $ cat file1 file2 &gt; file
<!-- more --></p>

<table>
  <tbody>
    <tr>
      <td>taræ˜¯æ–‡ä»¶æ‰“åŒ…å·¥å…·ï¼Œsplitæ˜¯æ–‡ä»¶åˆ†å‰²å·¥å…·ï¼Œåœ¨é‚®ä»¶ä¸­å‘é€é™„ä»¶çš„æ—¶å€™ï¼Œå¯èƒ½å› ä¸ºé™„ä»¶å¤§å°é™åˆ¶ï¼Œéœ€è¦å‹ç¼©å¹¶åˆ†å‰²ï¼Œåˆ†å‡ å°é‚®ä»¶å‘é€ã€‚å¦‚æœéœ€è¦å¤‡ä»½å¾ˆå¤šèµ„æ–™çš„æ—¶å€™ï¼Œæ‰“åŒ…åçš„å•ä¸ªæ–‡ä»¶å¯èƒ½è¶…å‡ºæ–‡ä»¶ç³»ç»Ÿæ”¯æŒçš„å•ä¸ªæ–‡ä»¶å¤§å°é™åˆ¶çš„æ—¶å€™ï¼Œä¹Ÿéœ€è¦åˆ†å‰²æˆé€‚åˆå¤§å°çš„æ–‡ä»¶åŒ…ã€‚åˆšå¥½ä»Šå¤©åˆè¦å¤‡ä»½skypeæ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥å°±ç”¨è¿™ä¸ªå®ä¾‹æ¥è¯´æ˜ä¸€ä¸‹tarå’Œsplitè¿™ä¸¤ä¸ªæŒ‡ä»¤ï¼Œå¦‚ä½•å‹ç¼©ã€åˆ†å‰²ï¼Œå†é€šè¿‡catåˆå¹¶åˆ†å‰²çš„æ–‡ä»¶è§£å‹è¿˜åŸï¼Œä»¥åŠåœ¨ç®¡é“â€</td>
      <td>â€é…åˆä¸‹çš„æ‰“åŒ…åˆ†å‰²æ–‡ä»¶è¿‡ç¨‹ã€‚</td>
    </tr>
  </tbody>
</table>

<p>ä¾‹å¦‚ï¼šæˆ‘çš„.skypeæ–‡ä»¶å·²ç»æœ‰35Mä¹‹å¤šäº†ï¼Œç°åœ¨éœ€è¦å‹ç¼©å¤‡ä»½èµ·æ¥ï¼Œç›´æ¥ç”¨taræ‰“åŒ…ï¼š</p>

<p>å¤åˆ¶ä»£ç 
ç”¨tarå‹ç¼©æ–‡ä»¶ï¼š
[marco.chan@linuxhobby backup]$ ls
skype_backup
[marco.chan@linuxhobby backup]$ tar -czvp -f skype_backup.tar.gz skype_backup
ä¸­é—´çš„æ‰“åŒ…å‹ç¼©è¾“å‡ºè¿‡ç¨‹çœç•¥â€¦
skype_backup/marco.chan.skype/chat512.dbb
skype_backup/marco.chan.skype/user4096.dbb
skype_backup/marco.chan.skype/chatmsg256.dbb
skype_backup/shared.xml
skype_backup/shared.lck
[marco.chan@linuxhobby backup]$ ls
skype_backup.tar.gz skype_backup
å¤åˆ¶ä»£ç 
å› ä¸ºç”¨äº†â€œ-vâ€å‚æ•°ï¼Œæ‰€ä»¥ä¸­é—´ä¼šè¾“å‡ºæ‰“åŒ…å‹ç¼©çš„æ–‡ä»¶ä¿¡æ¯ã€‚</p>

<p>-c (create)å½“ç„¶æ˜¯å»ºç«‹ä¸€ä¸ªæ‰“åŒ…æ–‡ä»¶ã€‚
-z (gzip)è°ƒç”¨gzipè¿›è¡Œå‹ç¼©ï¼Œå»ºè®®åç¼€åä¸º<em>.tar.gzï¼›ä¹Ÿå¯ä»¥ç”¨-j(bzip2),å»ºè®®åç¼€åä¸º</em>.tar.bz2ã€‚
-p (preserve-permissions)å°å†™çš„pï¼Œä¿æŒåŸå…ˆçš„æ–‡ä»¶å±æ€§ï¼Œä¹Ÿå°±æ˜¯rwxå±æ€§ã€‚
-f (file)è¾“å‡ºçš„ç›®æ ‡æ–‡ä»¶â€œskype_backup.tar.gzâ€ å°†è¦è¢«å¤„ç†çš„æºæ–‡ä»¶â€œskype_backupâ€ï¼Œå¯ä»¥å°†-fè¿å†™ï¼Œä½†æ˜¯ä¸ºäº†å®¹æ˜“è®°å¿†å’ŒåŒºåˆ†ï¼Œæ‰€ä»¥è¿™é‡Œåˆ†å¼€å†™äº†ã€‚</p>

<p>æ‰“åŒ…åçš„skype_backup.tar.gzè¿˜æœ‰15Må¤§å°ï¼Œä½†æ˜¯æˆ‘çš„é‚®ä»¶é™„ä»¶å°±æ”¯æŒ6Må¤§å°ï¼Œæ‰€ä»¥è¿˜å¾—åˆ†å‰²ã€‚</p>

<p>å¤åˆ¶ä»£ç 
spliteåˆ†å‰²æ–‡ä»¶ï¼š
[marco.chan@linuxhobby backup]$ split -b 4000k skype_backup.tar.gz skype_backup_20090626.tar.gz. â€“verbose
creating file <code class="language-plaintext highlighter-rouge">skype_backup_20090626.tar.gz.aaâ€™
creating file </code>skype_backup_20090626.tar.gz.abâ€™
creating file <code class="language-plaintext highlighter-rouge">skype_backup_20090626.tar.gz.acâ€™
creating file </code>skype_backup_20090626.tar.gz.adâ€™
[marco.chan@linuxhobby backup]$ ls
skype_backup skype_backup_20090626.tar.gz.ac
skype_backup_20090626.tar.gz.aa skype_backup_20090626.tar.gz.ad
skype_backup_20090626.tar_20090626.gz.ab skype_backup.tar.gz
å¤åˆ¶ä»£ç 
-b æŒ‡å®šåˆ†å‰²å¤§å°ï¼Œä¾‹å¦‚k,mç­‰å•ä½ã€‚</p>

<p>â€“verbose è¾“å‡ºåˆ†å‰²æ–‡ä»¶ä¿¡æ¯ï¼Œå¯é€‰ã€‚
skype_backup.tar.gz è¢«åˆ†å‰²çš„æ–‡ä»¶ã€‚
skype_backup_20090626.tar.gz. åˆ†å‰²åçš„æ–‡ä»¶å(æ³¨æ„gzåé¢çš„â€.â€)ï¼Œå¦‚æœä¸æŒ‡å®šçš„è¯ï¼Œé»˜è®¤æ˜¯xaa,xab,xacã€‚</p>

<p>ç°åœ¨é€šè¿‡tarï¼Œsplitï¼Œå·²ç»å°†skype_backupç›®å½•æ–‡ä»¶æ‰“åŒ…ã€åˆ†å‰²ä¸ºæ¯ä¸ªæœ€å¤§ä¸º4Må¤§å°çš„å‹ç¼©åŒ…äº†ã€‚
ä»¥ä¸Šæ˜¯åˆ†æ­¥æ‰§è¡Œï¼Œå¦‚æœç”¨ç®¡é“â€|â€ï¼Œå°†tar,splitå†™æˆä¸€ä¸ªæ‰§è¡Œè¯­å¥ï¼š</p>

<p>å¤åˆ¶ä»£ç 
ä½¿ç”¨ç®¡é“â€œ|â€åˆå¹¶ä¸¤ä¸ªæŒ‡ä»¤ï¼š
[marco.chan@linuxhobby backup]$ tar -czvp -f â€“ skype_backup |split -b 4000k â€“ skype_backup_20090626.tar.gz. â€“verbose
[marco.chan@linuxhobby backup]$ ls
skype_backup
skype_backup_20090626.tar.gz.aa
skype_backup_20090626.tar.gz.ab
skype_backup_20090626.tar.gz.ac
skype_backup_20090626.tar.gz.ad
å¤åˆ¶ä»£ç 
æ³¨æ„ä¸€ä¸‹æŒ‡ä»¤ä¸­çš„ä¸¤ä¸ªâ€œ-â€ï¼Œå¦‚æœåˆ†å¼€æ‰§è¡Œï¼Œå°±ä¸ç”¨â€-â€ã€‚ä¸ºä»€ä¹ˆæœ‰è¿™ä¸ªâ€-â€ï¼Ÿ</p>

<p>man tar
-f, â€“file [HOSTNAME:]F
Use archive file or device F (default â€œ-â€, meaning stdin/stdout). Note that â€œ/dev/stdoutâ€ is not equivalent to â€œ-â€.Using â€œ/dev/stdoutâ€ explicitly can lead to corrupted archive, especially when coupled with â€œ-vâ€.
å¦‚ä½•è§£å‹åˆ†å‰²æ–‡ä»¶ï¼Ÿ</p>

<p>æŠŠæ–‡ä»¶åˆ†å‰²äº†å‡ ä¸ªåŒ…ï¼Œå½“ç„¶ä¹Ÿè¦èƒ½åˆå¹¶è§£å‹äº†ï¼Œåˆå¹¶æ–‡ä»¶å½“ç„¶ç”¨catäº†ï¼Œcatä¸ä»…ä»…æ˜¯ç”¨æ¥å¤„ç†åˆå¹¶æ–‡æœ¬æ–‡ä»¶çš„ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥åˆå¹¶å‹ç¼©æ–‡ä»¶ã€‚</p>

<p>catåˆå¹¶åˆ†å‰²çš„æ–‡ä»¶ï¼š
[marco.chan@linuxhobby backup]$ cat skype_backup_20090626.tar.gz.a* &gt;skype_backup_cat.tar.gz
å°†ä¹‹å‰åˆ†å‰²çš„å‹ç¼©åŒ…åˆå¹¶æˆskype_backup_cat.tar.gzï¼Œç„¶åå¯ä»¥é€šè¿‡tar -zxvfæ¥è§£å‹skype_backup_cat.tar.gzï¼Œé€šè¿‡ç®¡é“â€|â€å¯å†™æˆï¼š</p>

<table>
  <tbody>
    <tr>
      <td>ä½¿ç”¨ç®¡é“â€œ</td>
      <td>â€åˆå¹¶ä¸¤ä¸ªæŒ‡ä»¤ï¼š</td>
    </tr>
    <tr>
      <td>[marco.chan@linuxhobby backup]$ cat skype_backup_20090626.tar.gz.a*</td>
      <td>tar -zxv</td>
    </tr>
  </tbody>
</table>
:ET