I"Ä2<p>DescriptorPool
ä»»ä½•æ—¶å€™æƒ³è¦æŸ¥è¯¢ä¸€ä¸ªDescriptor , éƒ½æ˜¯å»DescriptorPoolé‡Œé¢æŸ¥è¯¢ã€‚ 
DescriptorPool å®ç°äº†è¿™æ ·çš„æœºåˆ¶ ï¼š</p>

<p>ç¼“å­˜æ‰€æœ‰æŸ¥è¯¢çš„æ–‡ä»¶çš„Descriptor ã€‚
æŸ¥æ‰¾Descriptorçš„æ—¶å€™ï¼Œå¦‚æœè‡ªèº«ç¼“å­˜æŸ¥åˆ°å°±ç›´æ¥è¿”å›ç»“æœï¼Œ 
å¦åˆ™å»è‡ªå¸¦çš„DescriptorDatabaseä¸­æŸ¥FileDescriptorProtoï¼Œ 
æŸ¥åˆ°å°±è½¬åŒ–æˆDescriptorï¼Œ è¿”å›ç»“æœå¹¶ä¸”ç¼“å­˜.</p>

<p>Descriptor â€“ ç”¨æ¥æè¿° æ¶ˆæ¯
FieldDescriptor â€“ ç”¨æ¥æè¿° å­—æ®µ
OneofDescriptor â€“ ç”¨æ¥æè¿° è”åˆä½“
EnumDescriptor â€“ ç”¨æ¥æè¿° æšä¸¾
EnumValueDescriptor â€“ ç”¨æ¥æè¿° æšä¸¾å€¼
ServiceDescriptor â€“ ç”¨æ¥æè¿° æœåŠ¡å™¨
MethodDescriptor â€“ ç”¨æ¥æè¿° æœåŠ¡å™¨æ–¹æ³•
FileDescriptor â€“ ç”¨æ¥æè¿° æ–‡ä»¶</p>

<p>https://blog.csdn.net/boshuzhang/article/details/66969353
<!-- more -->
descriptor pool</p>

<p>ä¸€ä¸ª protobuf çš„ message çš„ reflection API æ˜¯é€šè¿‡ descriptor å»ºç«‹èµ·æ¥çš„ï¼Œé€šå¸¸æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ª message çš„ static methodï¼šdescriptor æ‹¿åˆ°å¯¹åº”çš„ descriptor ç»§è€Œè¿›è¡Œä¸€äº›å·¥ä½œã€‚é‚£ä¹ˆå¦‚æœæˆ‘ä»¬æ²¡æœ‰ç¼–è¯‘æ—¶å€™çš„ç±»å‹ä¿¡æ¯ï¼Œæˆ‘ä»¬å¸Œæœ› runtime é€šè¿‡ä¸€ä¸ª type erased çš„ç±»å‹è·å¾—ç›¸å…³çš„ descriptor çš„è¯ï¼Œå¯ä»¥ä¾èµ– descriptor poolï¼Œäº‹å®ä¸Š proto2::DescriptorPool æä¾›çš„ API å¯ä»¥åšéå¸¸å¤šçš„äº‹æƒ…ï¼Œæˆ‘ä»¬è¿™é‡Œä»…ä»…è®¨è®ºä¸€ä¸ªå¯¹åº”çš„å®ç° DescriptorPool::generated_pool() æ‰€è¿”å›çš„ pool å¯ä»¥ç”¨æ¥æŸ¥è¯¢å½“å‰ binary é‡Œé¢æ‰€é“¾æ¥çš„æ‰€æœ‰ messageï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ª protobuf message çš„ canonical nameï¼ˆå­—ç¬¦ä¸²ï¼‰è·å–å¯¹åº”çš„ Descriptorã€‚</p>

<p>å¾ˆæ˜¾ç„¶å¦‚æœæˆ‘ä»¬éœ€è¦å°† message ç±»å‹æœ¬èº«é€šè¿‡ serialization/deserialization çš„ boundaryï¼Œå­—ç¬¦ä¸²ä¹Ÿè¦æ¯” Descriptor* å®¹æ˜“å¾ˆå¤šã€‚</p>

<p>options</p>

<p>protobuf æä¾›çš„ä¸€ç§ annotation ç§°ä¸º optionï¼Œå®ƒå‡ºç°åœ¨ protobuf çš„å®šä¹‰ä¸­ï¼Œå¯ä»¥ä¸ºå‡ ä¹æ‰€æœ‰çš„ä¸œè¥¿æä¾› annotationï¼šmessage ç±»å‹ã€field ç”šè‡³ enum value ç­‰ç­‰ã€‚æˆ‘ä»¬é€šè¿‡æ¯ä¸ªç±»å‹å¯¹åº”çš„ descriptor API å¯ä»¥è·å¾—è¿™äº› annotationï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®è¿™äº›é¢å¤–çš„ annotation è¿›è¡Œä¸€äº›æ”¹å˜ã€‚</p>

<p>ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šæ¯”å¦‚ä¸€ä¸ª query language åœ¨å¤„ç†æŸä¸ª protobuf çš„æ•°æ®æ—¶ï¼Œprotobuf æœ¬èº«å…¶å®ä½œä¸ºä¸€ä¸ª schema å¯ä»¥å°†ç±»å‹ä¿¡æ¯ç”¨åœ¨ query parsing å’Œ type verification ä¸Šï¼Œä½†æ˜¯æ¯”å¦‚æ•´æ•°çš„ formatting ç­‰é—®é¢˜å¹¶ä¸èƒ½å®Œå…¨è¢« protobuf æœ¬èº«æ¶µç›–ï¼Œè¿™æ›´æ¥è¿‘ query è¿™ä¸ª domain å¸Œæœ›å¦‚ä½• interpret æ•´æ•°ï¼šuint64 æ˜¯ä¸æ˜¯å…¶å®æ˜¯ä¸€ä¸ª IP åœ°å€ï¼Œæˆ–è€…ä¸€ä¸ª timestamp è¿˜æ˜¯å°±æ˜¯æœ€å¥½ hex è¾“å‡ºçš„ hash value</p>

<p>å› æ­¤æ¯ä¸ª domain å¾ˆå¯èƒ½å¸Œæœ›æœ‰ä¸€å¥—è‡ªå·±çš„ annotationï¼Œè¿™æ ·å°½ç®¡ç”Ÿæˆæ•°æ®çš„äººå°½ç®¡ä¸å…³å¿ƒ queryï¼Œä½†æ˜¯é€šè¿‡ç®€å•çš„ annotation å°±å¯ä»¥åœ¨ query è‡ªå·±æ•°æ®çš„æ—¶å€™è·å¾—éœ€è¦çš„æ ¼å¼äº†ã€‚</p>

<p>protobuf çš„ option ä¹Ÿæ˜¯é€šè¿‡ extension æ¥å®ç°çš„ã€‚æˆ‘ä»¬é¦–å…ˆéœ€è¦æŠŠ annotation æœ¬èº«ç”¨ä¸€ä¸ª message type æ¥æè¿°å‡ºæ¥ï¼Œç„¶ååœ¨åˆé€‚çš„ scope ä¸­ extend protobuf çš„ optionsï¼Œå°†è‡ªå®šä¹‰çš„ annotation type ä»¥æŸç§ extension åŠ å…¥ï¼ˆå¦‚ message æ˜¯ proto2.MessageOptionsï¼‰ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ option å…³é”®å­—æ¥ annotate ä¸€äº›åœ°æ–¹ï¼ˆfield å’Œ value çš„ annotation è¯­æ³•ç¨å¾®æœ‰ç‚¹ä¸åŒï¼‰ã€‚</p>

<p>é™¤äº†ä»¥ä¸Šè¿™ç§ç”¨æ³•ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™è¿˜å¸Œæœ›ä¸ºæŸäº›ç±»å‹å…³è”ä¸€äº› metadataï¼Œä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡ traits åœ¨ C++ ä»£ç é‡Œé¢æä¾›ï¼Œå¦ä¸€ç§å°±æ˜¯å½“è¿™äº›ç±»å‹æ˜¯ protobuf type çš„æ—¶å€™æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ options æ¥å®ç°ã€‚å¾ˆæ˜¾ç„¶å‰è€…æ›´ä¸º genericï¼Œèƒ½å¤Ÿæä¾›å…³è”çš„æ–¹æ³•ï¼Œåè€…ä¸€èˆ¬ç”¨ç›¸åŒçš„ç±»å‹æ¥å­˜å‚¨ metadataï¼Œå¯ä»¥ç”¨ reflection/descriptor çš„ API æ¥æ“ä½œã€‚</p>

<p>http://pages.cs.wisc.edu/~starr/bots/Undermind-src/html/classgoogle_1_1protobuf_1_1DescriptorPool.html
ä¸€ã€å‰æç¯å¢ƒ
    ç³»ç»Ÿä¿¡æ¯:Linux raspberrypi 4.9.24-v7+ #993 SMP Wed Apr 26 18:01:23 BST 2017 armv7l GNU/Linux</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ç³»ç»Ÿå·²ç»é¢„å…ˆå®‰è£…phpï¼Œ æˆ‘æ˜¯æºç ç¼–è¯‘å®‰è£…çš„phpï¼Œ ç‰ˆæœ¬ä¸º5.5.38

ç‰¹åˆ«æ³¨æ„: æºç ç¼–è¯‘phpçš„æ—¶å€™ï¼Œ åœ¨é…ç½®ä¸­è¯·åŠ ä¸Š --enable-bcmathï¼Œprotobuf phpéœ€è¦bcadd()å‡½æ•°æ”¯æŒã€‚
</code></pre></div></div>

<p>äºŒã€å®‰è£…protobuf
    1 å…ˆå®‰è£…å·¥å…·</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install autoconf automake libtool curl make g++ unzip

2 è·å–æºç åŒ…

https://github.com/google/protobuf           

#è¿™ä¸ªç¼–è¯‘ä¼šç”Ÿæˆprotocå¯æ‰§è¡Œç¨‹åº, è¯·å‚ç…§https://github.com/google/protobuf/blob/master/src/README.mdæ–‡æ¡£ç¼–è¯‘ï¼Œåœ¨æ­¤å°±ä¸å†è¯´æ˜äº†

https://github.com/allegro/php-protobuf    #è¿™ä¸ªç¼–è¯‘phpæ‰©å±•ï¼Œ å³ä¸‹æ–‡è®²çš„æºç 

3 å°†æºç åŒ…ä¸Šä¼ åˆ°æ ‘è“æ´¾å¹¶è§£å‹åˆ° /home/lighttpd/php-protobuf-master   (è·¯å¾„å¯ä»¥è‡ªå·±æŒ‡å®šï¼Œåé¢çš„æ”¹æˆä½ è‡ªå·±çš„å³å¯)
4 è¿›å…¥æºç è·¯å¾„

cd  /home/lighttpd/php-protobuf-master

5 å°†ç¼–è¯‘PHPç”Ÿæˆçš„phpizeå¯æ‰§è¡Œæ–‡ä»¶æ‹·è´åˆ°å½“å‰è·¯å¾„, apt-getå®‰è£…çš„ä¹Ÿæœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œæˆ–è€…ç›´æ¥åœ¨ç»ˆç«¯æ£€æŸ¥æœ‰æ²¡æœ‰æ­¤å‘½ä»¤

   è‹¥æœ‰å°±ä¸éœ€è¦æ‰§è¡Œæ­¤æ­¥éª¤

   å¦‚æœæ˜¯apt-getå®‰è£…çš„php, æ‰¾ä¸åˆ°phpizeå’Œphp-configï¼Œ è¯·å…ˆæ‰§è¡Œä»¥ä¸‹å‘½ä»¤

   sudo apt-get install php5-dev

   ç„¶åæŸ¥æ‰¾php-configè·¯å¾„ï¼Œ è®°ä¸‹æ­¤è·¯å¾„ï¼Œä¸‹ä¸€æ­¥å¤‡ç”¨

   sudo find / -name php-config

6 è¿›å…¥æºç è·¯å¾„php-protobuf-master, æ‰§è¡Œä»¥ä¸‹å‘½ä»¤
./phpize
./configure --with-php-config=/home/pi/webserver/php/build/x86/bin/php-config //æ­¤å¤„è·¯å¾„ä¸ºphpå®‰è£…è·¯å¾„ä¸‹çš„php-configæ–‡ä»¶ï¼Œ è¯·æ”¹ä¸ºè‡ªå·±çš„è·¯å¾„
make
make install
 
7 çœ‹åˆ°ä»¥ä¸‹å†…å®¹å³è¡¨ç¤ºå®‰è£…æˆåŠŸ
 root@raspberrypi:/home/lighttpd/php-protobuf-master# make install
 Installing shared extensions:     /home/pi/webserver/php/build/x86/lib/php/extensions/no-debug-non-zts-20121212/
 
8 æŸ¥çœ‹ç‰ˆæœ¬:protoc --version
</code></pre></div></div>

<p>ä¸‰ï¼ŒphpåŠ å…¥protobufæ‰©å±•
    1 phpå¼€å¯æ¨¡å—æ”¯æŒï¼Œ æ‰“å¼€phpé…ç½®æ–‡ä»¶</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nano /home/pi/webserver/php/build/x86/lib/php.ini    //è¿™æ˜¯æˆ‘çš„php.iniæ–‡ä»¶è·¯å¾„ï¼Œè¯·å¯¹ç…§è‡ªå·±è·¯å¾„ä¿®æ”¹ï¼Œ nanoå’Œviméƒ½æ˜¯æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œä¹Ÿå¯ä»¥ç”¨vim
åŠ å…¥æ­¤è¡Œï¼Œæ³¨æ„protobuf.soçš„è·¯å¾„å³ä¸ºå‰é¢ç¬¬äºŒèŠ‚ç¬¬7æ­¥å®‰è£…æˆåŠŸåæç¤ºçš„è·¯å¾„
extension=/home/pi/webserver/php/build/x86/lib/php/extensions/no-debug-non-zts-20121212/protobuf.so

PS: å¦‚æœæ˜¯apt-getå®‰è£…çš„phpï¼Œ 

sudo find / -name php.ini    #å…¨å±€æŸ¥æ‰¾php.iniæ–‡ä»¶

å°†æ‰¾åˆ°çš„æ–‡ä»¶å…¨éƒ¨åŠ ä¸Šextension=.~~~~~/protobuf.so è¿™å¥è¯

2 é‡å¯lighttpdæœåŠ¡å™¨ï¼Œ æŸ¥çœ‹ç¼–å†™ä¸€ä¸ªåŒ…å«phpinfo()çš„è„šæœ¬ï¼Œæµè§ˆå™¨è®¿é—®ï¼Œ æ£€æŸ¥æœ‰protobufå³OK
</code></pre></div></div>

<p>å››ï¼Œåœ¨phpä¸­ä½¿ç”¨protobuf åºåˆ—åŒ–æ•°æ®(è¿™éƒ¨åˆ†æ˜¯å‘æœ€å¤šçš„)
    1   å®‰è£…composerï¼Œ åé¢è¦ç”¨åˆ°è¿™ä¸ªç®¡ç†å·¥å…·ï¼Œ ç½‘ä¸ŠæŸ¥æ‰¾çš„å®‰è£…æ–¹å¼å‡ ä¹éƒ½ä¸èƒ½ç”¨ï¼Œ ç»å¤§å¤šæ•°æ˜¯å› ä¸ºè¢«å¢™çš„åŸå› ã€‚ä¸è¿‡ä½ è¦æ˜¯èƒ½å®‰è£…ä¸Šï¼Œå¯ç›´æ¥ç•¥è¿‡ä¸‹é¢æ­¥éª¤ã€‚
         ç›´æ¥ä¸‹è½½composer.pharï¼Œå¯ä»¥åœ¨CSDNä¸‹è½½ï¼Œ æˆ–è€…ä¸­æ–‡å®˜ç½‘ä¹Ÿå¯ä»¥ä¸‹è½½ï¼Œä½†è¯·ä¸‹è½½è¾ƒæ–°ç‰ˆæœ¬çš„</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     é™„CSDNè¿æ¥:http://download.csdn.net/detail/webben/9787171   ç‚¹å‡» CSDNä¸‹è½½

2  ä¸‹è½½å®Œæˆåä¸Šä¼ åˆ°æ ‘è“æ´¾ä»»æ„è·¯å¾„

3   æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œç›´æ¥å…¨å±€ä½¿ç”¨ï¼Œæ³¨æ„æ‰§è¡Œä¹‹å‰ç»™composer.pharé™„åŠ æ‰§è¡Œæƒé™

     cp composer.phar /usr/local/bin/composer
 

4  æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ ä¿®æ”¹composeræºåˆ°ä¸­å›½é•œåƒï¼Œå¹¶å…³é—­httpå®‰å…¨éªŒè¯ï¼Œç„¶åå®‰è£…

    cd /home/lighttpd/php-protobuf-master  //é¦–å…ˆè¿›å…¥åˆ°ä¹‹å‰å®‰è£…protobufçš„è·¯å¾„, å¦åˆ™æœ€åæ‰§è¡Œcomposer installä¼šæœ‰é—®é¢˜ï¼Œè¯·å¯¹ç…§è‡ªå·±è·¯å¾„æ“ä½œ

    composer config -g repo.packagist composer https://packagist.phpcomposer.com  
    composer config secure-http false
    composer install
 
5  æ›´æ–° composer , 
    cd /home/lighttpd/php-protobuf-master/  

   ç¼–è¾‘composer.jsonï¼Œåœ¨requireå­—æ®µå¤„åŠ å…¥å¦‚ä¸‹è¡Œ"google/protobuf": "^3.2"     //3.2 æ˜¯ä½¿ç”¨protoc --versionå‘½ä»¤çœ‹åˆ°çš„ç‰ˆæœ¬å·,è¯·å¯¹åº”æ“ä½œ,
   {
       "require": {
       "google/protobuf": "^3.2"
   }

   å¦‚æœå¿½ç•¥ä¸Šè¿°æ­¥éª¤ï¼Œ ä¼šé€ æˆphpæ— æ³•æ‰¾åˆ°å¯¹åº”çš„googleå¤´æ–‡ä»¶

   æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œ (åˆæ˜¯ä¸€ä¸ªå‘)

   mkdir /home/lighttpd/php-protobuf-master/vendor/google/protobuf

   composer update
   composer install    //é‡æ–°å®‰è£…
  

6  æ‹·è´æ­¥éª¤5ç”Ÿæˆçš„æ–‡ä»¶å¤¹vendor åˆ°ç½‘ç«™phpè„šæœ¬ç›®å½•ï¼Œ æˆ–è€…ä»»æ„phpè„šæœ¬èƒ½è®¿é—®åˆ°çš„ç›®å½•éƒ½è¡Œ
    cp -r  vendor  /var/www/htdocs/php/



7 æ–°å»ºä¸€ä¸ªç®€å•çš„protoæ–‡ä»¶, è·¯å¾„å¯ä»¥ä»»æ„æŒ‡å®šï¼Œ åç»­çš„æ¢æˆä½ è‡ªå·±çš„å³å¯

   nano /var/www/htdocs/php/protobuf/test.proto

   å†™å…¥ä»¥ä¸‹å†…å®¹,ä¿å­˜é€€å‡º

   syntax = "proto3";
   package config;
   message VoiceConfig{
      int32 sample_rate = 1;
      int32 mic_num = 2;
      string voiceserver_address = 3;
   }

 8 æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼Œ

   /home/pi/webserver/php/build/x86/bin/php /home/lighttpd/php-protobuf-master/protoc-gen-php.php test.proto

  å…¶ä¸­/home/pi/webserver/php/build/x86/bin/phpæ˜¯phpå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼Œå¦‚æœæœ‰å…¨å±€phpå‘½ä»¤ç›´æ¥ä½¿ç”¨phpå³å¯

  /home/lighttpd/php-protobuf-master/protoc-gen-php.phpæ˜¯ç¬¬ä¸€èŠ‚å®‰è£…protobufè·¯å¾„ä¸‹çš„æ–‡ä»¶ï¼Œè¯·æ¢æˆä½ çš„è·¯å¾„

 9 æ–°å»ºPHPè„šæœ¬test.php å†…å®¹å¦‚ä¸‹
</code></pre></div></div>

<p>&lt;?php
    error_reporting(E_ERROR | E_WARNING | E_PARSE);  //ç¦æ­¢æ‰“å°é”™è¯¯å’Œè­¦å‘Šä¿¡æ¯
    require_once(â€˜vendor/autoload.phpâ€™);   //æ­¥éª¤å››.6ç”Ÿæˆçš„æ–‡ä»¶è·¯å¾„å†…æœ‰æ­¤æ–‡ä»¶
    require_once(â€˜protobuf/GPBMetadata/Config.phpâ€™);  //æ­¥éª¤å››.8 ç”Ÿæˆçš„æ–‡ä»¶è·¯å¾„å†…æœ‰æ­¤æ–‡ä»¶</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>include 'protobuf/Config/VoiceConfig.php';   //æ­¥éª¤å››.8 ç”Ÿæˆçš„æ–‡ä»¶è·¯å¾„å†…æœ‰æ­¤æ–‡ä»¶
 
$foo = new \Config\VoiceConfig();
$foo-&gt;setSampleRate(1600);
$foo-&gt;setMicNum(8);
$foo-&gt;setVoiceserverAddress("192.168.0.136");
 
//to encode message
$packed = $foo-&gt;serializeToString();
 
//to decode message
$param2 = new \Config\VoiceConfig();
$param2-&gt;mergeFromString($packed);
 
 
$jsonArr = array("getSampleRate"=&gt; $param2-&gt;getSampleRate(),
    "setMicNum"=&gt; $param2-&gt;getMicNum(),
    "setVoiceserverAddress"=&gt; $param2-&gt;getVoiceserverAddress(),
    );
echo json_encode($jsonArr); ?&gt; 
</code></pre></div></div>

<p>10 é€šè¿‡æµè§ˆå™¨è®¿é—®test.phpï¼Œ çœ‹åˆ°å¦‚ä¸‹æ‰“å°å³OK</p>

<p>https://blog.csdn.net/lb1885727/article/details/74949883</p>

<p>https://my.oschina.net/hongjiang/blog/3111240
https://www.jianshu.com/p/1d550bb8509d</p>

<p>https://blog.csdn.net/panjican/article/details/97495326</p>

<p>https://learnku.com/articles/36277</p>

<p>http://www.suoniao.com/article/43760</p>

<p>https://segmentfault.com/a/1190000009389032</p>

<p>https://studygolang.com/articles/21667?fr=sidebar</p>

<p>https://www.bookstack.cn/read/hyperf/0fb5b9e27e11b5e6.md</p>

<p>https://www.yuanmas.com/info/4py2Bm8Kyb.html</p>

<p>http://www.suoniao.com/article/43760
https://blog.csdn.net/guyan0319/article/details/80613846?utm_source=blogxgwz8
https://segmentfault.com/a/1190000019234926</p>

<p>https://studygolang.com/articles/21709?fr=sidebar</p>

<p>https://www.jianshu.com/p/7392406e2450</p>

<p>https://segmentfault.com/a/1190000019688457?utm_source=tag-newest</p>

<p>https://www.jianshu.com/p/7b12fa3ca8e3</p>

<p>https://github.com/protocolbuffers/protobuf/issues/2971</p>

<p>https://github.com/protocolbuffers/protobuf/issues/3970
https://chromium.googlesource.com/chromium/src/third_party/+/master/protobuf/php/src/GPBMetadata/Google/Protobuf/Struct.php?autodive=0%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F%2F</p>

<p>https://www.cnblogs.com/52fhy/p/11106670.html</p>

<p>BCMath ä»»æ„ç²¾åº¦æ•°å­¦ Â¶</p>

<p>https://www.php.net/manual/zh/book.bc.php</p>

<p>PHPçš„linuxç‰ˆæœ¬éœ€è¦æ‰‹åŠ¨å®‰è£…BCMathæ‰©å±•ï¼Œåœ¨PHPçš„æºç åŒ…ä¸­é»˜è®¤åŒ…å«BCMathçš„å®‰è£…æ–‡ä»¶ï¼Œåªéœ€æ‰‹åŠ¨å®‰è£…ä¸€æ¬¡å³å¯ã€‚
        ç¼–è¯‘å®‰è£…
        1.è¿›å…¥PHPæºç åŒ…ç›®å½•ä¸‹çš„ext/bcmathç›®å½•ã€‚
        2.æ‰§è¡Œphpizeå‘½ä»¤ï¼Œphpizeå‘½ä»¤åœ¨PHPå®‰è£…ç›®å½•çš„binç›®å½•ä¸‹ï¼Œå¦‚/usr/local/php-5.6.36/bin/phpizeã€‚
        3.æ‰§è¡Œ./configure â€“with-php-config=/usr/local/php-5.6.36/bin/php-configã€‚
        4.æ‰§è¡Œmake &amp;&amp; make installã€‚
        5.å°†å®‰è£…å®Œæˆåå¾—åˆ°bcmath.soæ–‡ä»¶æ‹·è´åˆ°php.iniä¸­extension_diré…ç½®çš„ç›®å½•ä¸­ã€‚
        6.åœ¨Dynamic Extensionsé…ç½®å—ä¸‹æ·»åŠ ä¸€è¡Œextension=bcmath.soã€‚
        7.é‡å¯phpæœåŠ¡å³å¯ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    åœ¨çº¿å®‰è£…
    1.å®‰è£…BCMathï¼Œyum install php-bcmathã€‚
    2.é‡å¯httpdï¼Œhttpd -k restartã€‚
</code></pre></div></div>

:ET