I"ú"<p>docker ä¸€èˆ¬ç”¨çš„éƒ½æ˜¯aplineé•œåƒï¼Œä¸æ”¯æŒyumç­‰å·¥å…·ï¼Œä½†æ˜¯æ”¯æŒapkï¼Œç”¨apkå®‰è£…git å’Œssh ï¼Œç„¶åå°±å¯ä»¥å¼€å§‹æ‹‰ä»£ç åšå‹æµ‹ç¯å¢ƒäº†</p>

<p>apk add git
apk update
apk list |grep golang
wget https://dl.google.com/go/go1.10.3.linux-amd64.tar.gz
tar -C /usr/local -xzf go1.10.3.linux-amd64.tar.gz
export PATH=$PATH:/usr/local/go/bin
go version
git version</p>

<!-- more -->
<p>https://stackoverflow.com/questions/52056387/how-to-install-go-in-alpine-linux
https://blog.csdn.net/diyiday/article/details/80986025?utm_term=alpine%E5%AE%89%E8%A3%85git&amp;utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~sobaiduweb~default-2-80986025&amp;spm=3001.4430</p>

<p>https://wangchujiang.com/linux-command/c/apk.html
https://blog.csdn.net/liupeifeng3514/article/details/80418887</p>

<p>é—®é¢˜å¤„ç†ï¼š
#1,error: cannot run ssh: No such file or directory
fatal: unable to fork</p>

<p>apk add ssh-client
https://stackoverflow.com/questions/4845937/error-cannot-run-ssh-no-such-file-or-directory</p>

<p>apk add openssh
https://stackoverflow.com/questions/35689976/installing-openssh-on-the-alpine-docker-container</p>

<p>Permission denied (publickey).
fatal: Could not read from remote repository.</p>

<p>Please make sure you have the correct access rights
and the repository exists.</p>

<p>https://blog.csdn.net/YanceChen2013/article/details/82218356</p>

<p>ssh-keygen -t rsa -C xiazemin@test.test
ssh -v git@git.test.test
ssh-agent -s
SSH_AUTH_SOCK=/tmp/ssh-txxzz/agent.787569; export SSH_AUTH_SOCK;
SSH_AGENT_PID=787570; export SSH_AGENT_PID;
echo Agent pid 787570;</p>

<p>ssh-add ~/.ssh/id_rsa
Could not open a connection to your authentication agent.</p>

<p>eval ssh-agent -s
SSH_AUTH_SOCK=/tmp/ssh-XcrxEhL6jgQM/agent.787783; export SSH_AUTH_SOCK;
SSH_AGENT_PID=787784; export SSH_AGENT_PID;
echo Agent pid 787784;</p>

<p>ssh-add ~/.ssh/id_rsa
Could not open a connection to your authentication agent.</p>

<h1 id="ssh--t-gitgithubcom">ssh -T git@github.com</h1>
<p>The authenticity of host â€˜github.com (13.250.177.223)â€™ canâ€™t be established.
RSA key fingerprint is SHA256:x.
Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
Warning: Permanently added â€˜github.com,13.250.177.223â€™ (RSA) to the list of known hosts.
git@github.com: Permission denied (publickey).</p>

<p>ssh -T git@test.test
ssh: connect to host test.test port 22: Connection refused</p>

<p>git clone git@git.test.test:test/test.git
git checkout xiazemin/2021-05-10_sharedToMe</p>

<p>export PATH=$PATH:/usr/local/go/bin
go run main.go 
2,main.go:4:2: cannot find package â€œgo.uber.org/automaxprocsâ€ in any of:
        /usr/local/go/src/go.uber.org/automaxprocs (from $GOROOT)
        /root/go/src/go.uber.org/automaxprocs (from $GOPATH)
go ç‰ˆæœ¬å¤ªä½</p>

<p>wget https://dl.google.com/go/go1.16.2.linux-amd64.tar.gz
tar -C /usr/local -xzf go1.16.2.linux-amd64.tar.gz
go version
go version go1.16.2 linux/amd64</p>

<p>go get -u github.com/bojand/ghz/cmd/ghz
go get: module github.com/bojand/ghz/cmd/ghz: Get â€œhttps://proxy.golang.org/github.com/bojand/ghz/cmd/ghz/@v/listâ€: dial tcp 172.217.160.81:443: i/o .testeout</p>

<p>export GOPROXY=â€https://goproxy.cnâ€
/usr/local/go/bin/go get -u -v github.com/bojand/ghz/cmd/ghz</p>

<h1 id="runtesteinternalatomic">run.teste/internal/atomic</h1>
<p>/usr/local/go/src/run.teste/internal/atomic/atomic_amd64x.go:13:6: Load redeclared in this block
        previous declaration at /usr/local/go/src/run.teste/internal/atomic/atomic_amd64.go:16:24
/usr/local/go/src/run.teste/internal/atomic/atomic_amd64x.go:19:6: Loadp redeclared in this block
        previous declaration at /usr/local/go/src/run.teste/internal/atomic/atomic_amd64.go:22:32
/usr/local/go/src/run.teste/internal/atomic/atomic_amd64x.go:25:6: Load64 redeclared in this block
        previous declaration at /usr/local/go/src/run.teste/internal/atomic/atomic_amd64.go:28:26
/usr/local/go/src/run.teste/internal/atomic/atomic_amd64x.go:30:6: Xadd redeclared in this block
        previous declaration at /usr/local/go/src/run.teste/internal/atomic/atomic_amd64.go:51:37
/usr/local/go/src/run.teste/internal/atomic/atomic_amd64x.go:33:6: Xadd64 redeclared in this block
        previous declaration at /usr/local/go/src/run.teste/internal/atomic/atomic_amd64.go:54:39
/usr/local/go/src/run.teste/internal/atomic/atomic_amd64x.go:36:6: Xadduintptr redeclared in this block
        previous declaration at /usr/local/go/src/run.teste/internal/atomic/atomic_amd64.go:57:47
/usr/local/go/src/run.teste/internal/atomic/atomic_amd64x.go:39:6: Xchg redeclared in this block
        previous declaration at /usr/local/go/src/run.teste/internal/atomic/atomic_amd64.go:60:36
/usr/local/go/src/run.teste/internal/atomic/atomic_amd64x.go:42:6: Xchg64 redeclared in this block
        previous declaration at /usr/local/go/src/run.teste/internal/atomic/atomic_amd64.go:63:38
/usr/local/go/src/run.teste/internal/atomic/atomic_amd64x.go:45:6: Xchguintptr redeclared in this block
        previous declaration at /usr/local/go/src/run.teste/internal/atomic/atomic_amd64.go:66:45
/usr/local/go/src/run.teste/internal/atomic/atomic_amd64x.go:48:6: And8 redeclared in this block
        previous declaration at /usr/local/go/src/run.teste/internal/atomic/atomic_amd64.go:75:27
/usr/local/go/src/run.teste/internal/atomic/atomic_amd64x.go:48:6: too many errors</p>

<p>sudo rm -rf /usr/local/go &amp;&amp; sudo tar -C /usr/local -xzf go1.14.linux-amd64.tar.gz
è€ç‰ˆæœ¬æ²¡æœ‰å¸è½½å¹²å‡€
https://stackoverflow.com/questions/60447260/what-causes-this-run.teste-internal-error-about-previous-declaration-at-when-bui</p>

<p>rm -rf /usr/local/go
tar -C /usr/local -xzf go1.16.2.linux-amd64.tar.gz</p>

<p>export GOPATH=â€/xiazeminâ€
export GOPROXY=â€https://goproxy.cnâ€
/usr/local/go/bin/go get -u -v github.com/bojand/ghz/cmd/ghz
go: downloading github.com/bojand/ghz v0.95.0</p>

<p>./bin/ghz 
call required</p>

<p>è¿›å…¥podï¼š</p>

<p>kubectl exec -ti <your-pod-name>  -n <your-namespace>  -- /bin/sh</your-namespace></your-pod-name></p>

<p>https://www.jianshu.com/p/493b65ee3194
kubectl exec -ti test-68c8c4d876-9q2j8 â€“ /bin/sh</p>

<p>http://bluebiu.com/blog/iterm2-ssh-session-idle.html
https://www.cnblogs.com/hongdada/p/12066802.html</p>

<p>export GONOPROXY=â€git.test.testâ€
export GOPROXY=â€https://goproxy.cnâ€
/usr/local/go/bin/go run -tags musl main.go</p>
<h1 id="pkg-config-cflags---rdkafka">pkg-config â€“cflags  â€“ rdkafka</h1>
<p>pkg-config: exec: â€œpkg-configâ€: executable file not found in $PATH</p>

<p>apk add curl git pkgconfig &amp;&amp; curl https://glide.sh/get | sh
https://github.com/confluentinc/confluent-kafka-go/issues/291</p>

<h1 id="pkg-config-cflags---rdkafka-1">pkg-config â€“cflags  â€“ rdkafka</h1>
<p>Package rdkafka was not found in the pkg-config search path.
Perhaps you should add the directory containing `rdkafka.pcâ€™
to the PKG_CONFIG_PATH environment variable
Package â€˜rdkafkaâ€™, required by â€˜virtual:worldâ€™, not found
pkg-config: exit status 1</p>

<p>https://github.com/confluentinc/confluent-kafka-go/issues/224
export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/usr/lib/pkgconfig/
https://github.com/confluentinc/confluent-kafka-go#getting-started</p>

<p>vi ~/.bash_rc
export PATH=$PATH:/usr/local/go/bin
export GOPATH=â€/xiazeminâ€
export GOPROXY=â€https://goproxy.cnâ€
export GONOPROXY=â€git.test.testâ€
export PATH=$PATH:/xiazemin/bin
export PKG_CONFIG_PATH=â€/usr/local/lib/pkgconfig/â€
export CGO_ENABLED=1
source ~/.bash_rc</p>

<p>go build -tags musl ./â€¦</p>
<h1 id="pkg-config">pkg-config</h1>
<p>Please specify at least one package name on the command line.</p>

<p>mkdir -p /usr/local/lib/pkgconfig/
export CGO_ENABLED=1
apk add bash
apk add gcc
apk add make</p>

<p>git clone https://github.com/edenhill/librdkafka.git
cd librdkafka
./configure
make
sudo make install</p>

<p>###########################################################</p>
<h3 id="configure-failed">Configure failed</h3>
<p>###########################################################</p>
<h3 id="accumulated-failures">Accumulated failures:</h3>
<p>###########################################################
 cxx (WITH_CXX) C++ compiler (c++)
    module: cc
    action: fail
    reason:
command â€˜c++ â€“versionâ€™ failed:</p>

<p>https://github.com/Blizzard/node-rdkafka/issues/263
apk add g++</p>

<p>http://www.jouypub.com/2019/74f51676e092598fe52b1def31cd8bc7/</p>

<p>apk add git
apk update
apk add openssh
apk add bash
apk add g++
apk add make
ssh-keygen -t rsa -C xiazemin@test.test</p>

<p>vi ~/.bash_rc
export PATH=$PATH:/usr/local/go/bin
export GOPATH=â€/xiazeminâ€
export GOPROXY=â€https://goproxy.cnâ€
export GONOPROXY=â€git.test.testâ€
export PATH=$PATH:/xiazemin/bin
export PKG_CONFIG_PATH=â€/usr/local/lib/pkgconfig/â€
export CGO_ENABLED=1
source ~/.bash_rc</p>

<p>git clone git@git
go get -u github.com/bojand/ghz/cmd/ghz</p>
:ET