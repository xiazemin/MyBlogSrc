I"–$<p>https://github.com/GoAdminGroup/go-admin
https://demo.go-admin.cn/admin
GoAdminä»‹ç»
GoAdminæ˜¯ä¸€ä¸ªåŸºäºgolangçš„æ•°æ®å¯è§†åŒ–åå°æ­å»ºæ¡†æ¶ï¼Œå†…ç½®äº†ç®¡ç†åå°çš„rbacæƒé™ç³»ç»Ÿï¼Œç™»å½•ä»¥åŠä¸€ä¸ªcrudé€»è¾‘ä¸è§†å›¾ç”Ÿæˆçš„æ’ä»¶ã€‚æ”¯æŒä¸åŒä¸»é¢˜æ›´æ¢ï¼Œæ”¯æŒæ·»åŠ æ’ä»¶å½¢å¼æ·»åŠ ä¸åŒåº”ç”¨è¿›è¡ŒåŠŸèƒ½æ‰©å±•ã€‚</p>

<p>å®˜ç½‘ï¼šhttps://www.go-admin.cn
githubåœ°å€ï¼šhttps://github.com/GoAdminGroup
åœ¨çº¿demoï¼šhttps://demo.go-admin.cn
æ–‡æ¡£åœ°å€ï¼šhttps://book.go-admin.cn/zh</p>

<p>ä¸Šæ‰‹
è¿™é‡Œç›´æ¥å®æˆ˜ä»‹ç»å¦‚ä½•ä¸Šæ‰‹ï¼Œæœ€å°åŒ–çš„å®ç°ä¸€ä¸ªçœŸå®åº”ç”¨çš„æ•°æ®ç®¡ç†åå°ã€‚æˆ‘ä»githubæœç´¢åˆ°äº†è¿™æ ·ä¸€ä¸ªgolangçš„webä¾‹å­ï¼šeddycjy/go-gin-exampleï¼Œæˆ‘ä»¬ä»¥è¿™ä¸ªç®€å•ä¾‹å­ä¸ºä¾‹æ¥æ­å»ºè¿™ä¸ªåº”ç”¨çš„ç®¡ç†åå°ã€‚
<!-- more -->
å‡†å¤‡å·¥ä½œ
ç¬¬ä¸€æ­¥
é¦–å…ˆï¼ŒæŠŠè¿™ä¸ªåº”ç”¨çš„sqlå¯¼å…¥è¿›æ•°æ®åº“ï¼š</p>

<p>æˆªå±2020-03-31ä¸‹åˆ2.43.16.png</p>

<p>ç¬¬äºŒæ­¥
æ¥ç€æˆ‘ä»¬å®‰è£…ä¸€ä¸‹GoAdminçš„å‘½ä»¤è¡Œå·¥å…·ï¼š</p>

<p>GO111MODULE=on GOPROXY=https://goproxy.cn go install github.com/GoAdminGroup/go-admin/adm
æ³¨æ„ï¼šè¿™é‡Œä½¿ç”¨äº†go moduleçš„æ–¹å¼åŠ è½½ä¾èµ–ï¼Œä¸äº†è§£go moduleçš„è¯å…ˆç™¾åº¦ä¸€ä¸‹ã€‚åŒæ—¶è®¾ç½®äº†ä»£ç†ï¼ŒåŠ å¿«ä¾èµ–çš„ä¸‹è½½ã€‚</p>

<p>å®‰è£…å®Œåï¼Œä½ åº”è¯¥å¯ä»¥åœ¨macæˆ–linuxçš„ç»ˆç«¯æˆ–windowsçš„cmdæˆåŠŸæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>

<blockquote>
  <p>adm -V
GoAdmin CLI v1.2.7
æ³¨æ„ï¼šå¦‚æœä¸æˆåŠŸï¼Œæ£€æŸ¥ä¸€ä¸‹ä½ æ˜¯å¦æœ‰å°†$GOPATH/binè¿™ä¸ªè·¯å¾„åŠ å…¥åˆ°ä½ çš„ç¯å¢ƒå˜é‡è·¯å¾„ä¸­ï¼Œå¦‚æœä½ ä¸çŸ¥é“ä»€ä¹ˆæ˜¯ç¯å¢ƒå˜é‡è·¯å¾„å¯ä»¥ç™¾åº¦ä¸€ä¸‹å…ˆï¼Œå†è¿›è¡Œåé¢æ­¥éª¤</p>
</blockquote>

<p>ç¬¬ä¸‰æ­¥
å¯¼å…¥GoAdminæ‰€éœ€çš„sqlæ–‡ä»¶è¿›æ•°æ®åº“ä¸­ã€‚</p>

<p>æˆªå±2020-03-31ä¸‹åˆ4.03.12.png</p>

<p>åˆ°è¿™é‡Œå‡†å¤‡å·¥ä½œå®Œæ¯•ï¼Œå¼€å§‹å†™ä»£ç ã€‚</p>

<p>ç”Ÿæˆæ•°æ®æ¨¡å‹æ–‡ä»¶
æˆ‘ä»¬åœ¨ä»»æ„ä½ç½®åˆ›å»ºæˆ‘ä»¬çš„é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚å«ï¼šgo-gin-example-adminï¼Œç„¶åè¿›å…¥æ–‡ä»¶å¤¹ä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>

<blockquote>
  <p>adm generate
æ¥ç€ä¼šå‡ºç°å‡ ä¸ªèœå•ï¼Œé¦–å…ˆè®©ä½ é€‰æ‹©æ•°æ®åº“é©±åŠ¨ï¼Œæˆ‘ä»¬ç”¨çš„æ˜¯mysqlï¼Œå› æ­¤é€‰æ‹©mysqlï¼ŒæŒ‰å›è½¦è¿›è¡Œé€‰æ‹©ã€‚</p>
</blockquote>

<p>? choose a driver  [Use arrows to move, type to filter, enter to select]</p>
<blockquote>
  <p>mysql
  postgresql
  sqlite
  mssql
ç„¶åæˆ‘ä»¬å¡«å†™å¥½å¯¹åº”çš„æ•°æ®ä¿¡æ¯ï¼š</p>
</blockquote>

<p>? choose a driver mysql
? sql address 127.0.0.1
? sql port 3306
? sql username root
? sql password <em>**</em>
? sql database name gin-example-blogs
æ¥ç€é€‰æ‹©è¦ç®¡ç†çš„è¡¨æ ¼ï¼Œæˆ‘ä»¬æŒ‰ç©ºæ ¼é€‰æ‹©å…¨éƒ¨ï¼Œç„¶åå›è½¦ï¼š</p>

<p>? choose table to generate  [Use arrows to move, space to select, type to filter]</p>
<blockquote>
  <p>[x]  [select all]
  [ ]  blog_article
  [ ]  blog_auth
  [ ]  blog_tag
æ¥ç€è®¾ç½®å¥½æ–‡ä»¶çš„åŒ…åï¼Œæ•°æ®æ¨¡å‹æ–‡ä»¶çš„å¯¹åº”æ•°æ®åº“è¿æ¥åï¼ˆé»˜è®¤æ˜¯defaultï¼‰æŒ‰å›è½¦å³å¯ï¼Œä»¥åŠè¾“å‡ºè·¯å¾„ï¼Œæˆ‘ä»¬éƒ½ç›´æ¥å›è½¦ä½¿ç”¨é»˜è®¤å€¼ã€‚</p>
</blockquote>

<p>? set package name main
? set connection name default
? set file output path ./
ç„¶åå°±å¯ä»¥çœ‹åˆ°åœ¨æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆäº†å‡ ä¸ªæ–‡ä»¶ï¼š</p>

<p>.
â”œâ”€â”€ tables.go
â”œâ”€â”€ blog_article.go
â”œâ”€â”€ blog_auth.go
â””â”€â”€ blog_tag.go
ç¼–å†™main.go
ç”Ÿæˆå®Œæ•°æ®æ¨¡å‹æ–‡ä»¶åï¼Œæˆ‘ä»¬åœ¨æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºmain.goï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>

<p>package main</p>

<p>import (
    _ â€œgithub.com/GoAdminGroup/go-admin/adapter/ginâ€               // é€‚é…å™¨
    _ â€œgithub.com/GoAdminGroup/go-admin/modules/db/drivers/mysqlâ€ // sql é©±åŠ¨
    _ â€œgithub.com/GoAdminGroup/themes/adminlteâ€                    // uiä¸»é¢˜</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"github.com/GoAdminGroup/go-admin/engine"
"github.com/GoAdminGroup/go-admin/examples/datamodel"
"github.com/GoAdminGroup/go-admin/modules/config"
"github.com/GoAdminGroup/go-admin/modules/db"
"github.com/GoAdminGroup/go-admin/modules/language"
"github.com/GoAdminGroup/go-admin/template"
"github.com/GoAdminGroup/go-admin/template/chartjs"
"github.com/gin-gonic/gin"
"io/ioutil" )
</code></pre></div></div>

<p>func main() {
    r := gin.Default()</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gin.SetMode(gin.ReleaseMode)
gin.DefaultWriter = ioutil.Discard

eng := engine.Default()

template.AddComp(chartjs.NewChart())

if err := eng.AddConfig(config.Config{
    Databases: config.DatabaseList{
        "default": {
            Host:       "127.0.0.1",
            Port:       "3306",
            User:       "root",
            Pwd:        "root",
            Name:       "gin-example-blogs",
            MaxIdleCon: 50,
            MaxOpenCon: 150,
            Driver:     db.DriverMysql,
        },
    },
    UrlPrefix: "admin",
    IndexUrl:  "/",
    Debug:     true,
    Language:  language.CN,
}).
    AddGenerators(Generators).
    Use(r); err != nil {
    panic(err)
}

r.Static("/uploads", "./uploads")

eng.HTML("GET", "/admin", datamodel.GetContent)

_ = r.Run(":9033") } è¿™é‡Œç®€å•çš„è§£é‡Šä¸€ä¸‹ï¼šæˆ‘ä»¬å®ä¾‹åŒ–äº†ä¸€ä¸ªGoAdminå¼•æ“å¯¹è±¡engï¼Œç„¶åè°ƒç”¨AddConfigæ–¹æ³•ä¼ å…¥é…ç½®ï¼Œç„¶åä½¿ç”¨AddGeneratorsæ–¹æ³•ä¼ å…¥æ•°æ®æ¨¡å‹æ–‡ä»¶ï¼Œæ¥ç€è°ƒç”¨UseæŒ‚è½½åˆ°ginæ¡†æ¶ä¸Šé¢ã€‚
</code></pre></div></div>

<p>ç°åœ¨æˆ‘ä»¬å°è¯•è¿è¡Œä¸€ä¸‹ï¼š</p>

<blockquote>
  <p>go run .</p>
</blockquote>

<p>[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.</p>

<p>[GIN-debug] [WARNING] Running in â€œdebugâ€ mode. Switch to â€œreleaseâ€ mode in production.</p>
<ul>
  <li>using env:   export GIN_MODE=release</li>
  <li>using code:  gin.SetMode(gin.ReleaseMode)</li>
</ul>

<p>GoAdmin is now running.
Running in â€œdebugâ€ mode. Switch to â€œreleaseâ€ mode in production.
çœ‹åˆ°GoAdmin is now runningæ„å‘³ç€è¿è¡ŒæˆåŠŸäº†ï¼Œæ¥ç€æˆ‘ä»¬è®¿é—®ä¸€ä¸‹ï¼šhttp://localhost:9033/admin/login</p>

<p>å¯ä»¥çœ‹åˆ°å·²ç»è¿è¡Œèµ·æ¥ï¼š</p>

<p>æˆªå±2020-03-31ä¸‹åˆ3.36.02.png</p>

<p>é»˜è®¤è´¦å·å¯†ç éƒ½æ˜¯ï¼šadmin</p>

<p>è®¾ç½®èœå•ä¸ä»‹ç»æ•°æ®æ¨¡å‹æ–‡ä»¶
ç™»å½•è¿›å»åï¼Œè®¿é—®èœå•è®¾ç½®é¡µï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®ä¸€ä¸‹èœå•ï¼Œæ‰èƒ½ä»èœå•è¿›å…¥æˆ‘ä»¬çš„è¡¨æ ¼ç®¡ç†é¡µé¢ã€‚è¿™æ—¶æˆ‘ä»¬éœ€è¦çœ‹ä¸€ä¸‹æˆ‘ä»¬æ–‡ä»¶å¤¹ä¸‹çš„tables.goæ–‡ä»¶ã€‚</p>

<p>package main</p>

<p>import â€œgithub.com/GoAdminGroup/go-admin/plugins/admin/modules/tableâ€</p>

<p>// The key of Generators is the prefix of table info url.
// The corresponding value is the Form and Table data.
//
// http://://info/
//
// example:
//
// â€œblog_articleâ€ =&gt; http://localhost:9033/admin/info/blog_article
// â€œblog_authâ€ =&gt; http://localhost:9033/admin/info/blog_auth
// â€œblog_tagâ€ =&gt; http://localhost:9033/admin/info/blog_tag
//
// example end
//
var Generators = map[string]table.Generator{
    â€œblog_articleâ€: GetBlogArticleTable,
    â€œblog_authâ€:    GetBlogAuthTable,
    â€œblog_tagâ€:     GetBlogTagTable,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// generators end } è¿™ä¸ªæ–‡ä»¶å£°æ˜äº†ä¸€ä¸ªmapå˜é‡ï¼Œè¿™ä¸ªå˜é‡çš„keyæ˜¯æˆ‘ä»¬æ•°æ®è¡¨ç®¡ç†è·¯ç”±çš„å‰ç¼€ï¼Œå¯¹åº”çš„å€¼å°±æ˜¯æˆ‘ä»¬çš„æ•°æ®æ¨¡å‹ç”Ÿæˆå‡½æ•°ã€‚æ‰€ä»¥æˆ‘ä»¬æ˜ç™½äº†ï¼Œæˆ‘ä»¬èœå•éœ€è¦è®¾ç½®çš„åœ°å€ï¼š
</code></pre></div></div>

<p>æˆªå±2020-03-31ä¸‹åˆ3.56.14.png</p>

<p>æ–°å»ºå®Œæˆå¯¹åº”çš„å‡ ä¸ªèœå•åï¼Œæˆ‘ä»¬å¼ºåˆ¶åˆ·æ–°ä¸€ä¸‹é¡µé¢ï¼Œå°±å¯ä»¥çœ‹åˆ°å·¦è¾¹å·²ç»å‡ºç°äº†å¯¹åº”çš„èœå•ï¼š</p>

<p>æˆªå±2020-03-31ä¸‹åˆ3.42.39.png</p>

<p>æˆ‘ä»¬ç‚¹åšå®¢ç”¨æˆ·çš„èœå•ï¼Œè¿›å…¥ç”¨æˆ·çš„ç®¡ç†é¡µé¢ã€‚</p>

<p>æˆªå±2020-03-31ä¸‹åˆ3.49.02.png</p>

<p>æˆ‘ä»¬æƒ³è¦å¯¹è¿™ä¸ªé¡µé¢è¿›è¡Œä¸€äº›è®¾ç½®ï¼Œæ¯”æ–¹è¯´é¡µé¢çš„æ ‡é¢˜Blog_authï¼Œé¡µé¢è¡¨æ ¼çš„è¡¨å¤´å­—æ®µåã€‚è¿™æ—¶æˆ‘ä»¬éœ€è¦æ”¹ç”Ÿæˆçš„æ•°æ®æ¨¡å‹æ–‡ä»¶ï¼Œç‚¹å¼€æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶blog_auth.goï¼Œæˆ‘ä»¬å°†å…¶å¦‚ä¸‹æ”¹åŠ¨ï¼š</p>

<p>package main</p>

<p>import (
    â€œgithub.com/GoAdminGroup/go-admin/contextâ€
    â€œgithub.com/GoAdminGroup/go-admin/modules/dbâ€
    â€œgithub.com/GoAdminGroup/go-admin/plugins/admin/modules/tableâ€
    â€œgithub.com/GoAdminGroup/go-admin/template/types/formâ€
)</p>

<p>func GetBlogAuthTable(ctx *context.Context) table.Table {</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>blogAuthTable := table.NewDefaultTable(table.DefaultConfigWithDriver("mysql"))

info := blogAuthTable.GetInfo()

info.AddField("ID", "id", db.Int).FieldFilterable()
info.AddField("ç”¨æˆ·å", "username", db.Varchar)
info.AddField("å¯†ç ", "password", db.Varchar)

info.SetTable("blog_auth").SetTitle("åšå®¢ç”¨æˆ·").SetDescription("åšå®¢ç”¨æˆ·")

formList := blogAuthTable.GetForm()

formList.AddField("ID", "id", db.Int, form.Default).FieldNotAllowAdd()
formList.AddField("ç”¨æˆ·å", "username", db.Varchar, form.Text)
formList.AddField("å¯†ç ", "password", db.Varchar, form.Password)

formList.SetTable("blog_auth").SetTitle("åšå®¢ç”¨æˆ·").SetDescription("åšå®¢ç”¨æˆ·")

return blogAuthTable } ç„¶åé‡æ–°è¿è¡Œç¨‹åºï¼Œå†è®¿é—®ä¸€ä¸‹åšå®¢ç”¨æˆ·çš„ç®¡ç†é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°æ ‡é¢˜ç­‰å†…å®¹å·²ç»è¢«æ”¹å˜ï¼š
</code></pre></div></div>

<p>æˆªå±2020-03-31ä¸‹åˆ3.53.36.png</p>

<p>æ˜¯ä¸æ˜¯å¾ˆç®€å•~è¿™æ ·å°±å®Œæˆäº†æ•°æ®è¡¨æœ€åŸºç¡€çš„ç®¡ç†åå°çš„æ­å»ºã€‚
https://segmentfault.com/a/1190000022215579</p>
:ET