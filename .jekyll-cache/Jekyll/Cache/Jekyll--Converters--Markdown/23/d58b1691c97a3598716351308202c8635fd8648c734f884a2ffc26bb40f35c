I"Ì\<p>https://www.cntofu.com/book/115/line-between-lexer-and-parser.md
https://blog.csdn.net/qq_36616602/article/details/85858133
 1.å®‰è£…IDEA.
    2.åœ¨File-Settings-Pluginsä¸­å®‰è£…ANTLR v4 grammar pluginæ’ä»¶.
    3.æ–°å»ºä¸€ä¸ªMavené¡¹ç›®ï¼Œåœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ ANTLR4æ’ä»¶å’Œè¿è¡Œåº“çš„ä¾èµ–ï¼Œæ³¨æ„ä¸€å®šè¦ç”¨æœ€æ–°ç‰ˆçš„ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>é¡¹ç›®æµç¨‹ æ–°å»ºä¸€ä¸ªg4æ–‡ä»¶ï¼Œåœ¨é‡Œé¢å†™å…¥è¦è¯†åˆ«è¯­è¨€çš„è¯æ³•è§„åˆ™å’Œè¯­æ³•è§„åˆ™ Â Â Â Â  .
</code></pre></div></div>

<p>Â Â Â Â Â  2. å†™å®Œåï¼Œå³é”®prolog.g4ï¼Œé€‰æ‹©Configure ANTLRï¼Œé…ç½®outputè·¯å¾„ã€‚
Â Â Â Â Â  è¯æ³•åˆ†æå™¨å’Œè¯­æ³•åˆ†æå™¨ä¼šç”Ÿæˆåœ¨javaæ–‡ä»¶å¤¹ä¸‹çš„com.antlr.outåŒ…ä¸‹ï¼Œä¹‹åå¦‚æœå†™çš„ä¸»å‡½æ•°è½¬æ¢ç¨‹åºå’Œç”Ÿæˆçš„è¿™äº›æ–‡ä»¶ä¸åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œå°±å¯ä»¥é€šè¿‡ä¸‹é¢çš„ä»£ç æ¥å¼•ç”¨ã€‚</p>

<p>import com.antlr.out.prologLexer;
import com.antlr.out.prologParser;
Â Â Â Â  3.å³é”®prolog.g4ï¼Œé€‰æ‹©Generate ANTLR Recognizerç”Ÿæˆæ‰€æœ‰çš„ç›‘å¬å™¨Javaä»£ç ã€‚å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„ç»“æœã€‚</p>

<p>Â Â Â Â Â </p>

<p>Â  Â Â  4.æœ€åç¼–å†™ä¸»å‡½æ•°å’Œè½¬æ¢å‡½æ•°ã€‚æœ€åçš„é¡¹ç›®ç›®å½•å¦‚ä¸‹ï¼š</p>

<p>Â Â Â Â Â </p>

<p>Â  Â  æˆ‘çš„ä¸»å‡½æ•°ä»£ç å¦‚ä¸‹ï¼Œå¾…è½¬åŒ–çš„è¯­è¨€æ”¾åœ¨t.prologä¸­ï¼Œé€šè¿‡æ–‡ä»¶è¯»å–è¾“å…¥ï¼Œè°ƒç”¨è½¬æ¢ç¨‹åºæ¥å°†å¸¦è½¬æ¢è¯­è¨€è½¬æ¢æˆç›®æ ‡è¯­è¨€ã€‚</p>

<p>//ä¸»å‡½æ•°
import com.antlr.out.prologLexer;
import com.antlr.out.prologParser;
import org.antlr.v4.runtime.ANTLRInputStream;
import org.antlr.v4.runtime.CommonTokenStream;
import org.antlr.v4.runtime.tree.ParseTree;
import org.antlr.v4.runtime.tree.ParseTreeWalker;</p>

<p>import java.io.File;
import java.io.FileInputStream;</p>

<p>public class Mytranslation {
    public static void main(String[] args) throws Exception {
        File file = new File(â€œE:\prolog2NL\src\main\java\t.prologâ€);
        FileInputStream is = new FileInputStream(file);
        ANTLRInputStream input = new ANTLRInputStream(is);
        prologLexer lexer = new prologLexer(input);
        CommonTokenStream tokens = new CommonTokenStream(lexer);
        prologParser parser = new prologParser(tokens);
        parser.setBuildParseTree(true);
        ParseTree tree = parser.p_text();
        ParseTreeWalker walker = new ParseTreeWalker();
        prolog2NL.prologEmitter converter = new prolog2NL.prologEmitter();
        walker.walk(converter, tree);
        System.out.println(converter.getprolog(tree));</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>} } https://blog.csdn.net/qq_36616602/article/details/85858133 https://github.com/mantuoluozk/antlr4_json2xml/blob/master/json2xml/pom.xml https://github.com/mantuoluozk/antlr4_json2xml https://github.com/mantuoluozk/antlr4_prolog2NL &lt;!-- more --&gt;
</code></pre></div></div>

<p>Antlr ç®€ä»‹
ANTLR è¯­è¨€è¯†åˆ«çš„ä¸€ä¸ªå·¥å…· (ANother Tool for Language Recognition ) æ˜¯ä¸€ç§è¯­è¨€å·¥å…·ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªæ¡†æ¶ï¼Œå¯ä»¥é€šè¿‡åŒ…å« Java, C++, æˆ– C# åŠ¨ä½œï¼ˆactionï¼‰çš„è¯­æ³•æè¿°æ¥æ„é€ è¯­è¨€è¯†åˆ«å™¨ï¼Œç¼–è¯‘å™¨å’Œè§£é‡Šå™¨ã€‚ è®¡ç®—æœºè¯­è¨€çš„è§£æå·²ç»å˜æˆäº†ä¸€ç§éå¸¸æ™®éçš„å·¥ä½œï¼Œåœ¨è¿™æ–¹é¢çš„ç†è®ºå’Œå·¥å…·ç»è¿‡è¿‘ 40 å¹´çš„å‘å±•å·²ç»ç›¸å½“æˆç†Ÿï¼Œä½¿ç”¨ Antlr ç­‰è¯†åˆ«å·¥å…·æ¥è¯†åˆ«ï¼Œè§£æï¼Œæ„é€ ç¼–è¯‘å™¨æ¯”æ‰‹å·¥ç¼–ç¨‹æ›´åŠ å®¹æ˜“ï¼ŒåŒæ—¶å¼€å‘çš„ç¨‹åºä¹Ÿæ›´æ˜“äºç»´æŠ¤ã€‚
è¯­è¨€è¯†åˆ«çš„å·¥å…·æœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚å¤§åé¼é¼çš„ Lex å’Œ YACCï¼ŒLinux ä¸­æœ‰ä»–ä»¬çš„å¼€æºç‰ˆæœ¬ï¼Œåˆ†åˆ«æ˜¯ Flex å’Œ Bisonã€‚åœ¨ Java ç¤¾åŒºé‡Œï¼Œé™¤äº† Antlr å¤–ï¼Œè¯­è¨€è¯†åˆ«å·¥å…·è¿˜æœ‰ JavaCC å’Œ SableCC ç­‰ã€‚
å’Œå¤§å¤šæ•°è¯­è¨€è¯†åˆ«å·¥å…·ä¸€æ ·ï¼ŒAntlr ä½¿ç”¨ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æè¿°è¯­è¨€ã€‚æœ€æ–°çš„ Antlr æ˜¯ä¸€ä¸ªåŸºäº LL(*) çš„è¯­è¨€è¯†åˆ«å™¨ã€‚åœ¨ Antlr ä¸­é€šè¿‡è§£æç”¨æˆ·è‡ªå®šä¹‰çš„ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼Œè‡ªåŠ¨ç”Ÿæˆè¯æ³•åˆ†æå™¨ (Lexer)ã€è¯­æ³•åˆ†æå™¨ (Parser) å’Œæ ‘åˆ†æå™¨ (Tree Parser)ã€‚
Antlr èƒ½åšä»€ä¹ˆ
ç¼–ç¨‹è¯­è¨€å¤„ç†
è¯†åˆ«å’Œå¤„ç†ç¼–ç¨‹è¯­è¨€æ˜¯ Antlr çš„é¦–è¦ä»»åŠ¡ï¼Œç¼–ç¨‹è¯­è¨€çš„å¤„ç†æ˜¯ä¸€é¡¹ç¹é‡å¤æ‚çš„ä»»åŠ¡ï¼Œä¸ºäº†ç®€åŒ–å¤„ç†ï¼Œä¸€èˆ¬çš„ç¼–è¯‘æŠ€æœ¯éƒ½å°†è¯­è¨€å¤„ç†å·¥ä½œåˆ†ä¸ºå‰ç«¯å’Œåç«¯ä¸¤ä¸ªéƒ¨åˆ†ã€‚å…¶ä¸­å‰ç«¯åŒ…æ‹¬è¯æ³•åˆ†æã€è¯­æ³•åˆ†æã€è¯­ä¹‰åˆ†æã€ä¸­é—´ä»£ç ç”Ÿæˆç­‰è‹¥å¹²æ­¥éª¤ï¼Œåç«¯åŒ…æ‹¬ç›®æ ‡ä»£ç ç”Ÿæˆå’Œä»£ç ä¼˜åŒ–ç­‰æ­¥éª¤ã€‚</p>

<p>Antlr è‡´åŠ›äºè§£å†³ç¼–è¯‘å‰ç«¯çš„æ‰€æœ‰å·¥ä½œã€‚ä½¿ç”¨ Anltr çš„è¯­æ³•å¯ä»¥å®šä¹‰ç›®æ ‡è¯­è¨€çš„è¯æ³•è®°å·å’Œè¯­æ³•è§„åˆ™ï¼ŒAntlr è‡ªåŠ¨ç”Ÿæˆç›®æ ‡è¯­è¨€çš„è¯æ³•åˆ†æå™¨å’Œè¯­æ³•åˆ†æå™¨ï¼›æ­¤å¤–ï¼Œå¦‚æœåœ¨è¯­æ³•è§„åˆ™ä¸­æŒ‡å®šæŠ½è±¡è¯­æ³•æ ‘çš„è§„åˆ™ï¼Œåœ¨ç”Ÿæˆè¯­æ³•åˆ†æå™¨çš„åŒæ—¶ï¼ŒAntlr è¿˜èƒ½å¤Ÿç”ŸæˆæŠ½è±¡è¯­æ³•æ ‘ï¼›æœ€ç»ˆä½¿ç”¨æ ‘åˆ†æå™¨éå†æŠ½è±¡è¯­æ³•æ ‘ï¼Œå®Œæˆè¯­ä¹‰åˆ†æå’Œä¸­é—´ä»£ç ç”Ÿæˆã€‚æ•´ä¸ªå·¥ä½œåœ¨ Anltr å¼ºå¤§çš„æ”¯æŒä¸‹ï¼Œå°†å˜å¾—éå¸¸è½»æ¾å’Œæ„‰å¿«ã€‚
æ–‡æœ¬å¤„ç†</p>

<p>æ–‡æœ¬å¤„ç†
å½“éœ€è¦æ–‡æœ¬å¤„ç†æ—¶ï¼Œé¦–å…ˆæƒ³åˆ°çš„æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œä½¿ç”¨ Anltr çš„è¯æ³•åˆ†æå™¨ç”Ÿæˆå™¨ï¼Œå¯ä»¥å¾ˆå®¹æ˜“çš„å®Œæˆæ­£åˆ™è¡¨è¾¾å¼èƒ½å¤Ÿå®Œæˆçš„æ‰€æœ‰å·¥ä½œï¼›é™¤æ­¤ä¹‹å¤–ä½¿ç”¨ Anltr è¿˜å¯ä»¥å®Œæˆä¸€äº›æ­£åˆ™è¡¨è¾¾å¼éš¾ä»¥å®Œæˆçš„å·¥ä½œï¼Œæ¯”å¦‚è¯†åˆ«å·¦æ‹¬å·å’Œå³æ‹¬å·çš„æˆå¯¹åŒ¹é…ç­‰ã€‚</p>

<p>åœ¨IDEAä¸­å®‰è£…ä½¿ç”¨Antlr
åœ¨Settings-Pluginsä¸­å®‰è£…ANTLR v4 grammar plugin
æ–°å»ºä¸€ä¸ªMavené¡¹ç›®ï¼Œåœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ ANTLR4æ’ä»¶å’Œè¿è¡Œåº“çš„ä¾èµ–ã€‚æ³¨æ„ä¸€å®šè¦ç”¨æœ€æ–°ç‰ˆçš„ï¼Œä¾èµ–ï¼Œä¸çŸ¥é“æœ€æ–°ç‰ˆæœ¬å·çš„å¯ä»¥è‡ªå·±googleä¸€ä¸‹maven antlr4ã€‚</p>
<dependencies>

        <dependency>
            <groupId>org.antlr</groupId>
            <artifactId>antlr4-runtime</artifactId>
            <version>4.5.3</version>
        </dependency>
    </dependencies>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.antlr&lt;/groupId&gt;
            &lt;artifactId&gt;antlr4-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;4.3&lt;/version&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;antlr&lt;/id&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;antlr4&lt;/goal&gt;
                    &lt;/goals&gt;
                    &lt;phase&gt;none&lt;/phase&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
            &lt;configuration&gt;
                &lt;outputDirectory&gt;src/test/java&lt;/outputDirectory&gt;
                &lt;listener&gt;true&lt;/listener&gt;
                &lt;treatWarningsAsErrors&gt;true&lt;/treatWarningsAsErrors&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</code></pre></div></div>

<p>antlr4-maven-pluginç”¨äºç”Ÿäº§Javaä»£ç ï¼Œantlr4-runtimeåˆ™æ˜¯è¿è¡Œæ—¶æ‰€éœ€çš„ä¾èµ–åº“ã€‚æŠŠantlr4-maven-pluginçš„phaseè®¾ç½®æˆnoneï¼Œè¿™æ ·åœ¨Maven çš„lifecycleç§å°±ä¸ä¼šè°ƒç”¨ANTLR4ã€‚å¦‚æœä½ å¸Œæœ›æ¯æ¬¡æ„å»ºç”Ÿæˆæ–‡æ³•å¯ä»¥å°†è¿™ä¸ªé…ç½®å»æ‰ã€‚</p>

<p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæœ€ç®€å•çš„é¢†åŸŸè¯­è¨€ï¼Œä»ä¸€ä¸ªç®€å•çš„å®Œæˆç®—æœ¯è¿ç®—çš„ä¾‹å­å‡ºå‘ï¼Œè¯¦ç»†è¯´æ˜ Antlr çš„ä½¿ç”¨ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨src\main\javaä¸­æ–°å»ºä¸€ä¸ª Antlr çš„æ–‡æ³•æ–‡ä»¶ï¼Œ ä¸€èˆ¬ä»¥ .g4 ä¸ºæ–‡ä»¶ååç¼€ï¼Œå‘½åä¸º Demo.g4 ã€‚
è¡¨è¾¾å¼å®šä¹‰
æ–‡æ³•å®šä¹‰
åœ¨è¿™ä¸ªæ–‡æ³•æ–‡ä»¶ Demo.g4 ä¸­æ ¹æ® Antlr çš„è¯­æ³•è§„åˆ™æ¥å®šä¹‰ç®—æœ¯è¡¨è¾¾å¼çš„æ–‡æ³•ï¼Œæ–‡ä»¶çš„å¤´éƒ¨æ˜¯ grammar å…³é”®å­—ï¼Œå®šä¹‰æ–‡æ³•çš„åå­—ï¼Œå¿…é¡»ä¸æ–‡æ³•æ–‡ä»¶æ–‡ä»¶çš„åå­—ç›¸åŒï¼š</p>

<p>grammar Demo;
1
ä¸ºäº†ç®€å•èµ·è§ï¼Œå‡è®¾æˆ‘ä»¬çš„è‡ªå®šä¹‰è¯­è¨€åªèƒ½è¾“å…¥ä¸€ä¸ªç®—æœ¯è¡¨è¾¾å¼ã€‚ä»è€Œæ•´ä¸ªç¨‹åºæœ‰ä¸€ä¸ªè¯­å¥æ„æˆï¼Œè¯­å¥æœ‰è¡¨è¾¾å¼æˆ–è€…æ¢è¡Œç¬¦æ„æˆã€‚å¦‚æ¸…å• 1 æ‰€ç¤ºï¼š</p>

<p>æ¸…å•1.ç¨‹åºå’Œè¯­å¥</p>

<p>prog: stat 
; 
stat: expr 
  |NEWLINE 
;</p>

<table>
  <tbody>
    <tr>
      <td>åœ¨ Anltr ä¸­ï¼Œç®—æ³•çš„ä¼˜å…ˆçº§éœ€è¦é€šè¿‡æ–‡æ³•è§„åˆ™çš„åµŒå¥—å®šä¹‰æ¥ä½“ç°ï¼ŒåŠ å‡æ³•çš„ä¼˜å…ˆçº§ä½äºä¹˜é™¤æ³•ï¼Œè¡¨è¾¾å¼ expr çš„å®šä¹‰ç”±ä¹˜é™¤æ³•è¡¨è¾¾å¼ multExpr å’ŒåŠ å‡æ³•ç®—ç¬¦ (â€˜+â€™</td>
      <td>â€™-â€˜) æ„æˆï¼›åŒç†ï¼Œæ‹¬å·çš„ä¼˜å…ˆçº§é«˜äºä¹˜é™¤æ³•ï¼Œä¹˜é™¤æ³•è¡¨è¾¾å¼ multExpr é€šè¿‡åŸå­æ“ä½œæ•° atom å’Œä¹˜é™¤æ³•ç®—ç¬¦ (â€˜*â€™</td>
      <td>â€™/â€™) æ„æˆã€‚æ•´ä¸ªè¡¨è¾¾çš„å®šä¹‰å¦‚æ¸…å• 2 æ‰€ç¤ºï¼š</td>
    </tr>
  </tbody>
</table>

<p>æ¸…å•2.è¡¨è¾¾å¼</p>

<p>expr : multExpr ((â€˜+â€™|â€™-â€˜) multExpr)* 
; 
multExpr : atom ((â€˜<em>â€™|â€™/â€™) atom)</em> 
; 
atom:  â€˜(â€˜ expr â€˜)â€™ 
      | INT<br />
   | ID<br />
;</p>

<p>æœ€åéœ€è¦è€ƒè™‘çš„è¯æ³•çš„å®šä¹‰ï¼Œåœ¨ Antlr ä¸­è¯­æ³•å®šä¹‰å’Œè¯æ³•å®šä¹‰é€šè¿‡è§„åˆ™çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ¥åŒºåˆ«ï¼Œ è§„å®šè¯­æ³•å®šä¹‰ç¬¦å·çš„ç¬¬ä¸€ä¸ªå­—æ¯å°å†™ï¼Œè€Œè¯æ³•å®šä¹‰ç¬¦å·çš„ç¬¬ä¸€ä¸ªå­—æ¯å¤§å†™ã€‚ç®—æœ¯è¡¨è¾¾å¼ä¸­ç”¨åˆ°äº† 4 ç±»è®°å· ( åœ¨ Antlr ä¸­è¢«ç§°ä¸º Token)ï¼Œåˆ†åˆ«æ˜¯æ ‡è¯†ç¬¦ IDï¼Œè¡¨ç¤ºä¸€ä¸ªå˜é‡ï¼›å¸¸é‡ INTï¼Œè¡¨ç¤ºä¸€ä¸ªå¸¸æ•°ï¼›æ¢è¡Œç¬¦ NEWLINE å’Œç©ºæ ¼ WSï¼Œç©ºæ ¼å­—ç¬¦åœ¨è¯­è¨€å¤„ç†æ—¶å°†è¢«è·³è¿‡ï¼Œskip() æ˜¯è¯æ³•åˆ†æå™¨ç±»çš„ä¸€ä¸ªæ–¹æ³•ã€‚å¦‚æ¸…å• 3 æ‰€ç¤ºï¼š</p>

<p>æ¸…å• 3. è®°å·å®šä¹‰</p>

<p>ID:(â€˜aâ€™..â€™zâ€™|â€™Aâ€™..â€™Zâ€™)+;
INT:â€™0â€™..â€™9â€™+;
NEWLINE:â€™\râ€™?â€™\nâ€™;
WS:(â€˜ â€˜|â€™\tâ€™|â€™\nâ€™|â€™\râ€™)+{skip();};
1
2
3
4
Antlr æ”¯æŒå¤šç§ç›®æ ‡è¯­è¨€ï¼Œå¯ä»¥æŠŠç”Ÿæˆçš„åˆ†æå™¨ç”Ÿæˆä¸º Javaï¼ŒC#ï¼ŒCï¼ŒPythonï¼ŒJavaScript ç­‰å¤šç§è¯­è¨€ï¼Œé»˜è®¤ç›®æ ‡è¯­è¨€ä¸º Javaï¼Œé€šè¿‡ options {language=?;} æ¥æ”¹å˜ç›®æ ‡è¯­è¨€ã€‚æˆ‘ä»¬çš„ä¾‹å­ä¸­ç›®æ ‡è¯­è¨€ä¸º Javaã€‚</p>

<p>æ•´ä¸ªDemo.g4æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>

<p>grammar Demo;</p>

<p>//parser
prog:stat
;
stat:expr|NEWLINE
;</p>

<p>expr:multExpr((â€˜+â€™|â€™-â€˜)multExpr)*
;
multExpr:atom((â€˜<em>â€™|â€™/â€™)atom)</em>
;
atom:â€™(â€˜exprâ€™)â€™
    |INT
    |ID
;</p>

<p>//lexer
ID:(â€˜aâ€™..â€™zâ€™|â€™Aâ€™..â€™Zâ€™)+;
INT:â€™0â€™..â€™9â€™+;
NEWLINE:â€™\râ€™?â€™\nâ€™;
WS:(â€˜ â€˜|â€™\tâ€™|â€™\nâ€™|â€™\râ€™)+{skip();};</p>

<p>è¿è¡ŒANTLR
å³é”®Demo.g4ï¼Œé€‰æ‹©Configure ANTLRï¼Œé…ç½®outputè·¯å¾„ã€‚</p>

<p>å³é”®Demo.g4ï¼Œé€‰æ‹©Generate ANTLR Recognizerã€‚å¯ä»¥çœ‹åˆ°ç”Ÿæˆç»“æœç»“æœã€‚
å…¶ä¸­Demo.tokensä¸ºæ–‡æ³•ä¸­ç”¨åˆ°çš„å„ç§ç¬¦å·åšäº†æ•°å­—åŒ–ç¼–å·ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å…³æ³¨è¿™ä¸ªæ–‡ä»¶ã€‚DemoLexeræ˜¯Antlrç”Ÿæˆçš„è¯æ³•åˆ†æå™¨ï¼ŒDemoParseræ˜¯Antlr ç”Ÿæˆçš„è¯­æ³•åˆ†æå™¨ã€‚</p>

<p>è°ƒç”¨åˆ†æå™¨ã€‚æ–°å»ºä¸€ä¸ªMain.javaã€‚
public static void run(String expr) throws Exception{</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    //å¯¹æ¯ä¸€ä¸ªè¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œæ„é€ ä¸€ä¸ª ANTLRStringStream æµ in
    ANTLRInputStream in = new ANTLRInputStream(expr);

    //ç”¨ in æ„é€ è¯æ³•åˆ†æå™¨ lexerï¼Œè¯æ³•åˆ†æçš„ä½œç”¨æ˜¯äº§ç”Ÿè®°å·
    DemoLexer lexer = new DemoLexer(in);

    //ç”¨è¯æ³•åˆ†æå™¨ lexer æ„é€ ä¸€ä¸ªè®°å·æµ tokens
    CommonTokenStream tokens = new CommonTokenStream(lexer);

    //å†ä½¿ç”¨ tokens æ„é€ è¯­æ³•åˆ†æå™¨ parser,è‡³æ­¤å·²ç»å®Œæˆè¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æçš„å‡†å¤‡å·¥ä½œ
    DemoParser parser = new DemoParser(tokens);

    //æœ€ç»ˆè°ƒç”¨è¯­æ³•åˆ†æå™¨çš„è§„åˆ™ progï¼Œå®Œæˆå¯¹è¡¨è¾¾å¼çš„éªŒè¯
    parser.prog();
} å®Œæ•´Main.javaä»£ç ï¼š
</code></pre></div></div>

<p>import org.antlr.v4.runtime.CommonTokenStream;
import org.antlr.v4.runtime.ANTLRInputStream;</p>

<p>public class Main {</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public static void run(String expr) throws Exception{

    //å¯¹æ¯ä¸€ä¸ªè¾“å…¥çš„å­—ç¬¦ä¸²ï¼Œæ„é€ ä¸€ä¸ª ANTLRStringStream æµ in
    ANTLRInputStream in = new ANTLRInputStream(expr);

    //ç”¨ in æ„é€ è¯æ³•åˆ†æå™¨ lexerï¼Œè¯æ³•åˆ†æçš„ä½œç”¨æ˜¯äº§ç”Ÿè®°å·
    DemoLexer lexer = new DemoLexer(in);

    //ç”¨è¯æ³•åˆ†æå™¨ lexer æ„é€ ä¸€ä¸ªè®°å·æµ tokens
    CommonTokenStream tokens = new CommonTokenStream(lexer);

    //å†ä½¿ç”¨ tokens æ„é€ è¯­æ³•åˆ†æå™¨ parser,è‡³æ­¤å·²ç»å®Œæˆè¯æ³•åˆ†æå’Œè¯­æ³•åˆ†æçš„å‡†å¤‡å·¥ä½œ
    DemoParser parser = new DemoParser(tokens);

    //æœ€ç»ˆè°ƒç”¨è¯­æ³•åˆ†æå™¨çš„è§„åˆ™ progï¼Œå®Œæˆå¯¹è¡¨è¾¾å¼çš„éªŒè¯
    parser.prog();
}

public static void main(String[] args) throws Exception{

    String[] testStr={
            "2",
            "a+b+3",
            "(a-b)+3",
            "a+(b*3"
    };

    for (String s:testStr){
        System.out.println("Input expr:"+s);
        run(s);
    }
} }
</code></pre></div></div>

<p>è¿è¡ŒMain.java
å½“è¾“å…¥åˆæ³•çš„çš„è¡¨è¾¾å¼æ—¶ï¼Œåˆ†æå™¨æ²¡æœ‰ä»»ä½•è¾“å‡ºï¼Œè¡¨ç¤ºè¯­è¨€è¢«åˆ†æå™¨æ¥å—ï¼›å½“è¾“å…¥çš„è¡¨è¾¾å¼è¿åæ–‡æ³•è§„åˆ™æ—¶ï¼Œæ¯”å¦‚â€œa + (b * 3â€ï¼Œåˆ†æå™¨è¾“å‡º line 0:-1 mismatched input â€˜â€™ expecting â€˜)â€™ï¼›æç¤ºæœŸå¾…ä¸€ä¸ªå³æ‹¬å·å´é‡åˆ°äº†ç»“æŸç¬¦å·ã€‚</p>

<p>æ–‡æ³•å¯è§†åŒ–
æ‰“å¼€Antlr Previewã€‚
åœ¨Demo.g4ä¸­é€‰ä¸­ä¸€ä¸ªè¯­æ³•å®šä¹‰ç¬¦å·ï¼Œå¦‚exprã€‚å³é”®é€‰ä¸­çš„ç¬¦åˆï¼Œé€‰æ‹©Text Rule exprã€‚</p>

<p>åœ¨ANTLR Previewä¸­é€‰æ‹©input,è¾“å…¥è¡¨è¾¾å¼ï¼Œå¦‚a+b*c+4/2ã€‚åˆ™èƒ½æ˜¾ç¤ºå‡ºå¯è§†åŒ–çš„æ–‡æ³•ã€‚
https://blog.csdn.net/sherrywong1220/article/details/53697737?utm_source=blogxgwz4
https://www.antlr.org/tools.html
https://www.cnblogs.com/solvit/p/10097453.html
https://www.jianshu.com/p/628f2a4eb815
https://plugins.jetbrains.com/plugin/7358-antlr-v4-grammar-plugin
https://www.cnblogs.com/wynjauu/articles/9873231.html
æºç å®‰è£…
https://blog.csdn.net/weixin_40038847/article/details/78929254</p>
<ol>
  <li>ä¸‹è½½brewï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½åœ¨ç»ˆç«¯è¿è¡Œçš„è½¯ä»¶åŒ…å®‰è£…å™¨ï¼Œå…·ä½“å¯ä»¥å»å®˜ç½‘æŸ¥çœ‹https://brew.shã€‚æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ /usr/bin/ruby -e â€œ$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)â€ ç„¶åå›è½¦ï¼Œè¿‡åä¼šæœ‰æç¤ºï¼ŒæŒ‰ä»»ä½•é”®ç»§ç»­ã€‚ç„¶åç»ˆç«¯å°±ä¼šè‡ªè¡Œä¸‹è½½brewäº†ã€‚ç­‰å¾…ä¸€ä¼šã€‚</li>
  <li>Brewä¸‹è½½å¥½äº†ï¼Œæ¥ç€å®‰è£…wgetã€‚ç»§ç»­åœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤ brew install wget æ„æ€å°±æ˜¯ç”¨Brewä¸‹è½½wgetã€‚</li>
  <li>wget ä¸‹è½½å¥½åï¼Œå°±å¯ä»¥å®‰è£…antlräº†ã€‚æ¥ç€è¾“å…¥ä»¥ä¸‹å‘½ä»¤ wget http://www.antlr3.org/download/C/libantlr3c-3.4.tar.gz ç²˜è´´ å¤åˆ¶å°±å¯ä»¥äº†ã€‚è¿™æ—¶å€™antlr3.4ç‰ˆæœ¬çš„å‹ç¼©åŒ…å°±å®‰è£…å¥½äº†ã€‚</li>
  <li>tar -xzvf ./libantlr3c-3.4.tar.gz è¿™ä¸ªå‘½ä»¤æ˜¯è§£å‹ä¹‹å‰å®‰è£…å¥½çš„antlrçš„jaråŒ…ã€‚è§£å‹ä¹‹åï¼Œåœ¨è‡ªå·±çš„ç”¨æˆ·ç›®å½•ä¸‹ ls çœ‹æ˜¯å¦æœ‰è§£å‹å¥½çš„libantlr3c-3.4 æ–‡ä»¶ å¦‚å›¾</li>
  <li>ç„¶å cd libantlr3c-3.4 è¿›å…¥åˆ°è¿™ä¸ªæ–‡ä»¶ç›®å½•é‡Œé¢ã€‚è¿™é‡Œlibæ–‡ä»¶å¤ªé•¿ï¼Œå¯ä»¥å…ˆæŒ‰ä¸‹libï¼Œä¹‹åæŒ‰ä¸‹Tabé”®ï¼Œç¥å¥‡çš„äº‹å°±å‘ç”Ÿäº†ã€‚å¦‚å›¾</li>
</ol>

<p>å¯ä»¥è¾“å…¥ ls æŸ¥çœ‹ä¸€ä¸‹libantlré‡Œé¢çš„æ–‡ä»¶ã€‚æ¥ç€è¾“å…¥ä¸‹é¢æŒ‡ä»¤
./configure â€“enable-64bit è¿™ä¸ªå…·ä½“æ„æ€æˆ‘ä¹Ÿæ²¡æœ‰å¼„æ‡‚ï¼Œå¤§æ¦‚å°±æ˜¯æ£€æŸ¥æ˜¯å¦æ»¡è¶³64çš„é…ç½®ã€‚</p>
<ol>
  <li>å¥½äº†ï¼Œæ£€æŸ¥å¥½ä¹‹åï¼Œå†è¾“å…¥ make å‘½ä»¤ï¼Œç­‰ä¸€ä¼šå„¿ã€‚</li>
  <li>æ¥ç€è¾“å…¥ sudo make install å‘½ä»¤è¿™ä¸ªæ—¶å€™Antlr3.4ç‰ˆæœ¬å®‰è£…å¥½äº†ã€‚å¯ä»¥å»ä½ çš„ç”¨æˆ·ä¸»ç›®å½•ä¸‹æŸ¥çœ‹æ˜¯å¦æœ‰libantlr3c-3.4ï¼Œä½¿ç”¨å‘½ä»¤ ls æŸ¥çœ‹ã€‚å¦‚ä¸‹å›¾</li>
  <li>è¿™ä¸ªæ—¶å€™æœ€å¥½å¯ä»¥æ–°å»ºä¸€ä¸ªç¬¬ä¸‰æ–¹çš„æ–‡ä»¶ç›®å½• mkdir thirdpartï¼Œæ–¹ä¾¿ç®¡ç†å’Œä½¿ç”¨ï¼Œè¿™é‡Œæˆ‘ä»¬å–åä¸º tirdpart ã€‚</li>
  <li>è¿›å…¥æ–°å»ºå¥½çš„æ–‡ä»¶ç›®å½• cd thirdpart ï¼Œå†åœ¨é‡Œé¢æ–°å»ºä¸¤ä¸ªæ–‡ä»¶ç›®å½• mkdir include ï¼ˆè¿™é‡Œé¢ä¸»è¦æ˜¯æ”¾å¤´æ–‡ä»¶çš„ï¼‰å’Œ mkdir libs ï¼ˆè¿™é‡Œé¢æ˜¯æ”¾ä¸€ä¸ªå«åš libantlr3c.açš„é™æ€é“¾æ¥åº“ï¼‰ã€‚ç„¶ååœ¨thirdpartç›®å½•ä¸‹è¾“å…¥ä¸‹é¢çš„å‘½ä»¤
cp ../libantlr3c-3.4/include/* ./include è¿™æ˜¯æŠŠå¤´æ–‡ä»¶æ‹·è´åˆ°å‰é¢å»ºå¥½çš„å¤´æ–‡ä»¶å¤¹ä¸­ã€‚
æ¥ç€è¾“å…¥ cp ../libantlr3c-3.4/.libs/libantlr3c.a ./libs è¿™æ˜¯æ‹·è´é™æ€é“¾æ¥åº“åˆ°æ–°å»ºçš„libsä¸­ã€‚
è§£é‡Šä¸€ä¸‹ï¼Œcp æ˜¯å¤åˆ¶å‘½ä»¤ï¼Œæ ¼å¼æ˜¯ cp A B ï¼Œä¸‰è€…ä¸­é—´éƒ½æœ‰ä¸€ä¸ªç©ºæ ¼ï¼ŒAä»£è¡¨çš„æ˜¯ä½ è¦æ‹·è´æ–‡ä»¶çš„è·¯å¾„ è€ŒBè¡¨ç¤ºæ‹·è´åˆ°ä»€ä¹ˆæ–‡ä»¶ä¸‹çš„è·¯å¾„ã€‚../è¡¨ç¤ºä¸Šå±‚ç›®å½• ./è¡¨ç¤ºå½“å‰ç›®å½•ä¸‹ .* è¡¨ç¤ºéšè—çš„æ–‡ä»¶å¤¹ * å¯ä»¥æ˜¯æ–‡ä»¶åï¼Œä¾‹å¦‚.libs è¡¨ç¤ºè¿™ä¸ªéšè—æ–‡ä»¶æ˜¯.libs ã€‚/*è¡¨ç¤ºç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ã€‚</li>
  <li>å»ºå¥½ä¸Šé¢çš„æ–‡ä»¶ç›®å½•åï¼Œåœ¨thirdpart é‡Œé¢ç”¨vimç¼–è¾‘å™¨å†™ä¸€ä¸ª åå­—æ˜¯ExprCppTree.g çš„è¯­æ³•æ–‡ä»¶ï¼Œæ³¨æ„åå­—å¤§å°å†™ä¸€å®šè¦ä¸€æ ·ï¼Œå‘½ä»¤æ˜¯ vim ExprCppTree.g ã€‚å›è½¦è¿›å…¥vimæ¨¡å¼ï¼ŒæŒ‰iè¿›å…¥è¾“å…¥æ¨¡å¼ï¼Œç„¶åæŠŠä¸‹é¢çš„ä»£ç å¤åˆ¶ä¸‹æ¥ã€‚</li>
</ol>

<p>grammar ExprCppTree;</p>

<p>options {
    language = C;
    output = AST;
    ASTLabelType=pANTLR3_BASE_TREE;
}</p>

<p>@header {
    #include <assert.h>
}</assert.h></p>

<p>// The suffix â€˜^â€™ means make it a root.
// The suffix â€˜!â€™ means ignore it.</p>

<p>expr: multExpr ((PLUS^ | MINUS^) multExpr)*
    ;</p>

<p>PLUS: â€˜+â€™;
MINUS: â€˜-â€˜;</p>

<p>multExpr
    : atom (TIMES^ atom)*
    ;</p>

<p>TIMES: â€˜*â€™;</p>

<p>atom: INT
    | ID
    | â€˜(â€˜! expr â€˜)â€™!
    ;</p>

<p>stmt: expr NEWLINE -&gt; expr  // tree rewrite syntax
    | ID ASSIGN expr NEWLINE -&gt; ^(ASSIGN ID expr) // tree notation
    | NEWLINE -&gt;   // ignore
    ;</p>

<p>ASSIGN: â€˜=â€™;</p>

<p>prog
    : (stmt {pANTLR3_STRING s = $stmt.tree-&gt;toStringTree($stmt.tree);
             assert(s-&gt;chars);
             printf(â€œ tree \%s\nâ€, s-&gt;chars);
            }
        )+
    ;</p>

<p>ID: (â€˜aâ€™..â€™zâ€™|â€™Aâ€™..â€™Zâ€™)+ ;
INT: â€˜~â€™? â€˜0â€™..â€™9â€™+ ;
NEWLINE: â€˜\râ€™? â€˜\nâ€™ ;
WS : (â€˜ â€˜|â€™\tâ€™)+ {$channel = HIDDEN;};</p>

<p>ç¼–è¾‘å¥½åï¼ŒæŒ‰escé”®é€€å‡ºç¼–è¾‘æ¨¡å¼ï¼Œç„¶åä¿å­˜é€€å‡º å‘½ä»¤ :wq ã€‚</p>
<ol>
  <li>è¿™ä¸ªæ—¶å€™å°±å¯ä»¥åœ¨thirdpartæ–‡ä»¶é‡Œé¢çœ‹åˆ°å‰é¢å†™å¥½çš„ExprCppTree.gæ–‡ä»¶ã€‚æ¥ç€æ‹·è´ä¸‹é¢çš„å‘½ä»¤
java -jar ../antlr-3.4-complete.jar ./ExprCppTree.g å›è½¦
ä½¿ç”¨javaç¼–è¯‘å‰é¢çš„é‚£ä¸ªè¯­æ³•æ–‡ä»¶ã€‚ç¼–è¯‘ä¹‹åï¼Œåœ¨thirdpartä¸‹é¢å°±å¯ä»¥çœ‹åˆ°ä»¥ä¸‹çš„å‡ ä¸ªæ–‡ä»¶ ExprCppTree.g ExprCppTreeLexer.c ExprCppTreeLexer.h ExprCppTreeParser.c ExprCppTreeParser.h ExprCppTree.tokensã€‚</li>
  <li>æ¥ä¸‹æ¥ç¼–å†™é©±åŠ¨æ–‡ä»¶ï¼Œä½¿ç”¨å‘½ä»¤ vim main.cpp å»ºç«‹ä¸€ä¸ªæ–‡ä»¶ï¼Œç„¶åå¤åˆ¶ä¸‹é¢çš„ä»£ç </li>
</ol>

<p>#include â€œExprCppTreeLexer.hâ€
#include â€œExprCppTreeParser.hâ€
#include <cassert>
#include &lt;map&gt;
#include <string>
#include <iostream></iostream></string></cassert></p>

<p>using std::map;
using std::string;
using std::cout;</p>

<p>class ExprTreeEvaluator {
    map&lt;string,int&gt; memory;
public:
    int run(pANTLR3_BASE_TREE);
};</p>

<p>pANTLR3_BASE_TREE getChild(pANTLR3_BASE_TREE, unsigned);
const char* getText(pANTLR3_BASE_TREE tree);</p>

<p>int main(int argc, char* argv[])
{
  pANTLR3_INPUT_STREAM input;
  pExprCppTreeLexer lex;
  pANTLR3_COMMON_TOKEN_STREAM tokens;
  pExprCppTreeParser parser;</p>

<p>assert(argc &gt; 1);
  input = antlr3FileStreamNew((pANTLR3_UINT8)argv[1],ANTLR3_ENC_8BIT);
  lex = ExprCppTreeLexerNew(input);</p>

<p>tokens = antlr3CommonTokenStreamSourceNew(ANTLR3_SIZE_HINT,
                                            TOKENSOURCE(lex));
  parser = ExprCppTreeParserNew(tokens);</p>

<p>ExprCppTreeParser_prog_return r = parser-&gt;prog(parser);</p>

<p>pANTLR3_BASE_TREE tree = r.tree;</p>

<p>ExprTreeEvaluator eval;
  int rr = eval.run(tree);
  cout Â«Â â€œEvaluator result: â€œ Â«Â rr Â«Â â€˜\nâ€™;</p>

<p>parser-&gt;free(parser);
  tokens-&gt;free(tokens);
  lex-&gt;free(lex);
  input-&gt;close(input);</p>

<p>return 0;
}</p>

<p>int ExprTreeEvaluator::run(pANTLR3_BASE_TREE tree)
{
    pANTLR3_COMMON_TOKEN tok = tree-&gt;getToken(tree);
    if(tok) {
        switch(tok-&gt;type) {
        case INT: {
            const char* s = getText(tree);
            if(s[0] == â€˜~â€™) {
                return -atoi(s+1);
            }
            else {
                return atoi(s);
            }
        }
        case ID: {
            string var(getText(tree));
            return memory[var];
        }
        case PLUS:
            return run(getChild(tree,0)) + run(getChild(tree,1));
        case MINUS:
            return run(getChild(tree,0)) - run(getChild(tree,1));
        case TIMES:
            return run(getChild(tree,0)) * run(getChild(tree,1));
        case ASSIGN: {
            string var(getText(getChild(tree,0)));
            int val = run(getChild(tree,1));
            memory[var] = val;
            return val;
        }
        default:
            cout Â«Â â€œUnhandled token: #â€ Â«Â tok-&gt;type Â«Â â€˜\nâ€™;
            return -1;
        }
    }
    else {
        int k = tree-&gt;getChildCount(tree);
        int r = 0;
        for(int i = 0; i &lt; k; i++) {
            r = run(getChild(tree, i));
        }
        return r;
    }
}</p>

<p>pANTLR3_BASE_TREE getChild(pANTLR3_BASE_TREE tree, unsigned i)
{
    assert(i &lt; tree-&gt;getChildCount(tree));
    return (pANTLR3_BASE_TREE) tree-&gt;getChild(tree, i);
}</p>

<p>const char* getText(pANTLR3_BASE_TREE tree)
{
    return (const char*) tree-&gt;getText(tree)-&gt;chars;
}</p>

<p>ç„¶åä¿å­˜é€€å‡ºã€‚</p>
<ol>
  <li>æ¥ä¸‹æ¥æˆ‘ä»¬ç¼–è¯‘ç”Ÿæˆå¯æ‰§è¡Œçš„æ–‡ä»¶test è¾“å…¥ä¸‹é¢çš„å‘½ä»¤
g++ -g -Wall .cpp .c ../lantlr3c/lib/libantlr3c.a -o test -I. -I ../lantlr3c/include/ è¿™æ—¶å€™å°±ä¼šåœ¨thirdpartæ–‡ä»¶ä¸‹çœ‹åˆ°testçš„æ–‡ä»¶ã€‚</li>
  <li>ç„¶åæˆ‘ä»¬åœ¨thirdpartç›®å½•ä¸‹ æ–°å»ºä¸€ä¸ªæ–‡ä»¶æµ‹è¯•ä¸€ä¸‹ cat &gt; ./data æ¥ç€è¾“å…¥3-4*5-6 ç„¶åå›è½¦æ¢è¡Œï¼ŒæŒ‰control+dé€€å‡ºã€‚æ¥ç€ è¾“å…¥./test ./data å›è½¦ï¼Œå°±å¯ä»¥çœ‹åˆ°ä¸‹é¢çš„å†…å®¹äº†ã€‚
ç”Ÿæˆä¸€ä¸ªtree è¡¨ç¤ºå‡ºè¿™ä¸ªè¿ç®—å¼çš„è¿ç®—è¿‡ç¨‹ã€‚ç”±å†…åˆ°å¤–ï¼Œè¿ç®—ç¬¦å·åœ¨æœ€å‰é¢ï¼Œæ¥ç€æ˜¯ä¸¤ä¸ªå‚ä¸è¿ç®—çš„æ•°ã€‚</li>
</ol>

<p>maven åˆå§‹åŒ–é¡¹ç›®</p>
<h1 id="maven-ä½¿ç”¨åŸå‹archetypeæ¦‚å¿µä¸ºç”¨æˆ·æä¾›äº†å¤§é‡ä¸åŒç±»å‹çš„å·¥ç¨‹æ¨¡ç‰ˆ614-ä¸ª">Maven ä½¿ç”¨åŸå‹ï¼ˆArchetypeï¼‰æ¦‚å¿µä¸ºç”¨æˆ·æä¾›äº†å¤§é‡ä¸åŒç±»å‹çš„å·¥ç¨‹æ¨¡ç‰ˆï¼ˆ614 ä¸ªï¼‰ã€‚</h1>
<h1 id="åˆ›å»ºç®€å•-java-é¡¹ç›®">åˆ›å»ºç®€å• java é¡¹ç›®</h1>
<p>mvn archetype:generate</p>

<p>mvn archetype:generate \<br />
-DgroupId=org.darebeat \<br />
-DartifactId=HelloWorld \<br />
-DarchetypeArtifactId=maven-archetype-quickstart \<br />
-DarchetypeCatalog=local \<br />
-DinteractiveMode=false</p>

<h1 id="åˆ›å»º-web-åº”ç”¨">åˆ›å»º Web åº”ç”¨</h1>
<p>mvn archetype:generate \<br />
-DgroupId=org.darebeat \<br />
-DartifactId=HelloWorld \<br />
-DarchetypeArtifactId=maven-archetype-webapp \<br />
-DarchetypeCatalog=local \<br />
-DinteractiveMode=false</p>

<p>æ‰“åŒ…ï¼š</p>
<h1 id="1æ¸…ç†ç›®æ ‡ç›®å½•clean">1.æ¸…ç†ç›®æ ‡ç›®å½•ï¼ˆcleanï¼‰</h1>
<h1 id="2æ‰“åŒ…å·¥ç¨‹æ„å»ºçš„è¾“å‡ºä¸º-jarpackageæ–‡ä»¶">2.æ‰“åŒ…å·¥ç¨‹æ„å»ºçš„è¾“å‡ºä¸º jarï¼ˆpackageï¼‰æ–‡ä»¶</h1>
<h1 id="3æµ‹è¯•æŠ¥å‘Šå­˜æ”¾åœ¨-maventargetsurefire-reports-æ–‡ä»¶å¤¹ä¸­">3.æµ‹è¯•æŠ¥å‘Šå­˜æ”¾åœ¨ maven\target\surefire-reports æ–‡ä»¶å¤¹ä¸­</h1>
<h1 id="4æ‰“åŒ…å¥½çš„-jar-æ–‡ä»¶åœ¨-consumerbankingtarget-ä¸­">4.æ‰“åŒ…å¥½çš„ jar æ–‡ä»¶åœ¨ consumerBanking\target ä¸­</h1>
<p>cd maven<br />
mvn clean package</p>

<p>ä¸‹è½½ä¾èµ–
 mvn -f pom.xml dependency:copy-dependencies  ã€‚åœ¨æœ¬åœ°ä»“åº“å°±å¯ä»¥çœ‹åˆ°ä¾èµ–åŒ…ä¸‹è½½ä¸‹æ¥äº†ã€‚
 [INFO] â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
[INFO] BUILD SUCCESS</p>

<p>ANTLR Tool version 4.8 used for code generation does not match the current runtime version 4.7.2ANTLR Tool version 4.8 used for code generation does not match the current runtime version 4.7.2324</p>

<p>https://www.jianshu.com/p/628f2a4eb815
https://www.cnblogs.com/niutao/p/11634973.html</p>

<p>Could not resolve dependencies for project antlr:calc:jar:1.0-SNAPSHOT: Could not find artifact org.antlr:antlr4:jar:4.8.1 in central (http://com:80/artifactory/libs-release) -&gt; [Help 1]</p>

<p>https://www.antlr.org/download/</p>

<p>$curl -O  https://www.antlr.org/download/antlr-4.8-complete.jar</p>

<p>https://github.com/antlr/antlr4/blob/master/doc/go-target.md
https://www.antlr.org/download.html</p>

:ET