I"é.<p>github.com/google/gops
https://mp.weixin.qq.com/s/mlqiNUN1W1MC05ZsPbkgvg
åœ¨ç±» Unix ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šä½¿ç”¨ ps å‘½ä»¤æ¥æŸ¥çœ‹ç³»ç»Ÿå½“å‰æ‰€è¿è¡Œçš„è¿›ç¨‹ä¿¡æ¯ï¼Œè¯¥å‘½ä»¤ä¸ºæˆ‘ä»¬æä¾›äº†è¾ƒå¤§çš„å¸®åŠ©ï¼Œèƒ½å¤Ÿå¿«é€Ÿçš„å®šä½åˆ°æŸäº›è¿›ç¨‹çš„è¿è¡Œæƒ…å†µå’ŒçŠ¶æ€ã€‚</p>

<p>è€Œåœ¨ Go è¯­è¨€ä¸­ï¼Œä¹Ÿæœ‰ç±»ä¼¼çš„å‘½ä»¤å·¥å…·ï¼Œé‚£å°±æ˜¯ gopsï¼ˆGo Process Statusï¼‰ï¼Œgops æ˜¯ç”± Google å®˜æ–¹å‡ºå“çš„ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œä¸ ps å‘½ä»¤çš„åŠŸèƒ½ç±»ä¼¼ï¼Œèƒ½å¤ŸæŸ¥çœ‹å¹¶è¯Šæ–­å½“å‰ç³»ç»Ÿä¸­ Go ç¨‹åºçš„è¿è¡ŒçŠ¶æ€åŠå†…éƒ¨æƒ…å†µï¼Œåœ¨ä¸€äº›ä½¿ç”¨åœºæ™¯ä¸­å…·æœ‰è¾ƒå¤§çš„å­˜åœ¨æ„ä¹‰ï¼Œå±äºå¸¸ç”¨å·¥å…·ï¼Œå› æ­¤åœ¨æœ¬æ–‡ä¸­æˆ‘ä»¬å°†å¯¹ gops è¿›è¡Œå…¨é¢çš„ä½¿ç”¨å’Œä»‹ç»ã€‚</p>

<p>åŸºæœ¬ä½¿ç”¨</p>

<p>æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªç¤ºä¾‹é¡¹ç›®ï¼Œç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œä¸‹è¿°æ¨¡å—å®‰è£…å‘½ä»¤ï¼š
$ go get -u github.com/google/gops</p>

<p>å†™å…¥å¦‚ä¸‹å¯åŠ¨ä»£ç ï¼š
import (
 â€¦
 â€œgithub.com/google/gops/agentâ€
)</p>

<p>func main() {
 // åˆ›å»ºå¹¶ç›‘å¬ gops agentï¼Œgops å‘½ä»¤ä¼šé€šè¿‡è¿æ¥ agent æ¥è¯»å–è¿›ç¨‹ä¿¡æ¯
 // è‹¥éœ€è¦è¿œç¨‹è®¿é—®ï¼Œå¯é…ç½® agent.Options{Addr: â€œ0.0.0.0:6060â€}ï¼Œå¦åˆ™é»˜è®¤ä»…å…è®¸æœ¬åœ°è®¿é—®
 if err := agent.Listen(agent.Options{}); err != nil {
  log.Fatalf(â€œagent.Listen err: %vâ€, err)
 }</p>

<p>http.HandleFunc(â€œ/helloâ€, func(w http.ResponseWriter, r *http.Request) {
  _, _ = w.Write([]byte(<code class="language-plaintext highlighter-rouge">Goè¯­è¨€ç¼–ç¨‹ä¹‹æ—…</code>))
 })
 _ := http.ListenAndServe(â€œ:6060â€, http.DefaultServeMux)
}</p>

<p>åœ¨å®Œæˆç¤ºä¾‹å¯åŠ¨ä»£ç çš„å†™å…¥åï¼Œæˆ‘ä»¬å¯åŠ¨è¯¥ç¨‹åºï¼Œå¹¶åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ gops å‘½ä»¤è¿›è¡ŒæŸ¥çœ‹ï¼š
3739  3725  main  * go1.14   /private/var/folders/jm/â€¦/b001/exe/main
3725  71093 go      go1.14   /usr/local/Cellar/go/1.14/libexec/bin/go
62357 46131 go      go1.14   /usr/local/Cellar/go/1.14/libexec/bin/go
3872  3742  gops    go1.14   /Users/eddycjy/go/bin/gops
62379 62357 main    go1.14   /private/var/folders/jm/â€¦/b001/exe/main
â€¦</p>

<p>åœ¨ä¸Šè¿°è¾“å‡ºä¸­ï¼Œä½ å¾ˆå¿«å°±å‘ç°æœ‰ä¸€ç‚¹ä¸ä¸€æ ·ï¼Œé‚£å°±æ˜¯ä¸ºä»€ä¹ˆæŸä¸€è¡Œçš„è¾“å‡ºç»“æœä¸­ä¼šåŒ…å«ä¸€ä¸ª * ç¬¦å·ï¼Œå¦‚ä¸‹ï¼š
3739  3725  main  * go1.14   /private/var/folders/jm/â€¦/b001/exe/main</p>

<p>è¿™å®é™…ä¸Šä»£è¡¨ç€è¯¥ Go è¿›ç¨‹ï¼ŒåŒ…å«äº† agentï¼Œå› æ­¤å®ƒå¯ä»¥å¯ç”¨æ›´å¼ºå¤§çš„è¯Šæ–­åŠŸèƒ½ï¼ŒåŒ…æ‹¬å½“å‰å †æ ˆè·Ÿè¸ªï¼ŒGoç‰ˆæœ¬ï¼Œå†…å­˜ç»Ÿè®¡ä¿¡æ¯ç­‰ç­‰ã€‚</p>

<p>åœ¨æœ€åä¹Ÿæœ‰ä¸€ä¸ª main çš„ Go è¿›ç¨‹ï¼Œå®ƒä¸åŒ…å« * ç¬¦å·ï¼Œè¿™æ„å‘³ç€å®ƒæ˜¯ä¸€ä¸ªæ™®é€šçš„ Go ç¨‹åºï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æ¤å…¥ agentï¼Œåªèƒ½ä½¿ç”¨æœ€åŸºæœ¬çš„åŠŸèƒ½ã€‚
<!-- more --></p>

<p>gops å·¥å…·åŒ…å«äº†å¤§é‡çš„åˆ†æå‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ gops help è¿›è¡ŒæŸ¥çœ‹ï¼š
$ gops help
gops is a tool to list and diagnose Go processes.</p>

<p>Usage:
  gops <cmd> &lt;pid|addr&gt; ...
  gops <pid> # displays process info
  gops help  # displays this help message</pid></cmd></p>

<p>Commands:
  stack      Prints the stack trace.
  gc         Runs the garbage collector and blocks until successful.
  setgc      Sets the garbage collection target percentage.
  memstats   Prints the allocation and garbage collection stats.
  version    Prints the Go version used to build the program.
  stats      Prints runtime stats.
  trace      Runs the runtime tracer for 5 secs and launches â€œgo tool traceâ€.
  pprof-heap Reads the heap profile and launches â€œgo tool pprofâ€.
  pprof-cpu  Reads the CPU profile and launches â€œgo tool pprofâ€.</p>

<p>æŸ¥çœ‹æŒ‡å®šè¿›ç¨‹ä¿¡æ¯ï¼š
$ gops <pid>
parent PID: 3725
threads: 7
memory usage: 0.042%
cpu usage: 0.003%
username: eddycjy
cmd+args: /var/folders/jm/pk20jr_s74x49kqmyt87n2800000gn/T/go-build943691423/b001/exe/main
elapsed time: 10:56
local/remote: 127.0.0.1:59369 &lt;-&gt; :0 (LISTEN)
local/remote: *:6060 &lt;-&gt; :0 (LISTEN)</pid></p>

<p>è·å– Go è¿›ç¨‹çš„æ¦‚è¦ä¿¡æ¯ï¼ŒåŒ…æ‹¬çˆ¶çº§PIDã€çº¿ç¨‹æ•°ã€å†…å­˜/CPUä½¿ç”¨ç‡ã€è¿è¡Œè€…çš„è´¦æˆ·åã€è¿›ç¨‹çš„å¯åŠ¨å‘½ä»¤è¡Œå‚æ•°ã€å¯åŠ¨åæ‰€ç»è¿‡çš„æ—¶é—´ä»¥åŠ gops çš„ agent ç›‘å¬ä¿¡æ¯ï¼ˆè‹¥æ— æ¤å…¥ agentï¼Œåˆ™æ²¡æœ‰è¿™é¡¹ä¿¡æ¯ï¼‰ã€‚</p>

<p>æŸ¥çœ‹è°ƒç”¨æ ˆä¿¡æ¯ï¼š
$ gops stack 3739
goroutine 19 [running]:
runtime/pprof.writeGoroutineStacks(0x1385aa0, 0xc000132038, 0x30, 0xd0)
 â€¦
 /Users/eddycjy/go/src/github.com/google/gops/agent/agent.go:185 +0x1af
github.com/google/gops/agent.listen()
 /Users/eddycjy/go/src/github.com/google/gops/agent/agent.go:133 +0x2bf
created by github.com/google/gops/agent.Listen
 /Users/eddycjy/go/src/github.com/google/gops/agent/agent.go:111 +0x36b</p>

<p>goroutine 1 [IO wait]:
internal/poll.runtime_pollWait(0x2f55e38, 0x72, 0x0)
 /usr/local/Cellar/go/1.14/libexec/src/runtime/netpoll.go:203 +0x55
 â€¦</p>

<p>è·å–å¯¹åº”è¿›ç¨‹çš„ä»£ç è°ƒç”¨å †æ ˆä¿¡æ¯ï¼Œå¯ç”¨äºåˆ†æè°ƒç”¨é“¾è·¯ã€‚</p>

<p>æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µï¼š
$ gops memstats 3739
alloc: 1.15MB (1205272 bytes)
total-alloc: 1.15MB (1205272 bytes)
sys: 69.45MB (72827136 bytes)
lookups: 0
mallocs: 644
frees: 12
heap-alloc: 1.15MB (1205272 bytes)
heap-sys: 63.66MB (66748416 bytes)
heap-idle: 62.05MB (65060864 bytes)
heap-in-use: 1.61MB (1687552 bytes)
heap-released: 62.02MB (65028096 bytes)
heap-objects: 632
â€¦</p>

<p>è·å– Go åœ¨è¿è¡Œæ—¶çš„å½“å‰å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œä¸»è¦æ˜¯ runtime.MemStats çš„ç›¸å…³å­—æ®µä¿¡æ¯ã€‚</p>

<p>æŸ¥çœ‹è¿è¡Œæ—¶ä¿¡æ¯ï¼š
$ gops stats 3739
goroutines: 2
OS threads: 8
GOMAXPROCS: 4
num CPU: 4</p>

<p>è·å– Go è¿è¡Œæ—¶çš„åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬å½“å‰çš„ Goroutine æ•°é‡ã€ç³»ç»Ÿçº¿ç¨‹ã€GOMAXPROCS æ•°å€¼ä»¥åŠå½“å‰ç³»ç»Ÿçš„ CPU æ ¸æ•°ã€‚</p>

<p>æŸ¥çœ‹ trace ä¿¡æ¯ï¼š
$ gops trace 3739
Tracing now, will take 5 secsâ€¦
Trace dump saved to: /var/folders/jm/pk20jr_s74x49kqmyt87n2800000gn/T/trace092133110
Parsing traceâ€¦
Splitting traceâ€¦
Opening browser. Trace viewer is listening on http://127.0.0.1:53811</p>

<p>ä¸ go tool trace ä½œç”¨åŸºæœ¬ä¸€è‡´ã€‚</p>

<p>æŸ¥çœ‹ profile ä¿¡æ¯ï¼š
$ gops pprof-cpu 3739
Profiling CPU now, will take 30 secsâ€¦
Profile dump saved to: /var/folders/jm/pk20jr_s74x49kqmyt87n2800000gn/T/profile563685966
Binary file saved to: /var/folders/jm/pk20jr_s74x49kqmyt87n2800000gn/T/binary265411413
File: binary265411413
Type: cpu
â€¦
(pprof)</p>

<p>$ gops pprof-heap 3739
Profile dump saved to: /var/folders/jm/pk20jr_s74x49kqmyt87n2800000gn/T/profile967076057
Binary file saved to: /var/folders/jm/pk20jr_s74x49kqmyt87n2800000gn/T/binary904879716
File: binary904879716
Type: inuse_space
â€¦
(pprof)</p>

<p>ä¸ go tool pprof ä½œç”¨åŸºæœ¬ä¸€è‡´ã€‚</p>

<p>ä½ æ€ä¹ˆçŸ¥é“æˆ‘æ˜¯è°</p>

<p>åœ¨å­¦ä¹ äº† gops çš„ä½¿ç”¨åï¼Œæˆ‘ä»¬çªç„¶å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯ gops æ˜¯æ€ä¹ˆçŸ¥é“å“ªäº›è¿›ç¨‹æ˜¯ä¸ Go ç›¸å…³çš„è¿›ç¨‹ï¼Œå¦‚æœæ˜¯æ¤å…¥äº† agent çš„åº”ç”¨ç¨‹åºè¿˜å¥½è¯´ï¼Œå¯ä»¥ç†è§£ä¸ºåŸ‹å…¥äº†è¯†åˆ«ç‚¹ã€‚ä½†å®é™…æƒ…å†µæ˜¯ï¼Œæ²¡æœ‰æ¤å…¥ agent çš„ Go ç¨‹åºä¹Ÿè¢«è¯†åˆ«åˆ°äº†ï¼Œè¯´æ˜ gops æœ¬èº«å¹¶ä¸æ˜¯è¿™ä¹ˆå®ç°çš„ï¼Œè€ƒè™‘æ¤å…¥agent åº”å½“åªæ˜¯ç”¨äºè¯Šæ–­ä¿¡æ¯çš„æ‹“å±•ä½¿ç”¨ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªè¯†åˆ«ç‚¹ï¼Œé‚£ä¹ˆ gops åˆ°åº•æ˜¯æ€ä¹ˆå‘ç°å“ªäº›è¿›ç¨‹æ˜¯ Go ç›¸å…³çš„å‘¢ï¼Ÿ</p>

<p>æˆ‘ä»¬å›å½’é—®é¢˜çš„å‰ç½®éœ€æ±‚ï¼Œå‡è®¾æˆ‘ä»¬æƒ³çŸ¥é“å“ªäº›è¿›ç¨‹ä¸ Go ç›¸å…³ï¼Œé‚£ä¹ˆç¬¬ä¸€æ­¥æˆ‘ä»¬è¦å…ˆçŸ¥é“æˆ‘ä»¬å½“å‰ç³»ç»Ÿä¸­éƒ½è¿è¡Œäº†å“ªäº›è¿›ç¨‹ï¼Œè¿™äº›è®°å½•åœ¨å“ªé‡Œæœ‰ï¼Ÿ</p>

<p>è®¤çœŸæ€è€ƒä¸€ä¸‹ï¼Œç­”æ¡ˆä¹Ÿå°±å‘¼ä¹‹æ¬²å‡ºäº†ï¼Œå‡è®¾æ˜¯ Linux ç›¸å…³çš„ç³»ç»Ÿä¸‹ï¼Œå…¶ä¼šå°†è¿›ç¨‹æ‰€æœ‰çš„ç›¸å…³ä¿¡æ¯éƒ½æŒ‰ç…§çº¦å®šçš„æ•°æ®ç»“æ„å†™å…¥ /proc ç›®å½•ä¸‹ï¼Œå› æ­¤æˆ‘ä»¬æœ‰å……åˆ†çš„æ€€ç–‘è®¤ä¸º gops å°±æ˜¯ä» /proc ç›®å½•ä¸‹è¯»å–åˆ°ç›¸å…³ä¿¡æ¯çš„ï¼Œæºä»£ç å¦‚ä¸‹ï¼š
func PidsWithContext(ctx context.Context) ([]int32, error) {
 var ret []int32</p>

<p>d, err := os.Open(common.HostProc())
 if err != nil {
  return nil, err
 }
 defer d.Close()</p>

<p>fnames, err := d.Readdirnames(-1)
 if err != nil {
  return nil, err
 }
 for _, fname := range fnames {
  pid, err := strconv.ParseInt(fname, 10, 32)
  if err != nil {
   continue
  }
  ret = append(ret, int32(pid))
 }</p>

<p>return ret, nil
}</p>

<p>// common.HostProc
func HostProc(combineWith â€¦string) string {
 return GetEnv(â€œHOST_PROCâ€, â€œ/procâ€, combineWithâ€¦)
}</p>

<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œè¯¥æ–¹æ³•é€šè¿‡è°ƒç”¨ os.Open æ–¹æ³•æ‰“å¼€äº† proc ç›®å½•ï¼Œå¹¶åˆ©ç”¨ Readdirnames æ–¹æ³•å¯¹è¯¥ç›®å½•è¿›è¡Œäº†æ‰«æï¼Œæœ€ç»ˆè·å–åˆ°äº†æ‰€æœ‰éœ€è¦ pidï¼Œæœ€ç»ˆå®Œæˆå…¶ä½¿å‘½ï¼Œè¿”å›äº†æ‰€æœ‰ pidã€‚</p>

<p>åœ¨ç¡®å®šäº† gops æ˜¯é€šè¿‡æ‰«æ /proc ç›®å½•å¾—åˆ°çš„è¿›ç¨‹ä¿¡æ¯åï¼Œæˆ‘ä»¬åˆé‡åˆ°äº†ä¸€ä¸ªæ–°çš„ç–‘é—®ç‚¹ï¼Œé‚£å°±æ˜¯ gops æ˜¯æ€ä¹ˆç¡®å®šè¿™ä¸ªè¿›ç¨‹æ˜¯ Go è¿›ç¨‹ï¼Œåˆæ€ä¹ˆçŸ¥é“å®ƒçš„å…·ä½“ç‰ˆæœ¬ä¿¡æ¯çš„å‘¢ï¼Œæºä»£ç å¦‚ä¸‹ï¼š
func isGo(pr ps.Process) (path, version string, agent, ok bool, err error) {
 â€¦
 path, _ = pr.Path()
 if err != nil {
  return
 }
 var versionInfo goversion.Version
 versionInfo, err = goversion.ReadExe(path)
 if err != nil {
  return
 }
 ok = true
 version = versionInfo.Release
 pidfile, err := internal.PIDFile(pr.Pid())
 if err == nil {
  _, err := os.Stat(pidfile)
  agent = err == nil
 }
 return path, version, agent, ok, nil
}</p>

<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¯¥æ–¹æ³•çš„ä¸»è¦ä½œç”¨æ˜¯æ ¹æ®æ‰«æ /proc ç›®å½•æ‰€å¾—åˆ°çš„äºŒè¿›åˆ¶æ–‡ä»¶åœ°å€ä¸­æŸ¥æ‰¾ç›¸å…³çš„æ ‡è¯†ï¼Œç”¨äºåˆ¤æ–­å…¶æ˜¯å¦ Go ç¨‹åºï¼Œå¦‚æœæ˜¯ Go ç¨‹åºï¼Œé‚£ä¹ˆå®ƒå°†ä¼šè¿”å›è¯¥è¿›ç¨‹çš„ pidã€äºŒè¿›åˆ¶æ–‡ä»¶çš„åç§°ä»¥åŠäºŒè¿›åˆ¶æ–‡ä»¶çš„å®Œæ•´å­˜å‚¨è·¯å¾„ï¼Œåˆ¤æ–­çš„æ ‡è¯†å¦‚ä¸‹ï¼š
if name == â€œruntime.mainâ€ || name == â€œmain.mainâ€ {
        isGo = true
 }
 if name == â€œruntime.buildVersionâ€ {
        isGo = true
 }</p>

<p>è€Œè€Œå…³äºæ‰€ç¼–è¯‘çš„ Go è¯­è¨€çš„ç‰ˆæœ¬ï¼ŒGo ç¼–è¯‘å™¨ä¼šåœ¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸­æ‰“å…¥ runtime.buildVersionæ ‡è¯†ï¼Œè¿™ä¸ªæ ‡è¯†èƒ½å¤Ÿå¿«é€Ÿæˆ‘ä»¬å¿«é€Ÿè¯†åˆ«å®ƒçš„ç¼–è¯‘ä¿¡æ¯ï¼Œè€Œ gops ä¹Ÿæ­£æ­£æ˜¯åˆ©ç”¨äº†è¿™ä¸€ç‚¹ã€‚</p>

<p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ gdb æ¥è¿›è¡ŒæŸ¥çœ‹ Go æ‰€ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¦‚ä¸‹ï¼š
$ export GOFLAGS=â€-ldflags=-compressdwarf=falseâ€ &amp;&amp; go build .</p>

<p>$ gdb awesomeProject 
â€¦
(gdb) p â€˜runtime.buildVersionâ€™
$1 = 0x131bbb0 â€œgo1.14â€</p>

<p>åœ¨ä¸Šè¿°è¾“å‡ºä¸­ï¼Œæˆ‘ä»¬å…ˆå¯¹ç¤ºä¾‹é¡¹ç›®è¿›è¡Œäº†ç¼–è¯‘ï¼Œç„¶ååˆ©ç”¨ gdb ä¸­æŸ¥çœ‹äº† runtime.buildVersion å˜é‡ï¼Œæœ€ç»ˆå¯å¾—çŸ¥ç¼–è¯‘è¿™ä¸ª Go ç¨‹åºçš„ç‰ˆæœ¬æ˜¯ Go 1.14ã€‚</p>

<p>ä½†åœ¨ç¼–è¯‘æ—¶ï¼Œæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨ç¼–è¯‘æ—¶æŒ‡å®šäº† export GOFLAGS="-ldflags=-compressdwarf=false" å‚æ•°ï¼Œå¦‚æœä¸è¿›è¡ŒæŒ‡å®šçš„è¯ï¼Œå°±ä¼šå‡ºç° Reading symbols from awesomeProjectâ€¦(no debugging symbols found)â€¦done. çš„ç›¸å…³æŠ¥é”™ï¼Œå°†ä¼šå½±å“éƒ¨åˆ†åŠŸèƒ½ä½¿ç”¨ã€‚è¿™æ˜¯å› ä¸ºåœ¨ Go1.11 ä¸­ï¼Œè¿›è¡Œäº†è°ƒè¯•ä¿¡æ¯çš„å‹ç¼©ï¼Œç›®çš„æ˜¯ä¸ºäº†å‡å°æ‰€ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶å¤§å°ï¼Œä½† Mac ä¸Šçš„ gdb æ— æ³•ç†è§£å‹ç¼©çš„ DWARFï¼Œå› æ­¤ä¼šäº§ç”Ÿé—®é¢˜ï¼Œæ‰€ä»¥éœ€è¦è¿›è¡ŒæŒ‡å®šåœ¨è°ƒè¯•æ—¶ä¸è¿›è¡Œ DWARF çš„å‹ç¼©ï¼Œä¾¿äº Mac ä¸Šçš„ gdb ä½¿ç”¨ã€‚</p>

<p>éœ€è¦æ³¨æ„çš„ä¸€ç‚¹</p>

<p>å‡è®¾æˆ‘ä»¬åœ¨ä¸€äº›ç‰¹æ®Šåœºæ™¯ä¸‹å¸Œæœ›å¯¹ Go æ‰€ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œé‚£ä¹ˆåœ¨æœ€åæˆ‘ä»¬å¸¸å¸¸ä¼šä½¿ upx å·¥å…·æ¥å‡å°‘å…¶æ•´ä½“å¤§å°ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š
$ upx awesomeProject</p>

<p>è¿™æ—¶å€™æˆ‘ä»¬å†é‡æ–°è¿è¡Œæ‰€ç¼–è¯‘çš„ awesomeProject æ–‡ä»¶ï¼Œè¿™æ—¶å€™éœ€è¦æ€è€ƒçš„æ˜¯ï¼Œgops èƒ½ä¸èƒ½è¯†åˆ«åˆ°å®ƒæ˜¯ä¸€ä¸ª Go ç¨‹åºå‘¢ï¼Ÿ</p>

<p>ç­”æ¡ˆæ˜¯ä¸è¡Œçš„ï¼Œç»è¿‡ upx å‹ç¼©åçš„äºŒè¿›åˆ¶æ–‡ä»¶å°†æ— æ³•è¢«è¯†åˆ«ä¸º Go ç¨‹åºï¼Œå¹¶ä¸”åœ¨æˆ‘æ‰€ä½¿ç”¨çš„ gops v0.3.7ç‰ˆæœ¬ä¸­ï¼Œç”±äºè¿™ç±»åŠ å£³è¿›ç¨‹çš„å­˜åœ¨ï¼Œæ‰§è¡Œ gops å‘½ä»¤ç›´æ¥å‡ºç°äº†ç©ºæŒ‡é’ˆè°ƒç”¨çš„ææ…Œï¼ˆpanicï¼‰ï¼Œæ˜¾ç„¶ï¼Œè¿™æ˜¯ä¸€ä¸ª BUGï¼Œå¤§å®¶åœ¨å®é™…ç¯å¢ƒä¸­éœ€è¦å¤šåŠ ç•™æ„ï¼Œå¦‚æœè¦ä½¿ç”¨ gops åˆ™å°½é‡ä¸è¦ä½¿ç”¨ upx è¿›è¡Œå‹ç¼©ã€‚</p>

<p>æ€»ç»“</p>

<p>æœ¬æ–‡ï¼Œæˆ‘ä»¬é’ˆå¯¹ Google å®˜æ–¹å‡ºå“çš„ gops è¿›è¡Œäº†åŸºæœ¬ä½¿ç”¨å’ŒåŸç†æ€§çš„éƒ¨åˆ†å‰–æï¼Œå¦‚æœä½ ä»”ç»†ç ”è¯»äº†ï¼Œå°±ä¼šå‘ç° gops æ˜¯åå‰¯å…¶å®çš„è¿›ç¨‹è¯Šæ–­å·¥å…·ï¼Œé›†æˆäº†å¤§é‡ä¸šç•Œä¸­å¸¸ç”¨çš„åˆ†æé“¾ï¼Œåœ¨æ’æŸ¥é—®é¢˜ä¸Šä¹Ÿä¼šéå¸¸çš„æ–¹ä¾¿ï¼Œä¸éœ€è¦ä¸€ä¸ªä¸ªå•ç‹¬æ‰¾ç‰¹å®šå·¥å…·åœ¨å“ªé‡Œï¼Œåªéœ€è¦ä½¿ç”¨ gops å³å¯ï¼Œè€Œæ›´æ·±å±‚æ¬¡çš„ä½¿ç”¨å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œæ›´ä¸€æ­¥çš„äº†è§£ã€‚</p>

:ET