I"§H<!-- more -->
<p>åœ¨è¯­æ³•ä¸Šæ˜¯åŸºäºGroovyè¯­è¨€çš„ï¼ˆGroovy æ˜¯ä¸€ç§åŸºäºJVMçš„æ•æ·å¼€å‘è¯­è¨€ï¼Œå¯ä»¥ç®€å•çš„ç†è§£ä¸ºå¼ºç±»å‹è¯­è¨€javaçš„å¼±ç±»å‹ç‰ˆæœ¬ï¼‰ï¼Œåœ¨é¡¹ç›®ç®¡ç†ä¸Šæ˜¯åŸºäºAntå’ŒMavenæ¦‚å¿µçš„é¡¹ç›®è‡ªåŠ¨åŒ–å»ºæ„å·¥å…·ã€‚</p>

<p>åŸºç¡€çŸ¥è¯†å‡†å¤‡
JavaåŸºç¡€ï¼Œå‘½ä»¤è¡Œä½¿ç”¨åŸºç¡€
å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.gradle.org/current/dsl/
** Gradleä½¿ç”¨æŒ‡å—ï¼š** https://gradle.org/docs/current/userguide/userguide
Androidæ’ä»¶æ–‡æ¡£ï¼šhttps://github.com/google/android-gradleâ€¦
AndroidGradleä½¿ç”¨æ–‡æ¡£ï¼šhttp://tools.android.com/tech-docs/new-build-system/user-guide
GroovyåŸºç¡€ï¼š http://attis-wong-163-com.iteye.com/blog/1239819
Groovyé—­åŒ…çš„Delegateæœºåˆ¶ï¼šhttp://www.cnblogs.com/davenkin/p/gradle-learning-3.html</p>

<p>æ­å»ºGradleè¿è¡Œç¯å¢ƒ
Gradle è¿è¡Œä¾èµ–JVMï¼Œä¹Ÿå°±æ˜¯javaè¿è¡Œçš„ç¯å¢ƒã€‚æ‰€ä»¥è¦å®‰è£…jdkå’Œjreï¼Œå¥½åƒç›®å‰çš„Gradleçš„è¿è¡Œç¯å¢ƒè¦æ±‚jdkçš„ç‰ˆæœ¬åœ¨1.6ä»¥ä¸Šï¼Œåº”è¯¥çš„ï¼Œç°åœ¨jdkéƒ½åˆ°1.8äº†ã€‚
ç„¶ååˆ°Gradleå®˜ç½‘ç°åœ¨Gradleçš„å‹ç¼©åŒ…ã€‚åœ°å€ï¼Œè¿™ä¸ªé¡µé¢é‡Œé¢åˆä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ‰‹åŠ¨å®‰è£…ï¼Œä¸€ç§é€šè¿‡è„šæœ¬å®‰è£…ã€‚æˆ‘ä¸€èˆ¬å–œæ¬¢è‡ªå·±åŠ¨æ‰‹ï¼Œè¿™æ ·å°†æ¥æ¸…ç†èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ã€‚
ä¸‹è½½å‹ç¼©åŒ…åï¼Œè§£å‹ï¼Œç„¶åé…ç½®ç¯å¢ƒå˜é‡ï¼Œæ‰‹åŠ¨å®‰è£…è¿‡jdkçš„äººåº”è¯¥éƒ½é…ç½®ç¯å¢ƒå˜é‡å¾ˆç†Ÿäº†å§ã€‚æ¯ä¸ªå¹³å°ä¸‹é…ç½®ç¯å¢ƒå˜é‡çš„æ–¹å¼ä¸ä¸€æ ·
MacOS ä¸‹é…ç½®ã€‚åœ¨~/.bash_profileä¸­æ·»åŠ å¦‚ä¸‹ä»£ç </p>

<p>#gradle  æ³¨æ„gradle-2.14.1æ˜¯è‡ªå·±è§£å‹çš„è·¯å¾„
export GRADLE_HOME=${HOME}/gradle-2.14.1
PATH=${PATH}:${GRADLE_HOME}/bin
export PATH
ä¿å­˜ååœ¨ç»ˆç«¯è¾“å…¥source ~/.bash_profileå›è½¦æ‰§è¡Œè®©åˆšåˆšçš„é…ç½®ç”Ÿæ•ˆã€‚ç„¶åå‘½ä»¤è¡Œè¾“å…¥gradle -væŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸã€‚</p>

<p>$ gradle -v</p>

<hr />
<p>Gradle 2.14.1
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</p>

<p>Build time:   2016-07-18 06:38:37 UTC
Revision:     d9e2113d9fb05a5caabba61798bdb8dfdca83719</p>

<p>Groovy:       2.4.4
Ant:          Apache Ant(TM) version 1.9.6 compiled on June 29 2015
JVM:          1.8.0_111 (Oracle Corporation 25.111-b14)
OS:           Mac OS X 10.12.2 x86_64
å¼„ä¸€ä¸ªHelloWorldçœ‹çœ‹
åˆ›å»ºä¸€ä¸ªtest_graldeæ–‡ä»¶å¤¹ã€‚ç„¶ååœ¨æ–‡ä»¶å¤¹é‡Œé¢åˆ›å»ºä¸€ä¸ªbuild.gradleæ–‡ä»¶ã€‚æ³¨æ„æ–‡ä»¶åä¸è¦ä¹±èµ·ã€‚åœ¨build.gradleä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>

<p>task helloworld{
    doLast{
        printlnâ€™Hello World!â€™
    }
}
#åè€…ç­‰åŒäºä¸‹é¢çš„ä»£ç ,
task helloworld2 Â«{
    println â€œHello World!â€
}
ç„¶åæ¥è¿è¡Œä¸€ä¸‹ï¼š</p>

<p>liuqiangs-MacBook-Pro:test_gralde liuqiang$ gradle helloworld
:helloworld
Hello World!</p>

<p>BUILD SUCCESSFUL</p>

<p>Total time: 1.52 secs</p>

<p>This build could be faster, please consider using the Gradle Daemon: https://docs.gradle.org/2.14.1/userguide/gradle_daemon.html
æˆ‘ä»¬åˆ†æä¸€ä¸‹æ‰§è¡Œæ­¥éª¤ã€‚build.gradleæ˜¯Gradleé»˜è®¤çš„æ„å»ºè„šæœ¬æ–‡ä»¶ï¼Œæ‰§è¡ŒGradleå‘½ä»¤çš„æ—¶å€™ï¼Œä¼šé»˜è®¤åŠ è½½å½“å‰ç›®å½•ä¸‹çš„build.gradleè„šæœ¬æ–‡ä»¶ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é€šè¿‡ -b å‚æ•°æŒ‡å®šæƒ³è¦åŠ è½½æ‰§è¡Œçš„æ–‡ä»¶ã€‚è¿™åªæ˜¯ä¸ªæœ€ç®€å•çš„taskä¾‹å­ï¼Œåé¢è¯¦ç»†ä»‹ç»taskçš„å¸¸è§å®šä¹‰ã€‚</p>

<p>è¿™ä¸ªæ„å»ºè„šæœ¬å®šä¹‰ä¸€ä¸ªä»»åŠ¡ï¼ˆTaskï¼‰ï¼Œä»»åŠ¡åå­—å«helloworldï¼Œå¹¶ä¸”ç»™ä»»åŠ¡helloworldæ·»åŠ äº†ä¸€ä¸ªåŠ¨ä½œï¼Œå®˜æ–¹åå­—æ˜¯Actionï¼Œé˜…è¯»Gradleæºä»£ç ä½ ä¼šåˆ°å¤„è§åˆ°å®ƒï¼Œå…¶å®ä»–å°±æ˜¯ä¸€æ®µGroovyè¯­è¨€å®ç°çš„é—­åŒ…ï¼ŒdoLastå°±æ„å‘³ç€åœ¨Taskæ‰§è¡Œå®Œæ¯•ä¹‹åè¦å›è°ƒdoLastçš„è¿™éƒ¨åˆ†é—­åŒ…çš„ä»£ç å®ç°ã€‚ç¬¬äºŒä¸ªæ–¹æ³•ä¸­çš„â€œÂ«â€è¡¨ç¤ºå‘helloworldä¸­åŠ å…¥æ‰§è¡Œä»£ç ã€‚è‡³äºè¯­æ³•éƒ¨åˆ†ï¼ŒåŸºæœ¬æ˜¯Groovyè¯­æ³•ï¼ˆåŒ…æ‹¬ä¸€äº›è¯­æ³•ç³–ï¼Œä¹Ÿå°±æ˜¯å†™ç®€å†™æ–¹å¼ï¼Œå¦‚æœå†™ä¸ªJavaScriptæˆ–è€…Pythonä¼šå¥½ç†è§£ä¸€äº›ï¼Œä½†æ˜¯è¿˜æ˜¯å»ºè®®å»è¯»ä¸€ä¸‹groovyçš„åŸºæœ¬è¯­æ³•ï¼‰ï¼ŒåŠ ä¸Šä¸€äº›DSLï¼ˆdomain specific languageï¼‰çš„çº¦å®šã€‚</p>

<p>æ‰§è¡Œæµç¨‹å’ŒåŸºæœ¬æœ¯è¯­
å’ŒMavenä¸€æ ·ï¼ŒGradleåªæ˜¯æä¾›äº†æ„å»ºé¡¹ç›®çš„ä¸€ä¸ªæ¡†æ¶ï¼ŒçœŸæ­£èµ·ä½œç”¨çš„æ˜¯Pluginã€‚Gradleåœ¨é»˜è®¤æƒ…å†µä¸‹ä¸ºæˆ‘ä»¬æä¾›äº†è®¸å¤šå¸¸ç”¨çš„Pluginï¼Œå…¶ä¸­åŒ…æ‹¬æœ‰æ„å»ºJavaé¡¹ç›®çš„Pluginï¼Œè¿˜æœ‰Androidç­‰ã€‚ä¸Mavenä¸åŒçš„æ˜¯ï¼ŒGradleä¸æä¾›å†…å»ºçš„é¡¹ç›®ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œåªæ˜¯java Pluginå‘Projectä¸­æ·»åŠ äº†è®¸å¤šTaskï¼Œè¿™äº›Taskä¾æ¬¡æ‰§è¡Œï¼Œä¸ºæˆ‘ä»¬è¥é€ äº†ä¸€ç§å¦‚åŒMavenèˆ¬é¡¹ç›®æ„å»ºå‘¨æœŸã€‚</p>

<p>Gradleæ˜¯ä¸€ç§å£°æ˜å¼çš„æ„å»ºå·¥å…·ã€‚åœ¨æ‰§è¡Œæ—¶ï¼ŒGradleå¹¶ä¸ä¼šä¸€å¼€å§‹ä¾¿é¡ºåºæ‰§è¡Œbuild.gradleæ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œè€Œæ˜¯åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œç¬¬ä¸€ä¸ªé˜¶æ®µæ˜¯é…ç½®é˜¶æ®µï¼Œç„¶åæ‰æ˜¯å®é™…çš„æ‰§è¡Œé˜¶æ®µã€‚
é…ç½®é˜¶æ®µï¼ŒGradleå°†è¯»å–æ‰€æœ‰build.gradleæ–‡ä»¶çš„æ‰€æœ‰å†…å®¹æ¥é…ç½®Projectå’ŒTaskç­‰ï¼Œæ¯”å¦‚è®¾ç½®Projectå’ŒTaskçš„Propertyï¼Œå¤„ç†Taskä¹‹é—´çš„ä¾èµ–å…³ç³»ç­‰ã€‚</p>

<p>çœ‹ä¸€ä¸ªåŸºæœ¬ç»“æ„çš„Androidå¤šMouduleï¼ˆä¹Ÿå°±æ˜¯gradleä¸­çš„å¤šProject Multi-Projects Buildï¼‰çš„åŸºæœ¬é¡¹ç›®ç»“æ„ã€‚</p>

<p>â”œâ”€â”€ app #Android Appç›®å½•
â”‚   â”œâ”€â”€ app.iml
â”‚   â”œâ”€â”€ build #æ„å»ºè¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ build.gradle #æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ libs #soç›¸å…³åº“
â”‚   â”œâ”€â”€ proguard-rules.pro #proguardæ··æ·†é…ç½®
â”‚   â””â”€â”€ src #æºä»£ç ï¼Œèµ„æºç­‰
â”œâ”€â”€ module #Android å¦å¤–ä¸€ä¸ªmoduleç›®å½•
â”‚   â”œâ”€â”€ module.iml
â”‚   â”œâ”€â”€ build #æ„å»ºè¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ build.gradle #æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ libs #soç›¸å…³åº“
â”‚   â”œâ”€â”€ proguard-rules.pro #proguardæ··æ·†é…ç½®
â”‚   â””â”€â”€ src #æºä»£ç ï¼Œèµ„æºç­‰
â”œâ”€â”€ build
â”‚   â””â”€â”€ intermediates
â”œâ”€â”€ build.gradle #å·¥ç¨‹æ„å»ºæ–‡ä»¶
â”œâ”€â”€ gradle
â”‚   â””â”€â”€ wrapper
â”œâ”€â”€ gradle.properties #gradleçš„é…ç½®
â”œâ”€â”€ gradlew #gradle wrapper linux shellè„šæœ¬
â”œâ”€â”€ gradlew.bat
â”œâ”€â”€ LibSqlite.iml
â”œâ”€â”€ local.properties #é…ç½®Androod SDKä½ç½®æ–‡ä»¶
â””â”€â”€ settings.gradle #å·¥ç¨‹é…ç½®
ä¸Šé¢çš„æ˜¯å®Œæ•´çš„AndroidStudioä¸­çš„é¡¹ç›®ç»“æ„ï¼Œæˆ‘ä»¬æŠ½è±¡æˆGradleå¤šä¸ªProjectçš„æ ·å­</p>

<p>â”œâ”€â”€ app 
â”‚   â”œâ”€â”€ build.gradle #æ„å»ºè„šæœ¬
â”œâ”€â”€ module 
â”‚   â”œâ”€â”€ build.gradle #æ„å»ºè„šæœ¬
â”œâ”€â”€ build.gradle #å·¥ç¨‹æ„å»ºæ–‡ä»¶
â”œâ”€â”€ gradle
â”‚   â””â”€â”€ wrapper    #å…ˆä¸å»ç®¡å®ƒ
â”œâ”€â”€ gradle.properties #gradleçš„é…ç½®
â”œâ”€â”€ gradlew #gradle wrapper linux shellè„šæœ¬
â”œâ”€â”€ gradlew.bat
â””â”€â”€ settings.gradle #å·¥ç¨‹é…ç½®
Gradleä¸ºæ¯ä¸ªbuild.gradleéƒ½ä¼šåˆ›å»ºä¸€ä¸ªç›¸åº”çš„Projecté¢†åŸŸå¯¹è±¡ï¼Œåœ¨ç¼–å†™Gradleè„šæœ¬æ—¶ï¼Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯åœ¨æ“ä½œè¯¸å¦‚Projectè¿™æ ·çš„Gradleé¢†åŸŸå¯¹è±¡ã€‚åœ¨å¤šProjectçš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¼šæ“ä½œå¤šä¸ªProjecté¢†åŸŸå¯¹è±¡ã€‚Gradleæä¾›äº†å¼ºå¤§çš„å¤šProjectæ„å»ºæ”¯æŒã€‚
è¦åˆ›å»ºå¤šProjectçš„Gradleé¡¹ç›®ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åœ¨æ ¹ï¼ˆRootï¼‰Projectä¸­åŠ å…¥åä¸ºsettings.gradleçš„é…ç½®æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åº”è¯¥åŒ…å«å„ä¸ªå­Projectçš„åç§°ã€‚Gradleä¸­çš„Projectå¯ä»¥ç®€å•çš„æ˜ å°„ä¸ºAndroidStudioä¸­çš„Moduleã€‚
åœ¨æœ€å¤–å±‚çš„build.gradleã€‚ä¸€èˆ¬å¹²å¾—æ´»æ˜¯ï¼šé…ç½®å…¶ä»–å­Projectçš„ã€‚æ¯”å¦‚ä¸ºå­Projectæ·»åŠ ä¸€äº›å±æ€§ã€‚
åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æœ‰ä¸ªä¸€ä¸ªåä¸ºsettings.gradleã€‚è¿™ä¸ªæ–‡ä»¶å¾ˆé‡è¦ï¼Œåå­—å¿…é¡»æ˜¯settings.gradleã€‚å®ƒé‡Œè¾¹ç”¨æ¥å‘Šè¯‰Gradleï¼Œè¿™ä¸ªmultiprojectsåŒ…å«å¤šå°‘ä¸ªå­Projectï¼ˆå¯ä»¥ç†è§£ä¸ºAndroidStudioä¸­Moduleï¼‰ã€‚
è¯»æ‡‚Gradleé…ç½®è¯­æ³•
Gradleå‘æˆ‘ä»¬æä¾›äº†ä¸€æ•´å¥—DSLï¼Œæ‰€ä»¥åœ¨å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å†™çš„ä»£ç ä¼¼ä¹å·²ç»è„±ç¦»äº†groovyï¼Œä½†æ˜¯åœ¨åº•å±‚ä¾ç„¶æ˜¯æ‰§è¡Œçš„groovyæ‰€ä»¥å¾ˆå¤šè¯­æ³•è¿˜æ˜¯Groovyçš„è¯­æ³•è§„åˆ™ã€‚
çœ‹ä¸€ä¸ªAndroidStudioä¸­appä¸‹çš„build.gradleçš„é…ç½®</p>

<p>apply plugin: â€˜com.android.applicationâ€™</p>

<p>android {
    compileSdkVersion 25
    buildToolsVersion â€œ25.0.0â€
    defaultConfig {
        applicationId â€œme.febsky.demoâ€
        minSdkVersion 15
        targetSdkVersion 25
        versionCode 1
        versionName â€œ1.0â€
        testInstrumentationRunner â€œandroid.support.test.runner.AndroidJUnitRunnerâ€
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile(â€˜proguard-android.txtâ€™), â€˜proguard-rules.proâ€™
        }
    }
}</p>

<p>dependencies {
    compile fileTree(dir: â€˜libsâ€™, include: [â€˜*.jarâ€™])
    compile â€˜com.android.support:appcompat-v7:25.1.0â€™
}
åˆ†æç¬¬ä¸€è¡Œapply plugin: â€˜com.android.applicationâ€™
è¿™å¥å…¶å®æ˜¯Groovyè¯­æ³•ç³–ï¼ŒåƒRubyå’ŒJséƒ½æœ‰è¿™ç§è¯­æ³•ç³–ï¼Œapplyå®é™…ä¸Šæ˜¯ä¸ªæ–¹æ³•ï¼Œè¡¥ä¸Šæ‹¬å·åçš„è„šæœ¬ï¼šapply (plugin: â€˜com.android.applicationâ€™),çœ‹èµ·æ¥è¿˜æ˜¯æœ‰ç‚¹åˆ«æ‰­æ˜¯ä¸ï¼Ÿè¿˜æœ‰ä¸ªè¯­æ³•ç³–ï¼Œå¦‚æœæ–¹æ³•å‚æ•°æ˜¯ä¸ªmapç±»å‹ï¼Œé‚£ä¹ˆæ–¹æ‹¬å·å¯ä»¥çœç•¥ï¼Œè¿›ä¸€æ­¥è¿˜åŸapply([ plugin: â€˜com.android.applicationâ€™]),ä¸ç†è§£çš„å¯ä»¥å»çœ‹ä¸‹Groovyçš„mapçš„å†™æ³•ï¼Œå’Œjsä¸€æ ·ã€‚æ‰€ä»¥è¿™è¡Œçš„æ„æ€æ˜¯ï¼šapplyå…¶å®æ˜¯ä¸ªæ–¹æ³•ï¼Œæ¥æ”¶ä¸€ä¸ªMapç±»å‹çš„å‚æ•°ã€‚</p>

<p>æ€»ç»“ä¸¤ç‚¹ï¼š1. æ–¹æ³•è°ƒç”¨ï¼Œåœ†æ‹¬å·å¯ä»¥çœç•¥ 2. å¦‚æœæ–¹æ³•å‚æ•°æ˜¯ä¸ªMapï¼Œæ–¹æ‹¬å·å¯ä»¥çœç•¥ã€‚</p>

<p>Groovyè¯­è¨€çš„é—­åŒ…è¯­æ³•
çœ‹ä¸Šé¢çš„dependencies è¿™å…¶å®æ˜¯ä¸ªæ–¹æ³•è°ƒç”¨ã€‚è°ƒç”¨äº†Projectçš„dependenciesæ–¹æ³•ã€‚åªä¸è¿‡å‚æ•°æ˜¯ä¸ªé—­åŒ…ï¼Œé—­åŒ…çš„ç”¨æ³•åœ¨æ–‡ç« å¼€å§‹ç»™å‡ºäº†é“¾æ¥ã€‚æˆ‘ä»¬å¯¹å…¶è¿›è¡Œè¿˜åŸä¸€ä¸‹ï¼š</p>

<p>#æ–¹æ³•è°ƒç”¨çœç•¥äº†ï¼ˆï¼‰æˆ‘ä»¬åŠ ä¸Š
dependencies ({
    compile fileTree(dir: â€˜libsâ€™, include: [â€˜*.jarâ€™])
    compile â€˜com.android.support:appcompat-v7:25.1.0â€™
})
æç¤ºä¸€ç‚¹ï¼šå¦‚æœé—­åŒ…æ˜¯æ–¹æ³•çš„æœ€åä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆé—­åŒ…å¯ä»¥æ”¾åœ¨åœ†æ‹¬å·å¤–é¢</p>

<p>#æ‰€ä»¥ä»£ç è¿˜èƒ½å†™æˆè¿™æ ·
dependencies (){
    compile fileTree(dir: â€˜libsâ€™, include: [â€˜*.jarâ€™])
    compile â€˜com.android.support:appcompat-v7:25.1.0â€™
}
Getterå’ŒSetter
Groovyè¯­è¨€ä¸­çš„ä¸¤ä¸ªæ¦‚å¿µï¼Œä¸€ä¸ªæ˜¯Groovyä¸­çš„Beanæ¦‚å¿µï¼Œä¸€ä¸ªæ˜¯Groovyé—­åŒ…çš„Delegateæœºåˆ¶ã€‚
Javaç¨‹åºå‘˜å¯¹JavaBeanså’ŒGetter/Setteræ–¹æ³•è‚¯å®šä¸é™Œç”Ÿï¼Œè¢«è®¾è®¡ç”¨æ¥è·å–/è®¾ç½®ç±»çš„å±æ€§ã€‚ä½†åœ¨Groovyä¸­å°±ä¸ç”¨é‚£äº›æ²¡ç”¨çš„æ–¹æ³•äº†ã€‚å³GroovyåŠ¨æ€çš„ä¸ºæ¯ä¸€ä¸ªå­—æ®µéƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆgetterå’Œsetterï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥é€šè¿‡åƒè®¿é—®å­—æ®µæœ¬èº«ä¸€æ ·è°ƒç”¨getterå’Œsetterã€‚æ¯”å¦‚Gradleçš„Projectå¯¹è±¡æœ‰ä¸ªversionå±æ€§ï¼ˆPropertyï¼‰ä¸‹é¢è¿™ä¸¤è¡Œä»£ç æ‰§è¡Œç»“æœæ˜¯ä¸€æ ·çš„:</p>

<p>println project.version // Groovy<br />
println(project.getVersion()) // Java<br />
Projectï¼ŒTask ï¼ŒAction
Gradleçš„Projectä¹‹é—´çš„ä¾èµ–å…³ç³»æ˜¯åŸºäºTaskçš„ï¼Œè€Œä¸æ˜¯æ•´ä¸ªProjectçš„ã€‚</p>

<p>Project:æ˜¯Gradleæœ€é‡è¦çš„ä¸€ä¸ªé¢†åŸŸå¯¹è±¡ï¼Œæˆ‘ä»¬å†™çš„build.gradleè„šæœ¬çš„å…¨éƒ¨ä½œç”¨ï¼Œå…¶å®å°±æ˜¯é…ç½®ä¸€ä¸ªProjectå®ä¾‹ã€‚åœ¨build.gradleè„šæœ¬é‡Œï¼Œæˆ‘ä»¬å¯ä»¥éšå¼çš„æ“çºµProjectå®ä¾‹ï¼Œæ¯”å¦‚ï¼Œapplyæ’ä»¶ã€å£°æ˜ä¾èµ–ã€å®šä¹‰Taskç­‰ï¼Œå¦‚ä¸Šé¢build.gradleæ‰€ç¤ºã€‚applyã€dependenciesã€taskç­‰å®é™…ä¸Šæ˜¯Projectçš„æ–¹æ³•ï¼Œå‚æ•°æ˜¯ä¸€ä¸ªä»£ç å—ã€‚å¦‚æœéœ€è¦ï¼Œä¹Ÿå¯ä»¥æ˜¾ç¤ºçš„æ“çºµProjectå®ä¾‹ï¼Œæ¯”å¦‚ï¼šproject.ext.myProp = â€˜myValueâ€™</p>

<p>Task:è¢«ç»„ç»‡æˆäº†ä¸€ä¸ªæœ‰å‘æ— ç¯å›¾ï¼ˆDAGï¼‰ã€‚Gradleä¸­çš„Taskè¦ä¹ˆæ˜¯ç”±ä¸åŒçš„Pluginå¼•å…¥çš„ï¼Œè¦ä¹ˆæ˜¯æˆ‘ä»¬è‡ªå·±åœ¨build.gradleæ–‡ä»¶ä¸­ç›´æ¥åˆ›å»ºçš„ã€‚Gradleä¿è¯TaskæŒ‰ç…§ä¾èµ–é¡ºåºæ‰§è¡Œï¼Œå¹¶ä¸”æ¯ä¸ªTaskæœ€å¤šåªè¢«æ‰§è¡Œä¸€æ¬¡ã€‚</p>

<p>Gradleåœ¨é»˜è®¤æƒ…å†µä¸‹ä¸ºæˆ‘ä»¬æä¾›äº†å‡ ä¸ªå¸¸ç”¨çš„Taskï¼Œæ¯”å¦‚æŸ¥çœ‹Projectçš„Propertiesã€æ˜¾ç¤ºå½“å‰Projectä¸­å®šä¹‰çš„æ‰€æœ‰Taskç­‰ã€‚å¯ä»¥é€šè¿‡ä¸€ä¸‹å‘½ä»¤è¡ŒæŸ¥çœ‹Projectä¸­æ‰€æœ‰çš„Taskï¼š$ gradle tasks ï¼ˆå…·ä½“logä¸å†è´´å‡ºæ¥ï¼‰ã€‚å¯ä»¥çœ‹åˆ°ï¼ŒGradleé»˜è®¤ä¸ºæˆ‘ä»¬æä¾›äº†dependenciesã€projectså’Œpropertiesç­‰Taskã€‚dependenciesç”¨äºæ˜¾ç¤ºProjectçš„ä¾èµ–ä¿¡æ¯ï¼Œprojectsç”¨äºæ˜¾ç¤ºæ‰€æœ‰Projectï¼ŒåŒ…æ‹¬æ ¹Projectå’Œå­Projectï¼Œè€Œpropertiesåˆ™ç”¨äºæ˜¾ç¤ºä¸€ä¸ªProjectæ‰€åŒ…å«çš„æ‰€æœ‰Propertyã€‚</p>

<p>**Tips: **æŸ¥çœ‹Projectä¸­æ‰€æœ‰çš„Taskï¼š$ gradle tasks 
æŸ¥çœ‹Projectä¸­æ‰€æœ‰çš„propertiesï¼š$ gradle properties</p>

<p>åœ¨ä¸Šé¢çš„build.gradleä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š</p>

<p>task myTask {<br />
    doFirst {<br />
        println â€˜helloâ€™<br />
    }<br />
    doLast {<br />
        println â€˜worldâ€™<br />
    }<br />
}<br />
è¿™æ®µä»£ç çš„å«ä¹‰ï¼šç»™Projectæ·»åŠ ä¸€ä¸ªåä¸ºâ€œmyTaskâ€çš„ä»»åŠ¡
ç”¨ä¸€ä¸ªé—­åŒ…æ¥é…ç½®è¿™ä¸ªä»»åŠ¡,Taskæä¾›äº†doFirstå’ŒdoLastæ–¹æ³•æ¥ç»™è‡ªå·±æ·»åŠ Actionã€‚</p>

<p>å…¶å®build.gradleè„šæœ¬çš„çœŸæ­£ä½œç”¨ï¼Œå°±æ˜¯é…ç½®ä¸€ä¸ªProjectå®ä¾‹ã€‚åœ¨æ‰§è¡Œbuildè„šæœ¬ä¹‹å‰ï¼ŒGradleä¼šä¸ºæˆ‘ä»¬å‡†å¤‡å¥½ä¸€ä¸ªProjectå®ä¾‹ï¼Œæ‰§è¡Œå®Œè„šæœ¬ä¹‹åï¼ŒGradleä¼šæŒ‰ç…§DAGä¾æ¬¡æ‰§è¡Œä»»åŠ¡ã€‚</p>

<p>è‡ªå®šä¹‰Taskçš„å†™æ³•
çœ‹ä¸‹é¢ä»£ç æ–‡ä»¶è·¯å¾„~/Test/build.gradleï¼š</p>

<p>#1
task helloWorld Â«Â {
    println â€œHello Worldâ€
}
#2 Testæ–‡ä»¶å¤¹ä¸‹å»ºä¸€ä¸ªsrcç›®å½•ï¼Œå»ºä¸€ä¸ªdstç›®å½•ï¼Œsrcç›®å½•ä¸‹å»ºç«‹ä¸€ä¸ªæ–‡ä»¶ï¼Œå‘½åä¸ºtest.txt
task copyFile(type: Copy){
    from â€œsrcâ€
    into â€œdstâ€
}
ç¬¬ä¸€ä¸ªè¿™é‡Œçš„helloWorldæ˜¯ä¸€ä¸ªDefaultTaskç±»å‹çš„å¯¹è±¡ï¼Œè¿™ä¹Ÿæ˜¯å®šä¹‰ä¸€ä¸ªTaskæ—¶çš„é»˜è®¤ç±»å‹ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ˜¾å¼åœ°å£°æ˜Taskçš„ç±»å‹ï¼Œç”šè‡³å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªTaskç±»å‹ã€‚
ç¬¬äºŒä¸ªä»£ç ä¸­ï¼ˆtypeï¼šCopyï¼‰å°±æ˜¯â€œæ˜¾å¼åœ°å£°æ˜Taskçš„ç±»å‹â€ï¼Œæ‰§è¡Œgradle copyFile test.txtä¹Ÿè·‘åˆ°dstä¸­å»äº†ã€‚</p>

<p>å¦‚æœtaskå£°æ˜åœ¨æ ¹Projectçš„build.gradleä¸­çš„allprojects()æ–¹æ³•ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªTaskä¼šåº”ç”¨äºæ‰€æœ‰çš„Projectã€‚</p>

<p>taskçš„ä¾èµ–å…³ç³»
Gradleä¸æä¾›å†…å»ºçš„é¡¹ç›®ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œåªæ˜¯java Pluginå‘Projectä¸­æ·»åŠ äº†è®¸å¤šTaskï¼Œè¿™äº›Taskä¾æ¬¡æ‰§è¡Œï¼Œä¸ºæˆ‘ä»¬è¥é€ äº†ä¸€ç§å¦‚åŒMavenèˆ¬é¡¹ç›®æ„å»ºå‘¨æœŸã€‚é‚£ä¹ˆè¿™äº›taskæ˜¯å¦‚ä½•ä¾æ¬¡æ‰§è¡Œçš„è¿™å°±ç”¨åˆ°å£°æ˜çš„ä¾èµ–å…³ç³»taskA.dependsOn taskBçœ‹ä¸‹é¢ä»£ç ï¼š</p>

<p>task taskA Â«Â {
   println â€˜this is taskA from project 1â€™
}</p>

<p>task taskB Â«Â {
   println â€˜this is taskB from project 1â€™
}</p>

<p>taskA.dependsOn taskB
ç„¶åæˆ‘ä»¬åœ¨å‘½ä»¤è¡Œè¿è¡Œï¼š
$ gradle taskA
è¿è¡Œç»“æœä¼šå…ˆæ‰§è¡ŒtaskBçš„æ‰“å°ï¼Œç„¶åæ‰§è¡ŒtaskAçš„æ‰“å°</p>

<p>å¦‚æœæ˜¯Muliti-Projectçš„æ¨¡å¼ï¼Œä¾èµ–å…³ç³»è¦å¸¦ç€æ‰€å±çš„Projectï¼Œå¦‚taskA.dependsOn â€˜:other-project:taskCâ€™ å…¶ä¸­taskCä½äºå’ŒtaskAä¸åŒçš„Projectä¸­ï¼Œç›¸å¯¹äºAndroidStudioæ¥è¯´ï¼Œå°±æ˜¯ä½äºä¸åŒçš„Moduleä¸‹çš„build.gradleä¸­ï¼Œè€Œother-projectä¸ºModuleåå­—ã€‚</p>

<p>Task çš„typeå¯ä»¥è‡ªå®šä¹‰ï¼ˆæ²¡æœ‰æ·±å…¥ç ”ç©¶ï¼‰
è‡ªå®šä¹‰Pluginçš„å†™æ³•
æ²¡æœ‰æ·±å…¥ç ”ç©¶ï¼Œç»™å‡ºä¸€ä¸ªç½‘ä¸Šçš„ä¾‹å­ï¼š</p>

<p>apply plugin: DateAndTimePlugin</p>

<p>dateAndTime {
    timeFormat = â€˜HH:mm:ss.SSSâ€™
    dateFormat = â€˜MM/dd/yyyyâ€™
}</p>

<p>class DateAndTimePlugin implements Plugin<Project> {
    //è¯¥æ¥å£å®šä¹‰äº†ä¸€ä¸ªapply()æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ“ä½œProjectï¼Œ
    //æ¯”å¦‚å‘å…¶ä¸­åŠ å…¥Taskï¼Œå®šä¹‰é¢å¤–çš„Propertyç­‰ã€‚
    void apply(Project project) {
        project.extensions.create("dateAndTime", DateAndTimePluginExtension)</Project></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    project.task('showTime') &lt;&lt; {
        println "Current time is " + new Date().format(project.dateAndTime.timeFormat)
    }

    project.tasks.create('showDate') &lt;&lt; {
        println "Current date is " + new Date().format(project.dateAndTime.dateFormat)
    }
} } //æ¯ä¸ªGradleçš„Projectéƒ½ç»´æŠ¤äº†ä¸€ä¸ªExtenionContainerï¼Œ //æˆ‘ä»¬å¯ä»¥é€šè¿‡project.extentionsè¿›è¡Œè®¿é—® //æ¯”å¦‚è¯»å–é¢å¤–çš„Propertyå’Œå®šä¹‰é¢å¤–çš„Propertyç­‰ã€‚ //å‘Projectä¸­å®šä¹‰äº†ä¸€ä¸ªåä¸ºdateAndTimeçš„extension //å¹¶å‘å…¶ä¸­åŠ å…¥äº†2ä¸ªPropertyï¼Œåˆ†åˆ«ä¸ºtimeFormatå’ŒdateFormat class DateAndTimePluginExtension {
String timeFormat = "MM/dd/yyyyHH:mm:ss.SSS"
String dateFormat = "yyyy-MM-dd" } æ¯ä¸€ä¸ªè‡ªå®šä¹‰çš„Pluginéƒ½éœ€è¦å®ç°Pluginæ¥å£ï¼Œé™¤äº†ç»™Projectç¼–å†™Pluginä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä¸ºå…¶ä»–Gradleç±»ç¼–å†™Pluginã€‚è¯¥æ¥å£å®šä¹‰äº†ä¸€ä¸ªapply()æ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ“ä½œProjectï¼Œæ¯”å¦‚å‘å…¶ä¸­åŠ å…¥Taskï¼Œå®šä¹‰é¢å¤–çš„Propertyç­‰ã€‚
</code></pre></div></div>

<p>åŸæ–‡åœ°å€</p>

<p>Gradle Wrapper
Wrapperï¼Œé¡¾åæ€ä¹‰ï¼Œå…¶å®å°±æ˜¯å¯¹Gradleçš„ä¸€å±‚åŒ…è£…ï¼Œä¾¿äºåœ¨å›¢é˜Ÿå¼€å‘è¿‡ç¨‹ä¸­ç»Ÿä¸€Gradleæ„å»ºçš„ç‰ˆæœ¬ï¼Œç„¶åæäº¤åˆ°gitä¸Šï¼Œç„¶ååˆ«äººå¯ä»¥ä¸‹è½½ä¸‹æ¥ï¼Œè¿™æ ·å¤§å®¶éƒ½å¯ä»¥ä½¿ç”¨ç»Ÿä¸€çš„Gradleç‰ˆæœ¬è¿›è¡Œæ„å»ºï¼Œé¿å…å› ä¸ºGradleç‰ˆæœ¬ä¸ç»Ÿä¸€å¸¦æ¥çš„ä¸å¿…è¦çš„é—®é¢˜ã€‚ï¼ˆæ‰€ä»¥è¦æ˜ç™½è¿™ä¸ªä¸œè¥¿å¯ä»¥æ²¡æœ‰ï¼Œæœ‰äº†åªæ˜¯ä¸ºäº†ç»Ÿä¸€ç®¡ç†ï¼Œæ›´åŠ æ–¹ä¾¿ï¼‰</p>

<p>ç”Ÿæˆwrapper
gradle å†…ç½®äº†ç”Ÿæˆwrapperçš„taskï¼Œæˆ‘ä»¬å¯ä»¥å‘½ä»¤è¡Œä¸‹æ‰§è¡Œï¼š
$ gradle wrapper</p>

<p>ç”Ÿæˆåçš„ç›®å½•ç»“æ„å¦‚ä¸‹(ç”¨è¿‡AndroidStudioçš„å¾ˆç†Ÿæ‚‰äº†)ï¼š</p>

<p>â”œâ”€â”€ gradle
â”‚   â””â”€â”€ wrapper
â”‚       â”œâ”€â”€ gradle-wrapper.jar
â”‚       â””â”€â”€ gradle-wrapper.properties
â”œâ”€â”€ gradlew
â””â”€â”€ gradlew.bat
gradlewå’Œgradlew.batåˆ†åˆ«æ˜¯Linuxå’ŒWindowä¸‹çš„å¯æ‰§è¡Œè„šæœ¬ï¼Œä»–ä»¬çš„ç”¨æ³•å’ŒgradleåŸç”Ÿå‘½ä»¤æ˜¯ä¸€æ ·çš„ï¼Œgradleæ€ä¹ˆç”¨ï¼Œä»–ä»¬ä¹Ÿå°±å¯ä»¥æ€ä¹ˆç”¨ã€‚åœ¨MacOSä¸‹è¿è¡Œ$ ./gradlew myTask
gradle-wrapper.jaræ˜¯å…·ä½“ä¸šåŠ¡é€»è¾‘å®ç°çš„jaråŒ…ï¼Œgradlewæœ€ç»ˆè¿˜æ˜¯ä½¿ç”¨javaæ‰§è¡Œçš„è¿™ä¸ªjaråŒ…æ¥æ‰§è¡Œç›¸å…³gradleæ“ä½œã€‚
gradle-wrapper.propertiesæ˜¯é…ç½®æ–‡ä»¶ï¼Œç”¨äºé…ç½®ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„gradleç­‰
è¯¦ç»†çš„çœ‹ä¸‹gradle-wrapper.propertieså†…å®¹
#Sat Jan 21 14:02:40 CST 2017
distributionBase=GRADLE_USER_HOME
distributionPath=wrapper/dists
zipStoreBase=GRADLE_USER_HOME
zipStorePath=wrapper/dists
distributionUrl=https://services.gradle.org/distributions/gradle-2.14.1-bin.zip
ä»ä¸Šé¢å†…å®¹å’Œæ–‡ä»¶çš„åç§°éƒ½å¯ä»¥çœ‹å‡ºï¼Œè¿™å°±æ˜¯ä¸ªjavaçš„é…ç½®æ–‡ä»¶,ä¸Šé¢çœ‹åˆ°çš„æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨ä¿®æ”¹ã€‚ç„¶åçœ‹ä¸‹å„ä¸ªå­—æ®µçš„å«ä¹‰ï¼š</p>

<p>distributionBase ä¸‹è½½çš„gradleå‹ç¼©åŒ…è§£å‹åå­˜å‚¨çš„ä¸»ç›®å½•
distributionPath ç›¸å¯¹äºdistributionBaseçš„è§£å‹åçš„gradleå‹ç¼©åŒ…çš„è·¯å¾„
zipStoreBase åŒdistributionBaseï¼Œåªä¸è¿‡æ˜¯å­˜æ”¾zipå‹ç¼©åŒ…çš„
zipStorePath åŒdistributionPathï¼Œåªä¸è¿‡æ˜¯å­˜æ”¾zipå‹ç¼©åŒ…çš„
distributionUrl gradleå‘è¡Œç‰ˆå‹ç¼©åŒ…çš„ä¸‹è½½åœ°å€ï¼Œä¹Ÿå°±æ˜¯ä½ ç°åœ¨è¿™ä¸ªé¡¹ç›®å°†è¦ä¾èµ–çš„gradleçš„ç‰ˆæœ¬ã€‚
ç”Ÿæˆwrapperå¯ä»¥æŒ‡å®šå‚æ•°
ç”Ÿæˆwrapperå¯ä»¥é€šè¿‡æŒ‡å®šå‚æ•°çš„æ–¹å¼æ¥æŒ‡å®šgradle-wrapper.propertieså†…å®¹ã€‚
ä½¿ç”¨æ–¹æ³•å¦‚gradle wrapper â€“gradle-version 2.14è¿™æ ·ï¼Œè¿™æ ·å°±æ„å‘³ç€æˆ‘ä»¬é…ç½®wrapperä½¿ç”¨2.14ç‰ˆæœ¬çš„gradleï¼Œå®ƒä¼šå½±å“gradle-wrapper.propertiesä¸­çš„distributionUrlçš„å€¼ï¼Œè¯¥å€¼çš„è§„åˆ™æ˜¯http://services.gradle.org/distributions/gradle-${gradleVersion}-bin.zip
å¦‚æœæˆ‘ä»¬åœ¨è°ƒç”¨gradle wrapperçš„æ—¶å€™ä¸æ·»åŠ ä»»ä½•å‚æ•°å‘¢ï¼Œé‚£ä¹ˆå°±ä¼šä½¿ç”¨ä½ å½“å‰Gradleçš„ç‰ˆæœ¬ä½œä¸ºç”Ÿæˆçš„wrapperçš„gradle versionã€‚ä¾‹å¦‚ä½ å½“å‰å®‰è£…çš„gradleæ˜¯2.10ç‰ˆæœ¬çš„ï¼Œé‚£ä¹ˆç”Ÿæˆçš„wrapperä¹Ÿæ˜¯2.10ç‰ˆæœ¬çš„ã€‚æ³¨ï¼šå½“å‰ç‰ˆæœ¬æŒ‡çš„æ˜¯ç¯å¢ƒå˜é‡ä¸­é…ç½®çš„é‚£ä¸ªç‰ˆæœ¬ã€‚</p>
:ET