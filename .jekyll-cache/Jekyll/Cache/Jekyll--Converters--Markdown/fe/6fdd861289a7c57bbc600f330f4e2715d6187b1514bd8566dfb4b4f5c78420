I"ş<!-- more -->
<p>mac ä¸Šå¯ä»¥ç”¨
brew install thrift è¿›è¡Œå®‰è£…
$thrift -version
Thrift version 0.11.0
ä½†æ˜¯æˆ‘ä»¬éœ€è¦ 0.9.2</p>

<p>1,
brew versions install
å’Œ
brew tap homebrew/homebrew-versions
éƒ½ä¸å¯ç”¨</p>

<p>https://stackoverflow.com/questions/3987683/homebrew-install-specific-version-of-formula</p>

<p>å› æ­¤æ‰‹åŠ¨å®‰è£…ï¼š
2,
brew uninstall thrift</p>

<p>axel -n 30 http://archive.apache.org/dist/thrift/0.9.2/thrift-0.9.2.tar.gz</p>

<p>tar -zxvf thrift-0.9.2.tar.gz
cd thrift-0.9.2
./configure</p>

<p>configure: error: Bison version 2.5 or higher must be installed on the system!</p>

<p>brew install Bison</p>

<p>echo â€˜export PATH=â€/usr/local/opt/bison/bin:$PATHâ€â€™Â Â» ~/.bash_profile</p>

<p>$source  .bash_profile</p>

<p>./configure</p>

<p>make</p>

<p>fatal error: â€˜openssl/err.hâ€™ file not found</p>

<p>brew install openssl
Updating Homebrewâ€¦
Warning: openssl 1.0.2n is already installed</p>

<p>brew link openssl â€“force
Warning: Refusing to link: openssl</p>

<p>./configure â€“prefix=/usr/local/ â€“with-boost=/usr/local â€“with-libevent=/usr/local</p>

<p>3,
github 
https://github.com/apache/thrift/tree/0.9.2</p>

<p>git clone https://github.com/apache/thrift.git</p>

<p>$git branch -a</p>

<p>$git checkout  remotes/origin/0.9.2</p>

<p>./bootstrap.sh
   ./configure
   make</p>

<p>src/thrift/transport/TSSLSocket.cpp:33:10: fatal error: â€˜openssl/err.hâ€™ file not found</p>

<p>å®˜ç½‘çš„å®‰è£…æ­¥éª¤ï¼šhttps://thrift.apache.org/docs/install/os_x</p>

<p>OS X Setup
The following command install all the required tools and libraries to build and install the Apache Thrift compiler on a OS X based system.</p>

<p>Install Boost
Download the boost library from boost.org untar compile with</p>

<p>./bootstrap.sh
sudo ./b2 threading=multi address-model=64 variant=release stage install
Install libevent
Download libevent, untar and compile with</p>

<p>./configure â€“prefix=/usr/local 
make
sudo make install
Building Apache Thrift
Download the latest version of Apache Thrift, untar and compile with</p>

<p>./configure â€“prefix=/usr/local/ â€“with-boost=/usr/local â€“with-libevent=/usr/local
Additional reading
For more information on the requirements see: Apache Thrift Requirements</p>

<p>For more information on building and installing Thrift see: Building from source</p>

<p>This snippet was generated by Apache Thriftâ€™s source tree docs: doc/install/os_x.md</p>

<p>ä¸‹è½½boost
axel -n 30 https://dl.bintray.com/boostorg/release/1.66.0/source/boost_1_66_0.tar.gz</p>

<p>bufferevent_openssl.c:66:10: fatal error: â€˜openssl/bio.hâ€™ file not found</p>

<p>axel -n 30 https://dl.bintray.com/boostorg/release/1.66.0/source/boost_1_66_0.tar.gz</p>

<p>tar -zxvf boost_1_66_0.tar.gz
 ./bootstrap.sh
  sudo ./b2 threading=multi address-model=64 variant=release stage install</p>

<p>axel -n 20 https://github.com/libevent/libevent/releases/download/release-2.1.8-stable/libevent-2.1.8-stable.tar.gz</p>

<p>tar -zxvf libevent-2.1.8-stable.tar.gz
 ./configure â€“prefix=/usr/local
 make</p>

<p>src/thrift/transport/TSSLSocket.cpp:33:10: fatal error: â€˜openssl/err.hâ€™ file not found</p>

<p>which openssl
cd ../thrift/
ln -s /Users/didi/anaconda/bin/openssl openssl
make</p>

<p>git clone https://github.com/openssl/openssl.git
 éƒ½å¤±è´¥äº†</p>

<p>4ï¼Œåˆ©ç”¨brewå®‰è£…</p>

<p>git clone https://github.com/Homebrew/homebrew-core.git</p>

<p>å¤ªæ…¢ï¼Œåˆ‡æ¢ä¸­å›½ç§‘å¤§é•œåƒ
 git clone https://mirrors.ustc.edu.cn/homebrew-core.git/</p>

<p>git log ./Formula/thrift.rb | less
 git checkout 56d8c1eba1e5ac30290dd0c486f4bba37f821e42
 brew install ./Formula/thrift.rb</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Error: Calling BottleSpecification.revision is disabled! Use BottleSpecification.rebuild instead. homebrew-core/Formula/thrift.rb:25:in `block in &lt;class:Thrift&gt;'
</code></pre></div></div>

<p>vi Formula/thrift.rb +25</p>

<p>bottle do
    cellar :any
    rebuild 2
    #revision 2</p>

<p>$thrift -version
Thrift version 0.9.2
å®‰è£…æˆåŠŸ</p>
:ET