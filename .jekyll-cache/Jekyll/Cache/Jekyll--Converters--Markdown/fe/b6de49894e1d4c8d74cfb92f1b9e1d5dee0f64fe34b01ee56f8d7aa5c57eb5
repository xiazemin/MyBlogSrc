I"<p>å°†è¿™äº›Kubernetesæ‰¹æ³¨æ·»åŠ åˆ°ç‰¹å®šçš„Ingresså¯¹è±¡ä»¥è‡ªå®šä¹‰å…¶è¡Œä¸º</p>

<p>å¯ä»¥ä½¿ç”¨ â€“annotations-prefix command line argument, å‘½ä»¤è¡Œå‚æ•°æ›´æ”¹æ³¨é‡Šå‰ç¼€ï¼Œä½†æ˜¯é»˜è®¤å€¼ä¸ºnginx.ingress.kubernetes.io
https://rocdu.gitbook.io/ingress-nginx-docs-cn/docs/user-guide/nginx-configuration/annotations</p>

<p>Lua Resty WAF
ä½¿ç”¨lua-resty-waf- *æ³¨é‡Šï¼Œæˆ‘ä»¬å¯ä»¥å¯ç”¨å’Œæ§åˆ¶ lua-resty-waf æ¯ä¸ªlocationçš„Webåº”ç”¨é˜²ç«å¢™.
https://docs.openshift.com/container-platform/4.6/rest_api/network_apis/ingress-networking-k8s-io-v1.html</p>

<!-- more -->
<p>The Kubernetes API
The core of Kubernetesâ€™ control plane is the API server. The API server exposes an HTTP API that lets end users, different parts of your cluster, and external components communicate with one another.</p>

<p>https://kubernetes.io/docs/concepts/overview/kubernetes-api/</p>

<p>Kubernetes APIæ˜¯ç³»ç»Ÿæè¿°æ€§é…ç½®çš„åŸºç¡€ã€‚ Kubectl å‘½ä»¤è¡Œå·¥å…·è¢«ç”¨äºåˆ›å»ºï¼Œæ›´æ–°ï¼Œåˆ é™¤ï¼Œè·å–APIå¯¹è±¡ã€‚</p>

<p>Kubernetes é€šè¿‡APIèµ„æºå­˜å‚¨è‡ªå·±åºåˆ—åŒ–çŠ¶æ€(ç°åœ¨å­˜å‚¨åœ¨etcd)ã€‚</p>

<p>Kubernetes è¢«åˆ†æˆå¤šä¸ªç»„ä»¶ï¼Œå„éƒ¨åˆ†é€šè¿‡APIç›¸äº’äº¤äº’ã€‚</p>

<p>http://kubernetes.kansea.com/docs/api/</p>

<p>Nginx Ingressæ³¨è§£Annotations
Nginx Ingress æ³¨è§£ä½¿ç”¨åœ¨ Ingress èµ„æºå®ä¾‹ä¸­ï¼Œç”¨ä»¥è®¾ç½®å½“å‰ Ingress èµ„æºå®ä¾‹ä¸­ Nginx è™šæ‹Ÿä¸»æœºçš„ç›¸å…³é…ç½®ï¼Œå¯¹åº”é…ç½®çš„æ˜¯ Nginx å½“å‰è™šæ‹Ÿä¸»æœºçš„ server æŒ‡ä»¤åŸŸå†…å®¹ã€‚åœ¨ä¸ Nginx Ingress é…ç½®æ˜ å°„å…·æœ‰ç›¸åŒåŠŸèƒ½é…ç½®æ—¶ï¼Œå°†æŒ‰ç…§æ‰€åœ¨æŒ‡ä»¤åŸŸå±‚çº§éµå¾ª Nginx é…ç½®è§„åˆ™è¦†ç›–ã€‚</p>

<p>Nginx Ingressæ³¨è§£æŒ‰ç…§é…ç½®åŠŸèƒ½æœ‰å¦‚ä¸‹åˆ†ç±»ã€‚
1ã€NginxåŸç”Ÿé…ç½®æŒ‡ä»¤
æ”¯æŒåœ¨æ³¨è§£ä¸­æ·»åŠ  Nginx åŸç”Ÿé…ç½®æŒ‡ä»¤ã€‚é…ç½®è¯´æ˜å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p>

<p>æ³¨è§£ ç±»å‹ åŠŸèƒ½æè¿°
nginx.ingress.kubernetes.io/server-snippet string åœ¨ server æŒ‡ä»¤åŸŸæ·»åŠ  Nginx é…ç½®æŒ‡ä»¤
nginx.ingress.kubernetes.io/configuration-snippet string åœ¨ location æŒ‡ä»¤åŸŸæ·»åŠ  Nginx é…ç½®æŒ‡ä»¤</p>

<p>https://putianhui.cn/index.php/K8S/145.html</p>

<p>https://github.com/kubernetes/ingress-nginx/issues/3570</p>

<p>https://putianhui.cn/index.php/K8S/145.html
Nginx Ingress æ³¨è§£ä½¿ç”¨åœ¨ Ingress èµ„æºå®ä¾‹ä¸­ï¼Œç”¨ä»¥è®¾ç½®å½“å‰ Ingress èµ„æºå®ä¾‹ä¸­ Nginx è™šæ‹Ÿä¸»æœºçš„ç›¸å…³é…ç½®ï¼Œå¯¹åº”é…ç½®çš„æ˜¯ Nginx å½“å‰è™šæ‹Ÿä¸»æœºçš„ server æŒ‡ä»¤åŸŸå†…å®¹ã€‚åœ¨ä¸ Nginx Ingress é…ç½®æ˜ å°„å…·æœ‰ç›¸åŒåŠŸèƒ½é…ç½®æ—¶ï¼Œå°†æŒ‰ç…§æ‰€åœ¨æŒ‡ä»¤åŸŸå±‚çº§éµå¾ª Nginx é…ç½®è§„åˆ™è¦†ç›–ã€‚</p>

<p>Nginx Ingressæ³¨è§£æŒ‰ç…§é…ç½®åŠŸèƒ½æœ‰å¦‚ä¸‹åˆ†ç±»ã€‚
1ã€NginxåŸç”Ÿé…ç½®æŒ‡ä»¤
æ”¯æŒåœ¨æ³¨è§£ä¸­æ·»åŠ  Nginx åŸç”Ÿé…ç½®æŒ‡ä»¤ã€‚é…ç½®è¯´æ˜å¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚</p>

<p>æ³¨è§£ ç±»å‹ åŠŸèƒ½æè¿°
nginx.ingress.kubernetes.io/server-snippet string åœ¨ server æŒ‡ä»¤åŸŸæ·»åŠ  Nginx é…ç½®æŒ‡ä»¤
nginx.ingress.kubernetes.io/configuration-snippet string åœ¨ location æŒ‡ä»¤åŸŸæ·»åŠ  Nginx é…ç½®æŒ‡ä»¤</p>

<p>https://kubernetes.io/zh/docs/tasks/manage-kubernetes-objects/declarative-config/</p>

<p>https://github.com/kubernetes/ingress-nginx/issues/4940</p>

<p>https://cloud.ibm.com/docs/containers?topic=containers-comm-ingress-annotations&amp;locale=ko</p>

<p>https://zivgitlab.uni-muenster.de/c_wied05/wordpress-kube/-/blob/master/wordpress-helm/templates/ingress.yml</p>

<p>kubectl.kubernetes.io/last-applied-configuration</p>

:ET