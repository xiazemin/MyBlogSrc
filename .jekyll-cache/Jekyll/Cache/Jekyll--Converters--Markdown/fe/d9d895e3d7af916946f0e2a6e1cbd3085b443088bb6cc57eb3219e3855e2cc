I"¸<p>ã€€è¿™ä¸¤ä¸ªå‡½æ•°æˆ–è€…è¿”å›ä¸æŸä¸ªå¥—æ¥å­—å…³è”çš„æœ¬åœ°åè®®åœ°å€ï¼ˆgetsocknameï¼‰ï¼Œæˆ–è€…è¿”å›ä¸æŸä¸ªå¥—æ¥å­—å…³è”çš„å¤–åœ°åè®®åœ°å€å³å¾—åˆ°å¯¹æ–¹çš„åœ°å€ï¼ˆgetpeernameï¼‰ã€‚
#include &lt;sys/socket.h&gt;</p>

<p>int getsockname(int sockfd,struct sockaddr* localaddr,socklen_t <em>addrlen);
int getpeername(int sockfd,struct sockaddr</em> peeraddr,socklen_t *addrlen);
å‡è¿”å›ï¼šè‹¥æˆåŠŸåˆ™ä¸º0ï¼Œå¤±è´¥åˆ™ä¸º-1
ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€
getsocknameå¯ä»¥è·å¾—ä¸€ä¸ªä¸socketç›¸å…³çš„åœ°å€ï¼ŒæœåŠ¡å™¨ç«¯å¯ä»¥é€šè¿‡å®ƒå¾—åˆ°ç›¸å…³å®¢æˆ·ç«¯åœ°å€ï¼Œè€Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥å¾—åˆ°å½“å‰å·²è¿æ¥æˆåŠŸçš„socketçš„ipå’Œç«¯å£ã€‚</p>
:ET