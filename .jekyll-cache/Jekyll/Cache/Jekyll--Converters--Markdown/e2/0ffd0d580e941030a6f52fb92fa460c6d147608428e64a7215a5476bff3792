I"Äg<p>ä¸€. Droolsè§„åˆ™å¼•æ“
ç®€ä»‹ï¼š
Droolså°±æ˜¯ä¸ºäº†è§£å†³ä¸šåŠ¡ä»£ç å’Œä¸šåŠ¡è§„åˆ™åˆ†ç¦»çš„å¼•æ“ã€‚
Drools è§„åˆ™æ˜¯åœ¨ Java åº”ç”¨ç¨‹åºä¸Šè¿è¡Œçš„ï¼Œå…¶è¦æ‰§è¡Œçš„æ­¥éª¤é¡ºåºç”±ä»£ç ç¡®å®š
ï¼Œä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼ŒDrools è§„åˆ™å¼•æ“å°†ä¸šåŠ¡è§„åˆ™è½¬æ¢æˆæ‰§è¡Œæ ‘ã€‚
ç‰¹æ€§ï¼š
ä¼˜ç‚¹ï¼š
ã€€ã€€ã€€1ã€ç®€åŒ–ç³»ç»Ÿæ¶æ„ï¼Œä¼˜åŒ–åº”ç”¨
ã€€ã€€ã€€2ã€æé«˜ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å’Œç»´æŠ¤æˆæœ¬
ã€€ã€€ã€€3ã€æ–¹ä¾¿ç³»ç»Ÿçš„æ•´åˆ
ã€€ã€€ã€€4ã€å‡å°‘ç¼–å†™â€œç¡¬ä»£ç â€ä¸šåŠ¡è§„åˆ™çš„æˆæœ¬å’Œé£é™©
3.åŸç†ï¼š
<!-- more -->
	<img src="https://xiazemin.github.io/MyBlog/img/dtools.webp" />
	ä½¿ç”¨æ–¹å¼ï¼š
(1)Maven ä¾èµ–ï¼š</p>

<dependencies>
    <dependency>
        <groupId>org.kie</groupId>
        <artifactId>kie-api</artifactId>
        <version>6.5.0.Final</version>
    </dependency>
    <dependency>
        <groupId>org.drools</groupId>
        <artifactId>drools-compiler</artifactId>
        <version>6.5.0.Final</version>
        <scope>runtime</scope>
    </dependency>
    <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>4.12</version>
    </dependency>
</dependencies>
<p>ï¼ˆ2ï¼‰æ–°å»ºé…ç½®æ–‡ä»¶/src/resources/META-INF/kmodule.xml</p>

<p>&lt;?xml version=â€1.0â€ encoding=â€UTF-8â€?&gt;</p>
<kmodule xmlns="http://jboss.org/kie/6.0.0/kmodule">
    <kbase name="rules" packages="rules">
        <ksession name="myAgeSession" />
    </kbase>
</kmodule>
<p>ï¼ˆ3ï¼‰æ–°å»ºdroolsè§„åˆ™æ–‡ä»¶/src/resources/rules/age.drl</p>

<p>import com.lrq.wechatDemo.domain.User               // å¯¼å…¥ç±»</p>

<p>dialect  â€œmvelâ€</p>

<p>rule â€œageâ€                                      // è§„åˆ™åï¼Œå”¯ä¸€
    when
        $user : User(age&lt;15 || age&gt;60)     //è§„åˆ™çš„æ¡ä»¶éƒ¨åˆ†
    then
        System.out.println(â€œå¹´é¾„ä¸ç¬¦åˆè¦æ±‚ï¼â€);
end
å·¥ç¨‹æ­å»ºå®Œæ¯•ï¼Œæ•ˆæœå¦‚å›¾ï¼š</p>

<p>é¡¹ç›®ç»“æ„.png
æµ‹è¯•ç”¨ä¾‹ï¼š</p>

<p>/**</p>
<ul>
  <li>CreateBy: haleyliu</li>
  <li>
    <p>CreateDate: 2018/12/26
 <em>/
@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(locations = {â€œclasspath</em>:applicationContext.xmlâ€})
public class TestUser {</p>

    <p>private static KieContainer container = null;
 private KieSession statefulKieSession = null;</p>

    <p>@Test
 public void test(){
     KieServices kieServices = KieServices.Factory.get();
     container = kieServices.getKieClasspathContainer();
     statefulKieSession = container.newKieSession(â€œmyAgeSessionâ€);
     User user = new User(â€œduval yangâ€,12);
     statefulKieSession.insert(user);
     statefulKieSession.fireAllRules();
     statefulKieSession.dispose();</p>

    <p>}</p>
  </li>
</ul>

<p>}</p>

<p>äºŒ.Aviatorè¡¨è¾¾å¼æ±‚å€¼å¼•æ“
ç®€ä»‹ï¼š
Aviatoræ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ã€è½»é‡çº§çš„javaè¯­è¨€å®ç°çš„è¡¨è¾¾å¼æ±‚å€¼å¼•æ“ï¼Œä¸»è¦ç”¨äºå„
ç§è¡¨è¾¾å¼çš„åŠ¨æ€æ±‚å€¼ã€‚ç°åœ¨å·²ç»æœ‰å¾ˆå¤šå¼€æºå¯ç”¨çš„javaè¡¨è¾¾å¼æ±‚å€¼å¼•æ“ï¼Œä¸ºä»€
ä¹ˆè¿˜éœ€è¦Avaitorå‘¢ï¼Ÿ</p>

<p>Aviatorçš„è®¾è®¡ç›®æ ‡æ˜¯è½»é‡çº§å’Œé«˜æ€§èƒ½ ï¼Œç›¸æ¯”äºGroovyã€JRubyçš„ç¬¨é‡ï¼ŒAviator
éå¸¸å°ï¼ŒåŠ ä¸Šä¾èµ–åŒ…ä¹Ÿæ‰450K,ä¸ç®—ä¾èµ–åŒ…çš„è¯åªæœ‰70Kï¼›å½“ç„¶ï¼ŒAviatorçš„è¯­æ³•
æ˜¯å—é™çš„ï¼Œå®ƒä¸æ˜¯ä¸€é—¨å®Œæ•´çš„è¯­è¨€ï¼Œè€Œåªæ˜¯è¯­è¨€çš„ä¸€å°éƒ¨åˆ†é›†åˆã€‚</p>

<p>å…¶æ¬¡ï¼ŒAviatorçš„å®ç°æ€è·¯ä¸å…¶ä»–è½»é‡çº§çš„æ±‚å€¼å™¨å¾ˆä¸ç›¸åŒï¼Œå…¶ä»–æ±‚å€¼å™¨ä¸€èˆ¬éƒ½
æ˜¯é€šè¿‡è§£é‡Šçš„æ–¹å¼è¿è¡Œï¼Œè€ŒAviatoråˆ™æ˜¯ç›´æ¥å°†è¡¨è¾¾å¼ç¼–è¯‘æˆJavaå­—èŠ‚ç ï¼Œäº¤ç»™
JVMå»æ‰§è¡Œã€‚ç®€å•æ¥è¯´ï¼ŒAviatorçš„å®šä½æ˜¯ä»‹äºGroovyè¿™æ ·çš„é‡é‡çº§è„šæœ¬è¯­è¨€å’Œ
IKExpressionè¿™æ ·çš„è½»é‡çº§è¡¨è¾¾å¼å¼•æ“ä¹‹é—´ã€‚
ç‰¹æ€§ï¼š
ï¼ˆ1ï¼‰æ”¯æŒå¤§éƒ¨åˆ†è¿ç®—æ“ä½œç¬¦ï¼ŒåŒ…æ‹¬ç®—æœ¯æ“ä½œç¬¦ã€å…³ç³»è¿ç®—ç¬¦ã€é€»è¾‘æ“ä½œç¬¦ã€
æ­£åˆ™åŒ¹é…æ“ä½œç¬¦(=~)ã€ä¸‰å…ƒè¡¨è¾¾å¼?: ï¼Œå¹¶ä¸”æ”¯æŒæ“ä½œç¬¦çš„ä¼˜å…ˆçº§å’Œæ‹¬å·å¼ºåˆ¶ä¼˜
å…ˆçº§ï¼Œå…·ä½“è¯·çœ‹åé¢çš„æ“ä½œç¬¦åˆ—è¡¨ã€‚
ï¼ˆ2ï¼‰æ”¯æŒå‡½æ•°è°ƒç”¨å’Œè‡ªå®šä¹‰å‡½æ•°ã€‚
ï¼ˆ3ï¼‰æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œç±»ä¼¼Rubyã€Perlçš„åŒ¹é…è¯­æ³•ï¼Œå¹¶ä¸”æ”¯æŒç±»Rubyçš„
$digitæŒ‡å‘åŒ¹é…åˆ†ç»„ã€‚è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼Œå½“æ‰§è¡Œæ“ä½œçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨åˆ¤æ–­æ“ä½œæ•°ç±»
å‹å¹¶åšç›¸åº”è½¬æ¢ï¼Œæ— æ³•è½¬æ¢å³æŠ›å¼‚å¸¸ã€‚
ï¼ˆ4ï¼‰æ”¯æŒä¼ å…¥å˜é‡ï¼Œæ”¯æŒç±»ä¼¼a.b.cçš„åµŒå¥—å˜é‡è®¿é—®ã€‚
ï¼ˆ5ï¼‰æ€§èƒ½ä¼˜ç§€ã€‚
ï¼ˆ6ï¼‰Aviatorçš„é™åˆ¶ï¼Œæ²¡æœ‰if elseã€do whileç­‰è¯­å¥ï¼Œæ²¡æœ‰èµ‹å€¼è¯­å¥ï¼Œä»…æ”¯æŒé€»
è¾‘è¡¨è¾¾å¼ã€ç®—æœ¯è¡¨è¾¾å¼ã€ä¸‰å…ƒè¡¨è¾¾å¼å’Œæ­£åˆ™åŒ¹é…ã€‚æ²¡æœ‰ä½è¿ç®—ç¬¦</p>

<p>æ•´ä½“ç»“æ„ï¼š</p>

<p>æ•´ä½“ç»“æ„.png
mavenä¾èµ–ï¼š</p>

<dependency>
    <groupId>com.googlecode.aviator</groupId>
    <artifactId>aviator</artifactId>
    <version>${aviator.version}</version>
</dependency>
<p>æ‰§è¡Œæ–¹å¼
æ‰§è¡Œè¡¨è¾¾å¼çš„æ–¹æ³•æœ‰ä¸¤ä¸ªï¼šexecute()ã€exec();
execute()ï¼Œéœ€è¦ä¼ é€’Mapæ ¼å¼å‚æ•°
exec(),ä¸éœ€è¦ä¼ é€’Map
ç¤ºä¾‹ï¼š</p>

<p>/**</p>
<ul>
  <li>CreateBy: haleyliu</li>
  <li>
    <p>CreateDate: 2018/12/25
 */
public class Test {
 public static void main(String[] args) {
     // execæ‰§è¡Œæ–¹å¼ï¼Œæ— éœ€ä¼ é€’Mapæ ¼å¼
     String age = â€œ18â€;
     System.out.println(AviatorEvaluator.exec(â€œâ€˜His age is â€˜+ age +â€™!â€™â€, age));</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> // executeæ‰§è¡Œæ–¹å¼ï¼Œéœ€ä¼ é€’Mapæ ¼å¼
 Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();
 map.put("age", "18");
 System.out.println(AviatorEvaluator.execute("'His age is '+ age +'!'",  map));
</code></pre></div>    </div>

    <p>}
}
ä½¿ç”¨å‡½æ•°
Aviatorå¯ä»¥ä½¿ç”¨ä¸¤ç§å‡½æ•°ï¼šå†…ç½®å‡½æ•°ã€è‡ªå®šä¹‰å‡½æ•°
ï¼ˆ1ï¼‰å†…ç½®å‡½æ•°</p>
  </li>
</ul>

<p>Aviatorå†…ç½®å‡½æ•°.png
Aviatorå†…ç½®å‡½æ•°.png</p>

<p>/**</p>
<ul>
  <li>CreateBy: haleyliu</li>
  <li>CreateDate: 2018/12/25
 */
public class Test {
 public static void main(String[] args) {
     Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();
     map.put(â€œs1â€,â€123qwerâ€);
     map.put(â€œs2â€,â€123â€);</li>
</ul>

<p>System.out.println(AviatorEvaluator.execute(â€œstring.startsWith(s1,s2)â€,map));</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>} }
</code></pre></div></div>

<p>ï¼ˆ2ï¼‰è‡ªå®šä¹‰å‡½æ•°</p>

<p>è‡ªå®šä¹‰å‡½æ•°è¦ç»§æ‰¿AbstractFunctionç±»ï¼Œé‡å†™ç›®æ ‡æ–¹æ³•ã€‚</p>

<p>/**</p>
<ul>
  <li>CreateBy: haleyliu</li>
  <li>CreateDate: 2018/12/25
 */
public class Test {
 public static void main(String[] args) {
     // æ³¨å†Œè‡ªå®šä¹‰å‡½æ•°
     AviatorEvaluator.addFunction(new MultiplyFunction());
     // æ–¹å¼1
     System.out.println(AviatorEvaluator.execute(â€œmultiply(12.23, -2.3)â€));
     // æ–¹å¼2
     Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();
     params.put(â€œaâ€, 12.23);
     params.put(â€œbâ€, -2.3);
     System.out.println(AviatorEvaluator.execute(â€œmultiply(a, b)â€, params));
 }</li>
</ul>

<p>}</p>

<p>class MultiplyFunction extends AbstractFunction{
    @Override
    public AviatorObject call(Map&lt;String, Object&gt; env, AviatorObject arg1, AviatorObject arg2) {</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    double num1 = FunctionUtils.getNumberValue(arg1, env).doubleValue();
    double num2 = FunctionUtils.getNumberValue(arg2, env).doubleValue();
    return new AviatorDouble(num1 * num2);
}

@Override
public String getName() {
    return "multiply";
}
</code></pre></div></div>

<p>}
å¸¸ç”¨æ“ä½œç¬¦çš„ä½¿ç”¨
ï¼ˆ1ï¼‰æ“ä½œç¬¦åˆ—è¡¨</p>

<p>æ“ä½œç¬¦åˆ—è¡¨.png
ï¼ˆ2ï¼‰å¸¸é‡å’Œå˜é‡</p>

<p>å¸¸é‡å’Œå˜é‡.png
ï¼ˆ3ï¼‰ç¼–è¯‘è¡¨è¾¾å¼</p>

<p>/**</p>
<ul>
  <li>CreateBy: haleyliu</li>
  <li>
    <p>CreateDate: 2018/12/25
*/
public class Test {
 public static void main(String[] args) {
     String expression = â€œa+(b-c)&gt;100â€;
     // ç¼–è¯‘è¡¨è¾¾å¼
     Expression compiledExp = AviatorEvaluator.compile(expression);</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Map&lt;String, Object&gt; env = new HashMap&lt;&gt;();
 env.put("a", 100.3);
 env.put("b", 45);
 env.put("c", -199.100);

 // æ‰§è¡Œè¡¨è¾¾å¼
 Boolean result = (Boolean) compiledExp.execute(env);
 System.out.println(result);
</code></pre></div>    </div>

    <p>}
}</p>
  </li>
</ul>

<p>(4) è®¿é—®æ•°ç»„å’Œé›†åˆ
Listå’Œæ•°ç»„ç”¨list[0]å’Œarray[0]ï¼ŒMapç”¨map.date</p>

<p>/**</p>
<ul>
  <li>CreateBy: haleyliu</li>
  <li>
    <p>CreateDate: 2018/12/25
 */
public class Test {
 public static void main(String[] args) {</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> final List&lt;String&gt; list = new ArrayList&lt;&gt;();
 list.add("hello");
 list.add(" world");

 final int[] array = new int[3];
 array[0] = 0;
 array[1] = 1;
 array[2] = 3;

 final Map&lt;String, Date&gt; map = new HashMap&lt;&gt;();
 map.put("date", new Date());

 Map&lt;String, Object&gt; env = new HashMap&lt;&gt;();
 env.put("list", list);
 env.put("array", array);
 env.put("map", map);

 System.out.println(AviatorEvaluator.execute(
         "list[0]+':'+array[0]+':'+'today is '+map.date", env));
</code></pre></div>    </div>

    <p>}</p>
  </li>
</ul>

<p>}
ï¼ˆ5ï¼‰ ä¸‰å…ƒæ¯”è¾ƒç¬¦</p>

<p>/**</p>
<ul>
  <li>CreateBy: haleyliu</li>
  <li>
    <p>CreateDate: 2018/12/25
 */
public class Test {
 public static void main(String[] args) {</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Map&lt;String, Object&gt; env = new HashMap&lt;String, Object&gt;();
 env.put("a", -5);
 String result = (String) AviatorEvaluator.execute("a&gt;0? 'yes':'no'", env);
 System.out.println(result);  }
</code></pre></div>    </div>
  </li>
</ul>

<p>}
(6) æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</p>

<p>/**</p>
<ul>
  <li>CreateBy: haleyliu</li>
  <li>CreateDate: 2018/12/25
 */
public class Test {
 public static void main(String[] args) {
     String email = â€œhello2018@gmail.comâ€;
     Map&lt;String, Object&gt; env = new HashMap&lt;String, Object&gt;();
     env.put(â€œemailâ€, email);
     String username = (String) AviatorEvaluator.execute(â€œemail=~/([\w0-8]+)@\w+[\.\w+]+/ ? $1 : â€˜unknowâ€™ â€œ, env);
     System.out.println(username);
 }
}
(7) å˜é‡çš„è¯­æ³•ç³–è¡£</li>
</ul>

<p>/**</p>
<ul>
  <li>CreateBy: haleyliu</li>
  <li>
    <p>CreateDate: 2018/12/25
 */
public class Test {
 public static void main(String[] args) {
     User user = new User(1,â€jackâ€,â€18â€);
     Map&lt;String, Object&gt; env = new HashMap&lt;&gt;();
     env.put(â€œuserâ€, user);</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> String result = (String) AviatorEvaluator.execute(" '[user id='+ user.id + ',name='+user.name + ',age=' +user.age +']' ", env);
 System.out.println(result);  } }
</code></pre></div>    </div>
  </li>
</ul>

<p>/**</p>
<ul>
  <li>CreateBy: haleyliu</li>
  <li>
    <p>CreateDate: 2018/12/25
 */
public class User {</p>

    <p>private int id;</p>

    <p>private String name;</p>

    <p>private String age;</p>

    <p>public User() {
 }</p>

    <p>public User(int id, String name, String age) {
     this.id = id;
     this.name = name;
     this.age = age;
 }</p>

    <p>public int getId() {
     return id;
 }</p>

    <p>public void setId(int id) {
     this.id = id;
 }</p>

    <p>public String getName() {
     return name;
 }</p>

    <p>public void setName(String name) {
     this.name = name;
 }</p>

    <p>public String getAge() {
     return age;
 }</p>

    <p>public void setAge(String age) {
     this.age = age;
 }</p>

    <p>@Override
 public String toString() {
     return â€œUser{â€œ +
             â€œid=â€ + id +
             â€œ, name=â€™â€ + name + â€˜'â€™ +
             â€œ, age=â€™â€ + age + â€˜'â€™ +
             â€˜}â€™;
 }</p>
  </li>
</ul>

<p>}
(8) nilå¯¹è±¡[ä»»ä½•å¯¹è±¡éƒ½æ¯”nilå¤§é™¤äº†nilæœ¬èº«]</p>

<p>nilæ˜¯Aviatorå†…ç½®çš„å¸¸é‡ï¼Œç±»ä¼¼javaä¸­çš„nullï¼Œè¡¨ç¤ºç©ºçš„å€¼ã€‚nilè·Ÿnullä¸åŒçš„åœ¨
äºï¼Œåœ¨javaä¸­nullåªèƒ½ä½¿ç”¨åœ¨==ã€!=çš„æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œè€Œnilè¿˜å¯ä»¥ä½¿ç”¨&gt;ã€&gt;=ã€
&lt;ã€&lt;=ç­‰æ¯”è¾ƒè¿ç®—ç¬¦ã€‚Aviatorè§„å®šï¼Œ[ä»»ä½•å¯¹è±¡éƒ½æ¯”nilå¤§é™¤äº†nilæœ¬èº«]ã€‚ç”¨æˆ·ä¼ å…¥
çš„å˜é‡å¦‚æœä¸ºnullï¼Œå°†è‡ªåŠ¨ä»¥nilæ›¿ä»£ã€‚</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    AviatorEvaluator.execute("nil == nil");  //true 
    AviatorEvaluator.execute(" 3&gt; nil");    //true 
    AviatorEvaluator.execute(" true!= nil");    //true 
    AviatorEvaluator.execute(" ' '&gt;nil ");  //true 
    AviatorEvaluator.execute(" a==nil ");   //true,a is null nilä¸Stringç›¸åŠ çš„æ—¶å€™ï¼Œè·Ÿjavaä¸€æ ·æ˜¾ç¤ºä¸ºnull
</code></pre></div></div>

<p>(9) æ—¥æœŸæ¯”è¾ƒ</p>

<p>/**</p>
<ul>
  <li>CreateBy: haleyliu</li>
  <li>
    <p>CreateDate: 2018/12/25
 */
public class Test {
 public static void main(String[] args) {
     Map&lt;String, Object&gt; env = new HashMap&lt;String, Object&gt;();
     final Date date = new Date();
     String dateStr = new SimpleDateFormat(â€œyyyy-MM-dd HH:mm:ss:SSâ€).format(date);
     env.put(â€œdateâ€, date);
     env.put(â€œdateStrâ€, dateStr);</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Boolean result = (Boolean) AviatorEvaluator.execute("date==dateStr",  env);
 System.out.println(result);

 result = (Boolean) AviatorEvaluator.execute("date &gt; '2009-12-20  00:00:00:00' ", env);
 System.out.println(result);

 result = (Boolean) AviatorEvaluator.execute("date &lt; '2200-12-20  00:00:00:00' ", env);
 System.out.println(result);

 result = (Boolean) AviatorEvaluator.execute("date ==date ", env);
 System.out.println(result);
</code></pre></div>    </div>

    <p>}
}
(10) è¯­æ³•æ‰‹å†Œ</p>
  </li>
</ul>

<p>æ•°æ®ç±»å‹
Numberç±»å‹ï¼šæ•°å­—ç±»å‹ï¼Œæ”¯æŒä¸¤ç§ç±»å‹ï¼Œåˆ†åˆ«å¯¹åº”Javaçš„Longå’ŒDoubleï¼Œä¹Ÿå°±æ˜¯è¯´ä»»ä½•æ•´æ•°éƒ½å°†è¢«è½¬æ¢ä¸ºLongï¼Œè€Œä»»ä½•æµ®ç‚¹æ•°éƒ½å°†è¢«è½¬æ¢ä¸ºDoubleï¼ŒåŒ…æ‹¬ç”¨æˆ·ä¼ å…¥çš„æ•°å€¼ä¹Ÿæ˜¯å¦‚æ­¤è½¬æ¢ã€‚ä¸æ”¯æŒç§‘å­¦è®¡æ•°æ³•ï¼Œä»…æ”¯æŒåè¿›åˆ¶ã€‚å¦‚-1ã€100ã€2.3ç­‰ã€‚</p>

<p>Stringç±»å‹ï¼š å­—ç¬¦ä¸²ç±»å‹ï¼Œå•å¼•å·æˆ–è€…åŒå¼•å·æ‹¬èµ·æ¥çš„æ–‡æœ¬ä¸²ï¼Œå¦‚â€™hello worldâ€™ï¼Œå˜é‡å¦‚æœä¼ å…¥çš„æ˜¯Stringæˆ–è€…Characterä¹Ÿå°†è½¬ä¸ºStringç±»å‹ã€‚</p>

<p>Boolç±»å‹ï¼š å¸¸é‡trueå’Œfalseï¼Œè¡¨ç¤ºçœŸå€¼å’Œå‡å€¼ï¼Œä¸javaçš„Boolean.TRUEå’ŒBoolean.Falseå¯¹åº”ã€‚</p>

<p>Patternç±»å‹ï¼š ç±»ä¼¼Rubyã€perlçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œä»¥//æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²ï¼Œå¦‚//d+/ï¼Œå†…éƒ¨å®ç°ä¸ºjava.util.Patternã€‚</p>

<p>å˜é‡ç±»å‹ï¼š ä¸Javaçš„å˜é‡å‘½åè§„åˆ™ç›¸åŒï¼Œå˜é‡çš„å€¼ç”±ç”¨æˆ·ä¼ å…¥ï¼Œå¦‚â€aâ€ã€â€bâ€ç­‰</p>

<p>nilç±»å‹: å¸¸é‡nil,ç±»ä¼¼javaä¸­çš„nullï¼Œä½†æ˜¯nilæ¯”è¾ƒç‰¹æ®Šï¼Œnilä¸ä»…å¯ä»¥å‚ä¸==ã€!=çš„æ¯”è¾ƒï¼Œä¹Ÿå¯ä»¥å‚ä¸&gt;ã€&gt;=ã€&lt;ã€&lt;=çš„æ¯”è¾ƒï¼ŒAviatorè§„å®šä»»ä½•ç±»å‹éƒ½nå¤§äºnilé™¤äº†nilæœ¬èº«ï¼Œnil==nilè¿”å›trueã€‚ç”¨æˆ·ä¼ å…¥çš„å˜é‡å€¼å¦‚æœä¸ºnullï¼Œé‚£ä¹ˆä¹Ÿå°†ä½œä¸ºnilå¤„ç†ï¼Œnilæ‰“å°ä¸ºnullã€‚</p>

<p>ç®—æœ¯è¿ç®—ç¬¦
Aviatoræ”¯æŒå¸¸è§çš„ç®—æœ¯è¿ç®—ç¬¦ï¼ŒåŒ…æ‹¬+ - <tt></tt> / % äº”ä¸ªäºŒå…ƒè¿ç®—ç¬¦ï¼Œå’Œä¸€å…ƒè¿ç®—ç¬¦â€-â€œã€‚å…¶ä¸­ - <tt></tt> / %å’Œä¸€å…ƒçš„â€-â€œä»…èƒ½ä½œç”¨äºNumberç±»å‹ã€‚</p>

<p>â€+â€ä¸ä»…èƒ½ç”¨äºNumberç±»å‹ï¼Œè¿˜å¯ä»¥ç”¨äºStringçš„ç›¸åŠ ï¼Œæˆ–è€…å­—ç¬¦ä¸²ä¸å…¶ä»–å¯¹è±¡çš„ç›¸åŠ ã€‚Aviatorè§„å®šï¼Œä»»ä½•ç±»å‹ä¸Stringç›¸åŠ ï¼Œç»“æœä¸ºStringã€‚</p>

<p>é€»è¾‘è¿ç®—ç¬¦
Avaitorçš„æ”¯æŒçš„é€»è¾‘è¿ç®—ç¬¦åŒ…æ‹¬ï¼Œä¸€å…ƒå¦å®šè¿ç®—ç¬¦â€!â€ï¼Œä»¥åŠé€»è¾‘ä¸çš„â€&amp;&amp;â€ï¼Œé€»è¾‘æˆ–çš„â€||â€ã€‚é€»è¾‘è¿ç®—ç¬¦çš„æ“ä½œæ•°åªèƒ½ä¸ºBooleanã€‚</p>

<p>å…³ç³»è¿ç®—ç¬¦
Aviatoræ”¯æŒçš„å…³ç³»è¿ç®—ç¬¦åŒ…æ‹¬â€&lt;â€ â€œ&lt;=â€ â€œ&gt;â€ â€œ&gt;=â€ ä»¥åŠâ€==â€å’Œâ€!=â€ ã€‚
&amp;&amp;å’Œ||éƒ½æ‰§è¡ŒçŸ­è·¯è§„åˆ™ã€‚</p>

<p>å…³ç³»è¿ç®—ç¬¦å¯ä»¥ä½œç”¨äºNumberä¹‹é—´ã€Stringä¹‹é—´ã€Patternä¹‹é—´ã€Booleanä¹‹é—´ã€å˜é‡ä¹‹é—´ä»¥åŠå…¶ä»–ç±»å‹ä¸nilä¹‹é—´çš„å…³ç³»æ¯”è¾ƒï¼Œä¸åŒç±»å‹é™¤äº†nilä¹‹å¤–ä¸èƒ½ç›¸äº’æ¯”è¾ƒã€‚</p>

<p>Aviatorè§„å®šä»»ä½•å¯¹è±¡éƒ½æ¯”nilå¤§é™¤äº†nilä¹‹å¤–ã€‚</p>

<p>åŒ¹é…è¿ç®—ç¬¦
åŒ¹é…è¿ç®—ç¬¦â€=~â€ç”¨äºStringå’ŒPatternçš„åŒ¹é…ï¼Œå®ƒçš„å·¦æ“ä½œæ•°å¿…é¡»ä¸ºStringï¼Œå³æ“ä½œæ•°å¿…é¡»ä¸ºPatternã€‚åŒ¹é…æˆåŠŸåï¼ŒPatternçš„åˆ†ç»„å°†å­˜äºå˜é‡$numï¼Œnumä¸ºåˆ†ç»„ç´¢å¼•ã€‚</p>

<p>ä¸‰å…ƒè¿ç®—ç¬¦
Aviatoræ²¡æœ‰æä¾›if elseè¯­å¥ï¼Œä½†æ˜¯æä¾›äº†ä¸‰å…ƒè¿ç®—ç¬¦ â€œ?:â€ï¼Œå½¢å¼ä¸º bool ? exp1: exp2ã€‚ å…¶ä¸­boolå¿…é¡»ä¸ºç»“æœä¸ºBooleanç±»å‹çš„è¡¨è¾¾å¼ï¼Œè€Œexp1å’Œexp2å¯ä»¥ä¸ºä»»ä½•åˆæ³•çš„Aviatorè¡¨è¾¾å¼ï¼Œå¹¶ä¸”ä¸è¦æ±‚exp1å’Œexp2è¿”å›çš„ç»“æœç±»å‹ä¸€è‡´ã€‚</p>

<p>ä¸¤ç§æ¨¡å¼
é»˜è®¤AviatorEvaluatorä»¥ç¼–è¯‘é€Ÿåº¦ä¼˜å…ˆï¼š
AviatorEvaluator.setOptimize(AviatorEvaluator.COMPILE);
ä½ å¯ä»¥ä¿®æ”¹ä¸ºè¿è¡Œé€Ÿåº¦ä¼˜å…ˆï¼Œè¿™ä¼šåšæ›´å¤šçš„ç¼–è¯‘ä¼˜åŒ–ï¼š
AviatorEvaluator.setOptimize(AviatorEvaluator.EVAL);
ä¸‰.MVELè¡¨è¾¾å¼è§£æå™¨
1.ç®€ä»‹ ï¼š</p>

<p>MVELåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå—åˆ°Javaè¯­æ³•çš„å¯å‘ï¼Œä½œä¸ºä¸€ä¸ªè¡¨è¾¾å¼è¯­è¨€ï¼Œä¹Ÿæœ‰ä¸€äº›æ ¹æœ¬
çš„åŒºåˆ«ï¼Œæ—¨åœ¨æ›´é«˜çš„æ•ˆç‡ï¼Œä¾‹å¦‚ï¼šç›´æ¥æ”¯æŒé›†åˆã€æ•°ç»„å’Œå­—ç¬¦ä¸²åŒ¹é…ç­‰æ“ä½œä»¥
åŠæ­£åˆ™è¡¨è¾¾å¼ã€‚ MVELç”¨äºæ‰§è¡Œä½¿ç”¨Javaè¯­æ³•ç¼–å†™çš„è¡¨è¾¾å¼ã€‚
2.ç‰¹æ€§ï¼š</p>

<p>MVELæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„åŸºäºJavaåº”ç”¨ç¨‹åºçš„è¡¨è¾¾å¼è¯­è¨€ã€‚
ç›®å‰æœ€æ–°çš„ç‰ˆæœ¬æ˜¯2.0ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š
(1). åŠ¨æ€JITä¼˜åŒ–å™¨ã€‚å½“è´Ÿè½½è¶…è¿‡ä¸€ä¸ªç¡®ä¿ä»£ç äº§ç”Ÿçš„é˜ˆå€¼æ—¶ï¼Œé€‰æ‹©æ€§åœ°äº§ç”Ÿå­—
èŠ‚ä»£ç ,è¿™å¤§å¤§å‡å°‘äº†å†…å­˜çš„ä½¿ç”¨é‡ã€‚æ–°çš„é™æ€ç±»å‹æ£€æŸ¥å’Œå±æ€§æ”¯æŒï¼Œå…è®¸é›†æˆ
ç±»å‹å®‰å…¨è¡¨è¾¾ã€‚
(2). é”™è¯¯æŠ¥å‘Šçš„æ”¹å–„ã€‚åŒ…æ‹¬è¡Œå’Œåˆ—çš„é”™è¯¯ä¿¡æ¯ã€‚
(3). æ–°çš„è„šæœ¬è¯­è¨€ç‰¹å¾ã€‚MVEL2.0 åŒ…å«å‡½æ•°å®šä¹‰ï¼Œå¦‚ï¼šé—­åŒ…ï¼Œlambdaå®šä¹‰ï¼Œ
æ ‡å‡†å¾ªç¯æ„é€ (for, while, do-while, do-untilâ€¦)ï¼Œç©ºå€¼å®‰å…¨å¯¼èˆªæ“ä½œï¼Œå†…è”with
-contextè¿è¥ ï¼Œæ˜“å˜çš„ï¼ˆisdefï¼‰çš„æµ‹è¯•è¿è¥ç­‰ç­‰ã€‚
(4). æ”¹è¿›çš„é›†æˆåŠŸèƒ½ã€‚è¿åˆä¸»æµçš„éœ€æ±‚ï¼ŒMVEL2.0æ”¯æŒåŸºç¡€ç±»å‹çš„ä¸ªæ€§åŒ–å±æ€§å¤„ç†å™¨ï¼Œé›†æˆåˆ°JITä¸­ã€‚
(5). æ›´å¿«çš„æ¨¡æ¿å¼•æ“ï¼Œæ”¯æŒçº¿æ€§æ¨¡æ¿å®šä¹‰ï¼Œå®å®šä¹‰å’Œä¸ªæ€§åŒ–æ ‡è®°å®šä¹‰ã€‚
(6). æ–°çš„äº¤äº’å¼shellï¼ˆMVELSHï¼‰ã€‚</p>

<p>(7). ç¼ºå°‘å¯é€‰ç±»å‹å®‰å…¨
(8). é›†æˆä¸è‰¯ï¼Œé€šå¸¸é€šè¿‡æ˜ å°„å¡«å…¥å†…å®¹ã€‚æ²¡æœ‰å­—èŠ‚ç ä¸èƒ½è¿ä½œç”¨å­—èŠ‚ç ç”Ÿæˆç¼–
è¯‘æ—¶é—´æ…¢ï¼Œè¿˜å¢åŠ äº†å¯æ‰©å±•æ€§é—®é¢˜ï¼›ä¸ç”¨å­—èŠ‚ç ç”Ÿæˆè¿è¡Œæ—¶æ‰§è¡Œéå¸¸æ…¢
(9). å†…å­˜æ¶ˆè€—è¿‡å¤§
(10). Jarå·¨å¤§/ä¾èµ–è§„æ¨¡
3.åŸç†ï¼š</p>

<p>ä¸javaä¸åŒï¼ŒMVELæ˜¯åŠ¨æ€ç±»å‹ï¼ˆå¸¦æœ‰å¯é€‰åˆ†ç±»ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨æºæ–‡ä»¶ä¸­æ˜¯æ²¡æœ‰
ç±»å‹é™åˆ¶çš„ã€‚ä¸€æ¡MVELè¡¨è¾¾å¼ï¼Œç®€å•çš„å¯ä»¥æ˜¯å•ä¸ªæ ‡è¯†ç¬¦ï¼Œå¤æ‚çš„åˆ™å¯èƒ½æ˜¯
ä¸€ä¸ªå……æ»¡äº†æ–¹æ³•è°ƒç”¨å’Œå†…éƒ¨é›†åˆåˆ›å»ºçš„åºå¤§çš„å¸ƒå°”è¡¨è¾¾å¼ã€‚
4.ä½¿ç”¨æ–¹å¼ï¼š
mavenå¼•å…¥jarï¼š</p>

<dependency>
            <groupId>org.mvel</groupId>
            <artifactId>mvel2</artifactId>
            <version>2.3.1.Final</version>
        </dependency>

<p>æµ‹è¯•ï¼š</p>

<p>package com.lrq.wechatdemo.utils;</p>

<p>import com.google.common.collect.Maps;
import org.mvel2.MVEL;</p>

<p>import java.util.Map;</p>

<p>/**</p>
<ul>
  <li>CreateBy: haleyliu</li>
  <li>
    <p>CreateDate: 2018/12/26
 */
public class MvelUtils {</p>

    <p>public static void main(String[] args) {
     String expression = â€œa == null &amp;&amp; b == nil â€œ;
     Map&lt;String,Object&gt; map = Maps.newHashMap();
     map.put(â€œaâ€,null);
     map.put(â€œbâ€,null);</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Object object = MVEL.eval(expression,map);
 System.out.println(object);  }
</code></pre></div>    </div>
  </li>
</ul>

<p>}
å››.EasyRulesè§„åˆ™å¼•æ“
1.ç®€ä»‹ï¼š</p>

<p>easy-rulesé¦–å…ˆé›†æˆäº†mvelè¡¨è¾¾å¼ï¼Œåç»­å¯èƒ½é›†æˆSpELçš„ä¸€æ¬¾è½»é‡
çº§è§„åˆ™å¼•æ“
2.ç‰¹æ€§ï¼š</p>

<p>easy rulesæ˜¯ä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„javaè§„åˆ™å¼•æ“ï¼Œå®ƒæœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p>

<p>è½»é‡çº§æ¡†æ¶ï¼Œå­¦ä¹ æˆæœ¬ä½
åŸºäºPOJO
ä¸ºå®šä¹‰ä¸šåŠ¡å¼•æ“æä¾›æœ‰ç”¨çš„æŠ½è±¡å’Œç®€ä¾¿çš„åº”ç”¨
ä»åŸå§‹çš„è§„åˆ™ç»„åˆæˆå¤æ‚çš„è§„åˆ™
å®ƒä¸»è¦åŒ…æ‹¬å‡ ä¸ªä¸»è¦çš„ç±»æˆ–æ¥å£ï¼šRule,RulesEngine,RuleListener,Facts 
è¿˜æœ‰å‡ ä¸ªä¸»è¦çš„æ³¨è§£ï¼š@Action,@Condition,@Fact,@Priority,@Rule
3.ä½¿ç”¨æ–¹å¼ï¼š</p>

<p>@Ruleå¯ä»¥æ ‡æ³¨nameå’Œdescriptionå±æ€§ï¼Œæ¯ä¸ªruleçš„nameè¦å”¯ä¸€ï¼Œ
å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œåˆ™RuleProxyåˆ™é»˜è®¤å–ç±»å
@Conditionæ˜¯æ¡ä»¶åˆ¤æ–­ï¼Œè¦æ±‚è¿”å›booleanå€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ»¡è¶³æ¡ä»¶</p>

<p>@Actionæ ‡æ³¨æ¡ä»¶æˆç«‹ä¹‹åè§¦å‘çš„æ–¹æ³•</p>

<p>@Priorityæ ‡æ³¨è¯¥ruleçš„ä¼˜å…ˆçº§ï¼Œé»˜è®¤æ˜¯Integer.MAX_VALUE - 1ï¼Œå€¼
è¶Šå°è¶Šä¼˜å…ˆ</p>

<p>@Fact æˆ‘ä»¬è¦æ³¨æ„Factsçš„ä½¿ç”¨ã€‚Factsçš„ç”¨æ³•å¾ˆåƒMapï¼Œå®ƒæ˜¯å®¢æˆ·
ç«¯å’Œè§„åˆ™æ–‡ä»¶ä¹‹é—´é€šä¿¡çš„æ¡¥æ¢ã€‚åœ¨å®¢æˆ·ç«¯ä½¿ç”¨putæ–¹æ³•å‘Factsä¸­æ·»
åŠ æ•°æ®ï¼Œåœ¨è§„åˆ™æ–‡ä»¶ä¸­é€šè¿‡keyæ¥å¾—åˆ°ç›¸åº”çš„æ•°æ®ã€‚
æœ‰ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š</p>

<p>javaæ–¹å¼
é¦–å…ˆå…ˆåˆ›å»ºè§„åˆ™å¹¶æ ‡æ³¨å±æ€§
package com.lrq.wechatdemo.rules;</p>

<p>import org.jeasy.rules.annotation.Action;
import org.jeasy.rules.annotation.Condition;
import org.jeasy.rules.annotation.Fact;
import org.jeasy.rules.annotation.Rule;
import org.jeasy.rules.support.UnitRuleGroup;</p>

<p>/**</p>
<ul>
  <li>CreateBy: haleyliu</li>
  <li>
    <p>CreateDate: 2018/12/26
 */
public class RuleClass {</p>

    <p>@Rule(priority = 1) //è§„åˆ™è®¾å®šä¼˜å…ˆçº§
 public static class FizzRule {
     @Condition
     public boolean isFizz(@Fact(â€œnumberâ€) Integer number) {
         return number % 5 == 0;
     }</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> @Action
 public void printFizz() {
     System.out.print("fizz\n");
 }  }
</code></pre></div>    </div>

    <p>@Rule(priority = 2)
 public static class BuzzRule {
     @Condition
     public boolean isBuzz(@Fact(â€œnumberâ€) Integer number) {
         return number % 7 == 0;
     }</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> @Action
 public void printBuzz() {
     System.out.print("buzz\n");
 }  }
</code></pre></div>    </div>

    <p>public static class FizzBuzzRule extends UnitRuleGroup {</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> public FizzBuzzRule(Object... rules) {
     for (Object rule : rules) {
         addRule(rule);
     }
 }

 @Override
 public int getPriority() {
     return 0;
 }  }
</code></pre></div>    </div>

    <p>@Rule(priority = 3)
 public static class NonFizzBuzzRule {</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> @Condition
 public boolean isNotFizzNorBuzz(@Fact("number") Integer number) {
     // can return true, because this is the latest rule to trigger according to
     // assigned priorities
     // and in which case, the number is not fizz nor buzz
     return number % 5 != 0 || number % 7 != 0;
 }

 @Action
 public void printInput(@Fact("number") Integer number) {
     System.out.print(number+"\n");
 }  }
</code></pre></div>    </div>
  </li>
</ul>

<p>}
ç„¶åå®¢æˆ·ç«¯è°ƒç”¨</p>

<p>package com.lrq.wechatdemo.rules;</p>

<p>import org.jeasy.rules.api.Facts;
import org.jeasy.rules.api.Rules;
import org.jeasy.rules.api.RulesEngine;
import org.jeasy.rules.core.DefaultRulesEngine;
import org.jeasy.rules.core.RulesEngineParameters;</p>

<p>/**</p>
<ul>
  <li>CreateBy: haleyliu</li>
  <li>
    <p>CreateDate: 2018/12/26
 */
public class RuleJavaClient {
 public static void main(String[] args) {
     // åˆ›å»ºè§„åˆ™å¼•æ“
     RulesEngineParameters parameters = new RulesEngineParameters().skipOnFirstAppliedRule(true);
     RulesEngine fizzBuzzEngine = new DefaultRulesEngine(parameters);</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> // åˆ›å»ºè§„åˆ™é›†å¹¶æ³¨å†Œè§„åˆ™
 Rules rules = new Rules();
 rules.register(new RuleClass.FizzRule());
 rules.register(new RuleClass.BuzzRule());
 rules.register(new RuleClass.FizzBuzzRule(new RuleClass.FizzRule(), new RuleClass.BuzzRule()));
 rules.register(new RuleClass.NonFizzBuzzRule());

 // æ‰§è¡Œè§„åˆ™
 Facts facts = new Facts();
 for (int i = 1; i &lt;= 100; i++) {
     facts.put("number", i);
     fizzBuzzEngine.fire(rules, facts);
     System.out.println();
 }  }
</code></pre></div>    </div>
  </li>
</ul>

<p>}</p>

<p>2.ymlæ–¹å¼</p>

<p>resourcesç›®å½•ä¸‹æ–°å»ºfizzbuzz.yml</p>

<hr />
<p>name: â€œfizz ruleâ€
description: â€œprint fizz if the number is multiple of 5â€
priority: 1
condition: â€œnumber % 5 == 0â€
actions:</p>
<ul>
  <li>â€œSystem.out.println("fizz")â€</li>
</ul>

<hr />
<p>name: â€œbuzz ruleâ€
description: â€œprint buzz if the number is multiple of 7â€
priority: 2
condition: â€œnumber % 7 == 0â€
actions:</p>
<ul>
  <li>â€œSystem.out.println("buzz")â€</li>
</ul>

<hr />
<p>name: â€œfizzbuzz ruleâ€
description: â€œprint fizzbuzz if the number is multiple of 5 and 7â€
priority: 0
condition: â€œnumber % 5 == 0 &amp;&amp; number % 7 == 0â€
actions:</p>
<ul>
  <li>â€œSystem.out.println("fizzbuzz")â€</li>
</ul>

<hr />
<p>name: â€œnon fizzbuzz ruleâ€
description: â€œprint the number itself otherwiseâ€
priority: 3
condition: â€œnumber % 5 != 0 || number % 7 != 0â€
actions:</p>
<ul>
  <li>â€œSystem.out.println(number)â€
å®¢æˆ·ç«¯è°ƒç”¨ï¼š</li>
</ul>

<p>package com.lrq.wechatdemo.rules;</p>

<p>import org.jeasy.rules.api.Facts;
import org.jeasy.rules.api.Rules;
import org.jeasy.rules.api.RulesEngine;
import org.jeasy.rules.core.DefaultRulesEngine;
import org.jeasy.rules.core.RulesEngineParameters;
import org.jeasy.rules.mvel.MVELRuleFactory;</p>

<p>import java.io.FileNotFoundException;
import java.io.FileReader;</p>

<p>/**</p>
<ul>
  <li>CreateBy: haleyliu</li>
  <li>
    <p>CreateDate: 2018/12/26
 */
public class RuleYmlClient {</p>

    <p>public static void main(String[] args) throws FileNotFoundException {
     // create a rules engine
     RulesEngineParameters parameters = new RulesEngineParameters().skipOnFirstAppliedRule(true);
     RulesEngine fizzBuzzEngine = new DefaultRulesEngine(parameters);</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> // create rules
 Rules rules = MVELRuleFactory.createRulesFrom(new FileReader("fizzbuzz.yml"));

 // fire rules
 Facts facts = new Facts();
 for (int i = 1; i &lt;= 100; i++) {
     facts.put("number", i);
     fizzBuzzEngine.fire(rules, facts);
     System.out.println();
 }  } }
</code></pre></div>    </div>
  </li>
</ul>
:ET