I"Ï<p>ç¬¬ä¸€æ­¥ï¼Œåˆ›å»ºè´¦å·å¯†ç æ–‡ä»¶
è¿™é‡Œéœ€è¦ä½¿ç”¨åˆ°å¯†ç æ–‡ä»¶ç”Ÿæˆå·¥å…·htpasswd
htpasswd -c auth user1
New password: <bar></bar></p>

<p>ç¬¬äºŒæ­¥ï¼Œåˆ›å»ºkubernets secret
kubectl -n <namespace> create secret generic basic-auth --from-file=auth
secret "basic-auth" created</namespace></p>

<p>ç¬¬ä¸‰æ­¥ï¼Œåˆ›å»ºingressé…ç½®æ–‡ä»¶</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kind: Ingress
metadata:
  name: ingress-with-auth
  annotations:
    # type of authentication
    ingress.kubernetes.io/auth-type: basic
    # name of the secret that contains the user/password definitions
    ingress.kubernetes.io/auth-secret: basic-auth
    # message to display with an appropiate context why the authentication is required
    ingress.kubernetes.io/auth-realm: "Authentication Required - foo"
spec:
  rules:
  - host: foo.bar.com
    http:
      paths:
      - path: /
        backend:
          serviceName: echoheaders
          servicePort: 80
</code></pre></div></div>
<!-- more -->
<p>https://johng.cn/kubernets-ingress-with-http-auth/</p>

<p>https://github.com/kubernetes/ingress-nginx/</p>

<p>https://kubernetes.github.io/ingress-nginx/kubectl-plugin/</p>

<p>https://kubernetes.github.io/ingress-nginx/examples/auth/external-auth/</p>

<p>https://pkg.go.dev/k8s.io/client-go/informers#NewFilteredSharedInformerFactory</p>

<p>https://stackoverflow.com/questions/34784644/what-is-the-difference-between-oauth-based-and-token-based-authentication</p>

<p>https://docs.ansible.com/ansible-tower/latest/html/administration/oauth2_token_auth.html</p>

<p>https://docs.ansible.com/ansible-tower/latest/html/administration/oauth2_token_auth.html#ag-use-oauth-pat</p>

:ET