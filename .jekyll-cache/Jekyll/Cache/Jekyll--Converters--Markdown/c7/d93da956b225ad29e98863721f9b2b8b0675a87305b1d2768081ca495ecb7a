I"ÿ<p>go è¯­è¨€ä¸­ï¼Œå½“å­ç±»è°ƒç”¨çˆ¶ç±»æ–¹æ³•æ—¶ï¼Œâ€œä½œç”¨åŸŸâ€å°†è¿›å…¥çˆ¶ç±»çš„ä½œç”¨åŸŸï¼Œçœ‹ä¸è§å­ç±»çš„æ–¹æ³•å­˜åœ¨
æˆ‘ä»¬å¯ä»¥é€šè¿‡å‚æ•°å°†å­ç±»ä¼ é€’ç»™çˆ¶ç±»ï¼Œå®ç°åœ¨çˆ¶ç±»ä¸­è°ƒç”¨å­ç±»æ–¹æ³•ã€‚</p>

<p>æ€»ç»“ä¸‹æœ‰ä¸‰ç§
<!-- more -->
ä¸€ã€ åŸºäºæ¥å£
å®šä¹‰æ¥å£ï¼Œçˆ¶å­ç±»éƒ½å®ç°æ¥å£ï¼Œçˆ¶ç±»æ–¹æ³•æ¥æ”¶æ¥å£ç±»å‹å‚æ•°</p>

<p>ç‰¹ç‚¹ï¼š</p>

<p>ç»“æ„ç®€å•ï¼Œæ€è·¯æ¸…æ™°ã€‚
åŸºäºæ¥å£ï¼Œè½»æ¾åº”å¯¹å¤šçº§ç»§æ‰¿çš„æƒ…å†µã€‚</p>

<p>func (a *A) Func3(c C)  å‚æ•°æ˜¯æ¥å£ç±»å‹ï¼Œçˆ¶ç±»é€šè¿‡æ¥å£è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œä¸€æ¬¡ç±»å‹æ¨æ–­ï¼Œæ²¡æœ‰å¿…è¦</p>

<p>äºŒã€ åŸºäºåå°„
çˆ¶ç±»æ–¹æ³•æ¥æ”¶å­ç±»å¯¹è±¡ï¼Œé€šè¿‡åå°„è°ƒç”¨å­ç±»æ–¹æ³•
func (self A) sayReal(child interface{}) {
    ref := reflect.ValueOf(child)
    method := ref.MethodByName(â€œNameâ€)
    if (method.IsValid()) {
        r := method.Call(make([]reflect.Value, 0))
        fmt.Println(r[0].String())
    } else {
        // é”™è¯¯å¤„ç†
    }
}</p>

<p>ä¸‰ã€çˆ¶ç±»å®šä¹‰æ–¹æ³•çš„æˆå‘˜å˜é‡ï¼Œå­ç±»setè¿™ä¸ªæˆå‘˜å˜é‡
b.A.func1=b.func1</p>

<p>å®Œæ•´ä»£ç 
package main</p>

<p>import â€œfmtâ€</p>

<p>func main() {
	b := B{
		A{}}
	b.A.func1=b.func1
	b.Func3(b)
	/**
		A::func3
	    A:: function2
	    panic: runtime error: invalid memory address or nil pointer
	*/
}</p>

<p>type C interface {
	//func1()
	/*
		./main.go:9:9: cannot use b (type B) as type C in argument to b.A.Func3:
			B does not implement C (func1 method has pointer receiver)
	*/
	func3()
}</p>

<p>type A struct{
 func1 func()
}</p>

<p>func (a *A) func2() {
	fmt.Println(â€œA:: function2â€)
}</p>

<p>func (a *A) Func3(c C) {
	fmt.Println(â€œA::func3â€)
	a.func2()
	a.func1()
	c.func3()
	if b,ok:=c.(B);ok{ //ç±»å‹æ¨æ–­æ²¡æœ‰å¿…è¦ï¼Œæ³¨æ„æ¥å£çš„æ–¹æ³•æ¥å—è€…ä¸æ˜¯æŒ‡é’ˆ
		b.func2()
	}
}</p>

<p>type B struct {
	A
}</p>

<p>func (b *B) func1() {
	fmt.Println(â€œB::func1â€)
}</p>

<p>func (b *B) func2() {
	fmt.Println(â€œB::func2â€)
}</p>

<p>func (b B)func3()  {
	 fmt.Println(â€œB:func3â€)
}</p>

<p>https://github.com/xiazemin/object</p>

<p>æ³¨æ„b.A.func1=b.func1 è¿™ç§å†™æ³•ï¼Œå› ä¸ºæ˜¯ç§æœ‰å˜é‡ï¼Œæˆå‘˜å˜é‡å¯¹Bä¸å¯ä»¥è§ï¼Œæ‰€ä»¥b.func1 å–çš„æ˜¯bçš„å‡½æ•°è€Œä¸æ˜¯æˆå‘˜å˜é‡ï¼Œå¦åˆ™å–çš„æ˜¯ç»§æ‰¿è¿‡æ¥çš„æˆå‘˜å˜é‡ã€‚ æ–¹ä¾¿èµ·è§å¯ä»¥ç”¨å¤§å°å†™åŒºåˆ†</p>
:ET