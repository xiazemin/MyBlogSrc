I"ó<p>1,åå°„ä¸­è°ƒç”¨ å‡½æ•°
æ—¢ç„¶å‡½æ•°å¯ä»¥åƒæ™®é€šçš„ç±»å‹å˜é‡ä¸€æ ·å¯ä»¥çš„è¯ï¼Œé‚£ä¹ˆåœ¨åå°„æœºåˆ¶ä¸­å°±å’Œä¸åŒçš„å˜é‡æ˜¯ä¸€æ ·çš„ï¼Œåœ¨åå°„ä¸­ å‡½æ•° å’Œ æ–¹æ³• çš„ç±»å‹ï¼ˆTypeï¼‰éƒ½æ˜¯ reflect.Funcï¼Œå¦‚æœè¦è°ƒç”¨å‡½æ•°çš„è¯ï¼Œå¯ä»¥é€šè¿‡ Value çš„ Call() æ–¹æ³•
Value çš„ Call() æ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ª Value çš„ sliceï¼Œå¯¹åº”çš„åå°„å‡½æ•°ç±»å‹çš„å‚æ•°ï¼Œè¿”å›å€¼ä¹Ÿæ˜¯ä¸€ä¸ª Value çš„ sliceï¼ŒåŒæ ·å¯¹åº”åå°„å‡½æ•°ç±»å‹çš„è¿”å›å€¼ã€‚é€šè¿‡è¿™ä¸ªä¾‹å­ï¼Œç›¸ä¿¡ä½ ä¸€çœ‹å°±æ˜ç™½äº†ï¼š
func prints(i int) string {
    fmt.Println(â€œi =â€, i)
    return strconv.Itoa(i)
}</p>

<p>func main() {
    fv := reflect.ValueOf(prints)
    params := make([]reflect.Value, 1)                 // å‚æ•°
    params[0] = reflect.ValueOf(20)                    // å‚æ•°è®¾ç½®ä¸º20
    rs := fv.Call(params)                              // rsä½œä¸ºç»“æœæ¥å—å‡½æ•°çš„è¿”å›å€¼
    fmt.Println(â€œresult:â€, rs[0].Interface().(string)) // å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥æ˜¯ rs[0].Interface()
2,åå°„ä¸­è°ƒç”¨ æ–¹æ³•
å‡½æ•°å’Œæ–¹æ³•å¯ä»¥è¯´å…¶å®æœ¬è´¨ä¸Šæ˜¯ç›¸åŒçš„ï¼Œåªä¸è¿‡æ–¹æ³•ä¸ä¸€ä¸ªâ€œå¯¹è±¡â€è¿›è¡Œäº†â€œç»‘å®šâ€ï¼Œæ–¹æ³•æ˜¯â€œå¯¹è±¡â€çš„ä¸€ç§è¡Œä¸ºï¼Œè¿™ç§è¡Œä¸ºæ˜¯å¯¹äºè¿™ä¸ªâ€œå¯¹è±¡â€çš„ä¸€ç³»åˆ—æ“ä½œï¼Œä¾‹å¦‚ä¿®æ”¹â€œå¯¹è±¡â€çš„æŸä¸ªå±æ€§
Method å’Œ MethodByName çš„API,
ype MyType struct {
    i    int
    name string
}</p>

<p>func (mt *MyType) SetI(i int) {
    mt.i = i
}</p>

<p>func (mt *MyType) SetName(name string) {
    mt.name = name
}</p>

<p>func (mt *MyType) String() string {
    return fmt.Sprintf(â€œ%pâ€, mt) + â€œâ€“name:â€ + mt.name + â€œ i:â€ + strconv.Itoa(mt.i)
}
func main() {
    myType := &amp;MyType{22, â€œgolangâ€}
    //fmt.Println(myType)     // å°±æ˜¯æ£€æŸ¥ä¸€ä¸‹myTypeå¯¹è±¡å†…å®¹
    //println(â€œâ€”â€”â€”â€”â€”â€)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mtV := reflect.ValueOf(&amp;myType).Elem()
// ä¹Ÿå¯ä»¥ä½¿ç”¨
//mtV := reflect.ValueOf(myType)
 
 
fmt.Println("Before:", mtV.MethodByName("String").Call(nil)[0])
 
params := make([]reflect.Value, 1)
params[0] = reflect.ValueOf(18)
mtV.MethodByName("SetI").Call(params)
 
params[0] = reflect.ValueOf("reflection test")
mtV.MethodByName("SetName").Call(params)
 
fmt.Println("After:", mtV.MethodByName("String").Call(nil)[0]) } mtV := reflect.ValueOf(&amp;myType).Elem() fmt.Println("Before:",mtV.Method(2).Call(nil)[0]) params = make([]reflect.Value,1) params[0] = reflect.ValueOf(18) mtV.Method(0).Call(params) params[0] = reflect.ValueOf("reflection test") mtV.Method(1).Call(params) fmt.Println("After:",mtV.Method(2).Call(nil)[0]) &lt;!-- more --&gt; martiniçš„æ•´ä¸ªæ¡†æ¶çš„åå°åŠ¨åŠ›éƒ½æ˜¯æ¥è‡ªinjectè¿™ä¸ªåŒ…ï¼Œå®ƒå…¶å®æ˜¯ç‹¬ç«‹äºæ¡†æ¶çš„ä¸€ä¸ªåŠŸèƒ½åŒ…ï¼Œé‡Œé¢ä¸»è¦æ˜¯è¿ç”¨äº†åå°„çš„æŠ€æœ¯æ¥å®Œæˆæ‰€éœ€è¦çš„åŠŸèƒ½ã€‚æˆ‘è‡ªå·±åœ¨å­¦ä¹ æˆ–è€…æ¥è§¦ä¸€æ®µæ–°ä»£ç æˆ–è€…çŸ¥è¯†ç‚¹çš„æ—¶å€™éƒ½ä¼šå…ˆç›´æ¥æ‰¾sampleè¿è¡Œçœ‹è·‘çš„ç»“æœï¼Œæ‰€ä»¥ä¸‹é¢å…ˆçœ‹ä¸€æ®µä»£ç åŠæ‰§è¡Œç»“æœ&lt;ä»£ç 1&gt;ï¼š
</code></pre></div></div>
:ET