I"Ù+<p>rvm æ˜¯ç”¨æ¥ç®¡ç† ruby çš„ï¼Œruby çš„å…¶ä¸­ä¸€ä¸ªâ€œç¨‹åºâ€å« rubygems ï¼Œç®€ç§° gemï¼Œè€Œç”¨æ¥ç®¡ç†é¡¹ç›®çš„ gem çš„ï¼Œå« bundle ï¼Œä»–ä¿©å®Œå…¨æ˜¯ä¸åŒçš„ä¸œè¥¿ï¼Œç›¸åŒçš„åªæ˜¯éƒ½å¯ä»¥ç®¡ç†gemã€‚</p>

<p>$gem sources -l
<em>** CURRENT SOURCES **</em></p>

<p>https://rubygems.org/</p>

<h1 id="æ·»åŠ -tuna-æºå¹¶ç§»é™¤é»˜è®¤æº">æ·»åŠ  TUNA æºå¹¶ç§»é™¤é»˜è®¤æº</h1>
<p>gem sources â€“add https://mirrors.tuna.tsinghua.edu.cn/rubygems/ â€“remove https://rubygems.org/</p>
<h1 id="åˆ—å‡ºå·²æœ‰æº">åˆ—å‡ºå·²æœ‰æº</h1>
<p>gem sources -l</p>
<h1 id="åº”è¯¥åªæœ‰-tuna-ä¸€ä¸ª">åº”è¯¥åªæœ‰ TUNA ä¸€ä¸ª</h1>

<p>$gem sources â€“add https://mirrors.tuna.tsinghua.edu.cn/rubygems/ â€“remove https://rubygems.org/
ERROR:  SSL verification error at depth 1: unable to get local issuer certificate (20)
ERROR:  You must add /O=Digital Signature Trust Co./CN=DST Root CA X3 to your local trusted store
https://mirrors.tuna.tsinghua.edu.cn/rubygems/ added to sources
https://rubygems.org/ removed from sources</p>

<!-- more -->
<p>$sudo gem install maruku
Password:
ERROR:  SSL verification error at depth 1: unable to get local issuer certificate (20)
ERROR:  You must add /O=Digital Signature Trust Co./CN=DST Root CA X3 to your local trusted store
Fetching: maruku-0.7.3.gem (100%)
ERROR:  While executing gem â€¦ (Errno::EPERM)
    Operation not permitted - /usr/bin/maruku</p>

<p>$gem environment
RubyGems Environment:</p>
<ul>
  <li>RUBYGEMS VERSION: 2.6.13</li>
  <li>RUBY VERSION: 2.0.0 (2015-04-13 patchlevel 645) [universal.x86_64-darwin15]</li>
  <li>INSTALLATION DIRECTORY: /Library/Ruby/Gems/2.0.0</li>
  <li>USER INSTALLATION DIRECTORY: /Users/didi/.gem/ruby/2.0.0</li>
  <li>RUBY EXECUTABLE: /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/bin/ruby</li>
  <li>EXECUTABLE DIRECTORY: /usr/bin</li>
</ul>

<p>è¿è¡Œä¸€ä¸‹å‘½ä»¤ï¼Œæ‰§è¡ŒæˆåŠŸ
sudo gem install -n /usr/local/bin maruku
gem å¯ä»¥æŒ‡å®šå®‰è£…ä½ç½®</p>

<p>bundle install å®‰è£…å½“å‰é¡¹ç›®çš„ gem åº“
å®‰è£…ï¼š
gem install bundler
åˆ›å»º gemfile æ–‡ä»¶
cd é¡¹ç›®ç›®å½•
bundle init</p>

<p>åœ¨ Gemfile é‡Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼ŒæŒ‡å®š pod ç‰ˆæœ¬</p>

<h1 id="frozen_string_literal-true">frozen_string_literal: true</h1>
<p>source â€œhttps://rubygems.orgâ€</p>

<h1 id="gem-rails">gem â€œrailsâ€</h1>
<p>gem â€˜cocoapodsâ€™, â€˜0.39.0â€™</p>

<p>åœ¨ä¹‹å‰æ‰§è¡Œçš„å‘½ä»¤å‰é¢åŠ ä¸Š bundle exec å°±å¥½äº†ï¼Œå¦‚ï¼š</p>

<p>bundle exec pod install â€“verbose â€“no-repo-update
æˆ–è€…</p>

<p>bundle exec pod update â€“verbose â€“no-repo-update</p>

<p>æ›´æ”¹source</p>
<h1 id="source-httpsrubygemsorg">source â€˜https://rubygems.orgâ€™</h1>
<p>source â€˜https://gems.ruby-china.comâ€™</p>

<p>$bundle install
bundle: cannot find package in current directory: no buildable Go source files in /Users/didi/blog/MyBlog</p>

<p>é¦–å…ˆï¼ŒGemfile æ–‡ä»¶æ‰€åˆ—çš„ gem åªæ˜¯é¡¹ç›®ä¾èµ–çš„ä¸€éƒ¨åˆ†ï¼Œgem æœ¬èº«ä¹Ÿæœ‰è‡ªå·±çš„ä¾èµ–ï¼Œä¸åŒçš„ gem æœ¬èº«å¯èƒ½ä¾èµ–äº†æŸä¸€ gem ä¸åŒçš„ç‰ˆæœ¬ï¼Œå¦‚ä½•è®©è¿™ä¹ˆå¤šä¸åŒç‰ˆæœ¬çš„ä¾èµ–ç›¸å®‰æ— äº‹ï¼Œä¸å‘ç”Ÿå†²çªï¼Œè¿™å°±æ˜¯ bundle çš„å‘æŒ¥ä½œç”¨çš„æ—¶å€™äº†ã€‚bundle ä¸ä»…ç”¨æ¥å®‰è£… gemï¼Œæ›´é‡è¦çš„æ˜¯è¿˜è´Ÿè´£è®¡ç®—å‡ºä¸åŒ gem çš„ä¾èµ–ç‰ˆæœ¬ï¼Œæœ€ç»ˆç”Ÿæˆ Gemfile.lock æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶è®°å½•äº†ç¡®åˆ‡çš„ gem åç§°å’Œç‰ˆæœ¬å·ï¼Œä»¥åŠä»–ä»¬æ‰€ä¾èµ–çš„ gem çš„åç§°å’Œç‰ˆæœ¬å·ã€‚</p>

<p>ç¬¬ä¸€æ¬¡è¿è¡Œ bundle install æ—¶è‡ªåŠ¨ç”Ÿæˆ Gemfile.lock æ–‡ä»¶ã€‚
ä»¥åæ¯æ¬¡è¿è¡Œ bundle install æ—¶,å¦‚æœ Gemfile ä¸­çš„æ¡ç›®ä¸å˜ bundle å°±ä¸ä¼šå†æ¬¡è®¡ç®— gem ä¾èµ–ç‰ˆæœ¬å·ï¼Œç›´æ¥æ ¹æ® Gemfile.lock æ£€æŸ¥å’Œå®‰è£… gemã€‚
å¦‚æœå‡ºç°ä¾èµ–å†²çªæ—¶å¯ä»¥é€šè¿‡ bundle update æ›´æ–° Gemfile.lockã€‚</p>

<p>http://jekyllcn.com/
https://blog.csdn.net/efvn2008/article/details/48392047</p>

<p>https://ruby-china.org/wiki/rvm-guide</p>

<p>RVM æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥æä¾›ä¸€ä¸ªä¾¿æ·çš„å¤šç‰ˆæœ¬ Ruby ç¯å¢ƒçš„ç®¡ç†å’Œåˆ‡æ¢ã€‚</p>

<p>https://rvm.io/</p>

<p>å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„Rubyçš„RVM</p>

<table>
  <tbody>
    <tr>
      <td>curl -sSL https://get.rvm.io</td>
      <td>bash -s stable â€“ruby</td>
    </tr>
  </tbody>
</table>

<p>åˆ—å‡ºå¯ä¾›RVMä½¿ç”¨çš„Rubyç‰ˆæœ¬rvm list</p>

<p>rvm use 2.4.1</p>

<p>https://www.jianshu.com/p/c44ef74d99f9</p>

<p>çš„â€™requirements_osx_brew_update_systemâ€™é”™è¯¯</p>

<p>â€œError running â€˜requirements_osx_brew_update_system ruby-2.2.2â€™, showing last 15 lines of /Users/jolie/.rvm/log/1471244386_ruby-2.2.2/update_system.log <a href="https://github.com/Homebrew/homebrew/wiki/Common-Issues">https://github.com/Homebrew/homebrew/wiki/Common-Issues</a></p>

<p>æ ¹æ®æç¤ºçŒœæµ‹æ˜¯homebrewçš„ç‰ˆæœ¬è¿‡ä½çš„åŸå› , å°±å»æ›´æ–°ä¸€ä¸‹, å‘ç°ç”±äºæ˜¯æ–°ç³»ç»Ÿæ‰€ä»¥brew updateæˆ–è€…brew upgradeéƒ½ä¸å¥½ä½¿, äºæ˜¯å°±å»æŸ¥æ‰¾è§£å†³åŠæ³•, å‘ç°å¸è½½é‡è£…å°±å¥½ç”¨, å¦‚æœæ­£å¥½æœåˆ°æˆ‘çš„ç®€ä¹¦å°±çœçš„èµ°å¼¯è·¯äº†, å› ä¸ºä»¥å‰å®‰è£…è¿‡brewçš„ç”µè„‘å°±ä¸èƒ½ä½¿ç”¨brewçš„å®‰è£…å‘½ä»¤äº†</p>

<p>// å®‰è£…å‘½ä»¤
ruby -e â€œ$(curl -fsSL https://raw.github.com/Homebrew/homebrew/go/install)â€</p>

<p>// ä»¥å‰å®‰è£…è¿‡ä½¿ç”¨è¿™ä¸ªå‘½ä»¤
ruby -e â€œ$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)â€
// å¦‚æœè¿˜æ˜¯æ›´æ–°ä¸äº†å°±å…ˆæ‰§è¡Œè¿™ä¸ªå‘½ä»¤å¸è½½brew
ruby -e â€œ$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)â€</p>

<p>$ gem sources -r https://ruby.taobao.org      // æˆ‘ç§»é™¤äº†æ·˜å®æº, ç°åœ¨æ·˜å®æºæ˜¯httpsçš„
$ gem sources -a http://rubygems-china.oss.aliyuncs.com //æ·»åŠ chinaçš„æº</p>

<p>$  rvm get master
Downloading https://get.rvm.io
No GPG software exists to validate rvm-installer, skipping.
Downloading https://github.com/rvm/rvm/archive/master.tar.gz</p>

<p>$ rvm install 2.4.1
Searching for binary rubies, this might take some time.
No binary rubies available for: osx/10.11/x86_64/ruby-2.4.1.</p>

<p>è§£å†³åŠæ³•ï¼š
1ã€Install Xcode and the Command Line Tools
2ã€brew install autoconf automake libtool
pkg-config apple-gcc42 libyaml readline libxml2 libxslt
libksba openssl sqlite</p>

<p>$sudo xcode-select â€“install
Password:
xcode-select: error: command line tools are already installed, use â€œSoftware Updateâ€ to install updates</p>

<p>å…ˆè¿è¡Œä¸‹é¢å‘½ä»¤ï¼Œå†å®‰è£…ï¼š
rvm autolibs read-only</p>

<p>$ rvm install 2.4.1</p>

<p>ruby-2.4.1 - #extracting rubygems-3.0.8â€¦..
ruby-2.4.1 - #removing old rubygemsâ€¦â€¦..
ruby-2.4.1 - #installing rubygems-3.0.8..
Error running â€˜env GEM_HOME=/Users/didi/.rvm/gems/ruby-2.4.1@global GEM_PATH= /Users/didi/.rvm/rubies/ruby-2.4.1/bin/ruby -d /Users/didi/.rvm/src/rubygems-3.0.8/setup.rb â€“no-documentâ€™,
please read /Users/didi/.rvm/log/1590048839_ruby-2.4.1/rubygems.install.log</p>

<p>$rvm use 2.4.1
Using /Users/didi/.rvm/gems/ruby-2.4.1</p>

<p>$ruby -v
ruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-darwin15]</p>

<p>$jekyll serve
Configuration file: /Users/didi/blog/MyBlog/_config.yml
            Source: /Users/didi/blog/MyBlog
       Destination: /Users/didi/blog/MyBlog/_site
      Generatingâ€¦
  Liquid Exception: Traceback (most recent call last): File â€œ/Library/Ruby/Gems/2.0.0/gems/pygments.rb-0.5.4/lib/pygments/mentos.pyâ€, line 303</p>

<p>$bundler
The latest bundler is 1.16.1, but you are currently running 1.15.4.
Gem::InstallError: public_suffix requires Ruby version</p>
<blockquote>
  <p>= 2.1.
An error occurred while installing
public_suffix (3.0.2), and Bundler cannot continue.
Make sure that <code class="language-plaintext highlighter-rouge">gem install public_suffix -v '3.0.2'</code>
succeeds before bundling.</p>
</blockquote>

<p>$rvm use 2.4.1
 $bundler
/Library/Ruby/Site/2.0.0/rubygems.rb:271:in `find_spec_for_exeâ€™: canâ€™t find gem bundler (&gt;= 0.a) (Gem::GemNotFoundException)</p>

<p>ã€€ã€€gem uninstall bundler</p>

<p>ã€€ã€€gem install bundler â€“version â€˜1.17.2â€™</p>

<p>$rvm list
=&gt; ruby-2.4.1 [ x86_64 ]</p>

<h1 id="default-ruby-not-set-try-rvm-alias-create-default-">Default ruby not set. Try â€˜rvm alias create default <ruby>â€™.</ruby></h1>

<h1 id="---current">=&gt; - current</h1>
<h1 id="---current--default">=* - current &amp;&amp; default</h1>
<h1 id="---default">* - default</h1>

<p>$rvm use ruby-2.4.1 â€“default
Using /Users/didi/.rvm/gems/ruby-2.4.1</p>

<p>$ruby -v
ruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-darwin15]</p>

<p>$which ruby
/Users/didi/.rvm/rubies/ruby-2.4.1/bin/ruby</p>

<p>vi .bashrc
alias ruby=â€/Users/didi/.rvm/rubies/ruby-2.4.1/bin/rubyâ€
source .bashrc</p>

<p>$sudo gem install public_suffix -v â€˜3.0.2â€™
ERROR:  SSL verification error at depth 1: unable to get local issuer certificate (20)
ERROR:  You must add /O=Digital Signature Trust Co./CN=DST Root CA X3 to your local trusted store</p>

<p>$which ruby
/usr/bin/ruby
$ruby -v
ruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-darwin15]
$/usr/bin/ruby -v
ruby 2.0.0p645 (2015-04-13 revision 50299) [universal.x86_64-darwin15]</p>

<p>$vi ~/.bashrc
PATH=â€/Users/didi/.rvm/rubies/ruby-2.4.1/bin:$PATHâ€</p>

<p>$ which ruby
/Users/didi/.rvm/rubies/ruby-2.4.1/bin/ruby</p>

<p>$which gem
/usr/bin/gem</p>

<p>$gem -v
2.6.13</p>

<p>$sudo gem update â€“system
Password:
ERROR:  SSL verification error at depth 1: unable to get local issuer certificate (20)</p>

<p>RubyGems 2.6.13 installed
Parsing documentation for rubygems-2.6.13</p>

<p>$gem install public_suffix -v â€˜3.0.2â€™</p>

<p>$gem -v
3.0.8</p>

<p>$sudo gem install public_suffix -v â€˜3.0.2â€™
ERROR:  Loading command: install (LoadError)
	cannot load such file â€“ openssl
ERROR:  While executing gem â€¦ (NoMethodError)
    undefined method `invoke_with_build_argsâ€™ for nil:NilClass</p>

<p>è§£å†³æ–¹å¼ï¼š
1ã€cd ruby/ruby-2.5.1/ext/zlibç›®å½•</p>

<p>ruby ./extconf.rb
 make 
 make install</p>

<p>2ã€makeæ—¶æŠ¥é”™:make: *** No rule to make target /include/ruby.hâ€™, needed byzlib.oâ€™. Stop.</p>

<p>3ã€æ›´æ”¹Makefileæ–‡ä»¶ï¼Œ
zlib.o: $(top_srcdir)/include/ruby.h æ”¹æˆ
zlib.o: ../../include/ruby.hï¼›ç„¶åé‡æ–°makeå°±å¯ä»¥äº†ã€‚</p>

<p>4ã€cd ruby/ruby-2.5.1/ext/opensslç›®å½•æ‰§è¡Œ ruby ./extconf.rbã€make ã€make installå‘½ä»¤ã€‚</p>

<p>Gem::InstallError: public_suffix requires Ruby version &gt;= 2.1.
An error occurred while installing public_suffix (3.0.2), and
Bundler cannot continue.
Make sure that <code class="language-plaintext highlighter-rouge">gem install public_suffix -v '3.0.2'</code> succeeds before
bundling.</p>

<p>$rvm pkg install openssl</p>

<p>Beware, â€˜rvm pkg â€¦â€™ is deprecate</p>

<p>ç³»ç»Ÿä¸­æ˜¯æœ‰ openssl çš„ï¼Œè€Œä¸” openssl å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œåªæ˜¯ ruby æ‰¾ä¸åˆ°å®ƒã€‚è‡³äºä¸ºä»€ä¹ˆçªç„¶æ‰¾ä¸åˆ°äº†ï¼Œé‚£å°±ä¸å¤ªæ¸…æ¥šäº†ï¼Œæ¨æµ‹å¯èƒ½æ˜¯æ›´æ–° OS X æ—¶å¼•å‘çš„é—®é¢˜å§ã€‚è¯•äº†å¾ˆå¤šæ–¹æ³•ï¼Œå„ç§ä¸å¥æ•ˆï¼Œæœ€åé€šè¿‡ä»¥ä¸‹çš„æ–¹æ³•è§£å†³äº†ã€‚å¤§ä½“æ€è·¯æ˜¯ç”¨ rvm é‡æ–°å®‰è£… opensslï¼Œç„¶åé‡æ–°å®‰è£… rubyï¼Œå¹¶æŒ‡å®š openssl çš„è·¯å¾„ã€‚Â </p>

<p>Â  Â  1.rvm pkg install openssl</p>

<p>Â  Â  2.rvm reinstall ruby-2.2 â€“with-openssl-dir=$rvm_path/usr</p>

<p>$jekyll s
/Library/Ruby/Site/2.0.0/rubygems.rb:271:in `find_spec_for_exeâ€™: canâ€™t find gem jekyll (&gt;= 0.a) (Gem::GemNotFoundException)</p>

<p>$ sudo gem install -n /usr/local/bin cocoapods
$gem install jekyll</p>

<p>$jekyll serve</p>
:ET