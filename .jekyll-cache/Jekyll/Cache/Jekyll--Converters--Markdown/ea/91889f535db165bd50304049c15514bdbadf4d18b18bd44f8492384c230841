I"¯<p>https://www.qikqiak.com/post/gitlab-ci-k8s-cluster-feature/</p>

<p>https://github.com/galexrt/presentation-gitlab-k8s/blob/master/.gitlab-ci.yml</p>

<p>https://github.com/galexrt/presentation-gitlab-k8s</p>

<p>https://github.com/Fennay/gitlab-ci-cn
GitLab CIä½¿ç”¨YAMLæ–‡ä»¶(.gitlab-ci.yml)æ¥ç®¡ç†é¡¹ç›®é…ç½®ã€‚è¯¥æ–‡ä»¶å­˜æ”¾äºé¡¹ç›®ä»“åº“çš„æ ¹ç›®å½•ï¼Œå®ƒå®šä¹‰è¯¥é¡¹ç›®å¦‚ä½•æ„å»ºã€‚</p>

<p>å¼€å§‹æ„å»ºä¹‹å‰YAMLæ–‡ä»¶å®šä¹‰äº†ä¸€ç³»åˆ—å¸¦æœ‰çº¦æŸè¯´æ˜çš„ä»»åŠ¡ã€‚è¿™äº›ä»»åŠ¡éƒ½æ˜¯ä»¥ä»»åŠ¡åå¼€å§‹å¹¶ä¸”è‡³å°‘è¦åŒ…å«scriptéƒ¨åˆ†
<!-- more -->
scriptå¯ä»¥ç›´æ¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤(ä¾‹å¦‚ï¼š./configure;make;make install)æˆ–è€…æ˜¯ç›´æ¥æ‰§è¡Œè„šæœ¬(test.sh)ã€‚</p>

<p>ä»»åŠ¡æ˜¯ç”±Runnersæ¥ç®¡å¹¶ä¸”ç”±æœåŠ¡å™¨ä¸­runneræ‰§è¡Œã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæ¯ä¸€ä¸ªä»»åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹éƒ½æ˜¯ç‹¬ç«‹è¿è¡Œçš„ã€‚</p>

<p>imageå’Œservices
è¿™ä¸¤ä¸ªå…³é”®å­—å…è®¸ä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰çš„Dockeré•œåƒå’Œä¸€ç³»åˆ—çš„æœåŠ¡ï¼Œå¹¶ä¸”å¯ä»¥ç”¨äºæ•´ä¸ªjobå‘¨æœŸã€‚è¯¦ç»†é…ç½®æ–‡æ¡£è¯·æŸ¥çœ‹a separate documentã€‚</p>

<p>stages
stagesç”¨æ¥å®šä¹‰å¯ä»¥è¢«jobè°ƒç”¨çš„stagesã€‚stagesçš„è§„èŒƒå…è®¸æœ‰çµæ´»çš„å¤šçº§pipelinesã€‚</p>

<p>stagesä¸­çš„å…ƒç´ é¡ºåºå†³å®šäº†å¯¹åº”jobçš„æ‰§è¡Œé¡ºåºï¼š</p>

<ol>
  <li>ç›¸åŒstageçš„jobå¯ä»¥å¹³è¡Œæ‰§è¡Œã€‚</li>
  <li>ä¸‹ä¸€ä¸ªstageçš„jobä¼šåœ¨å‰ä¸€ä¸ªstageçš„jobæˆåŠŸåå¼€å§‹æ‰§è¡Œã€‚
æ¥ä¸‹ä»”ç»†çœ‹çœ‹è¿™ä¸ªä¾‹å­ï¼Œå®ƒåŒ…å«äº†3ä¸ªstageï¼š</li>
</ol>

<p>stages:</p>
<ul>
  <li>build</li>
  <li>test</li>
  <li>deploy
é¦–å…ˆï¼Œæ‰€æœ‰buildçš„jobséƒ½æ˜¯å¹¶è¡Œæ‰§è¡Œçš„ã€‚
æ‰€æœ‰buildçš„jobsæ‰§è¡ŒæˆåŠŸåï¼Œtestçš„jobsæ‰ä¼šå¼€å§‹å¹¶è¡Œæ‰§è¡Œã€‚
æ‰€æœ‰testçš„jobsæ‰§è¡ŒæˆåŠŸï¼Œdeployçš„jobsæ‰ä¼šå¼€å§‹å¹¶è¡Œæ‰§è¡Œã€‚
æ‰€æœ‰çš„deployçš„jobsæ‰§è¡ŒæˆåŠŸï¼Œcommitæ‰ä¼šæ ‡è®°ä¸ºsuccess
ä»»ä½•ä¸€ä¸ªå‰ç½®çš„jobså¤±è´¥äº†ï¼Œcommitä¼šæ ‡è®°ä¸ºfailedå¹¶ä¸”ä¸‹ä¸€ä¸ªstagesçš„jobséƒ½ä¸ä¼šæ‰§è¡Œã€‚</li>
</ul>

<p>https://segmentfault.com/a/1190000010442764
https://help.aliyun.com/document_detail/106968.html</p>

:ET