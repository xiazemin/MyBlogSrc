I"á<p>golangï¼šunsupported Scan, storing driver.Value type []uint8 into type *time.Time</p>

<p>è§£å†³ï¼š
åœ¨openè¿æ¥åæ‹¼æ¥å‚æ•°ï¼šparseTime=true å³å¯
db, err := gorm.Open(â€œmysqlâ€, â€œuser:password@/dbname?charset=utf8&amp;parseTime=True&amp;loc=Localâ€)
  defer db.Close()</p>

<p>parseTimeæ˜¯æŸ¥è¯¢ç»“æœæ˜¯å¦è‡ªåŠ¨è§£æä¸ºæ—¶é—´ã€‚
locæ˜¯MySQLçš„æ—¶åŒºè®¾ç½®ã€‚
<!-- more -->
æƒ³è¦æŠŠ time.Time ç›´æ¥å­˜å‚¨å…¥åº“ï¼Œéœ€è¦å¼€å¯è§£ææ—¶é—´parseTime
db, err := sql.Open(â€œmysqlâ€, â€œuser:password@/dbname?charset=utf8mb4&amp;parseTime=trueâ€)
golang ç¨‹åºé‡Œ time.Time ä¸º 2018-12-24 18:00:00 CST</p>

<p>è½¬ä¸º UTC å­˜å‚¨åˆ° mysql 2018-12-24 10:00:00</p>

<p>golang ä» mysql è·å–è§£ææˆ time.Time ä¸º 2018-12-24 10:00:00 UTC</p>

<p>ä»¥ä¸Šé—®é¢˜å¯ä»¥é€šè¿‡è®¾ç½®loc=Localè§£å†³
db, err := sql.Open(â€œmysqlâ€, â€œuser:password@/dbname?charset=utf8mb4&amp;parseTime=true&amp;loc=Localâ€)
golang ç¨‹åºé‡Œ time.Time ä¸º 2018-12-24 18:00:00 CST</p>

<p>è½¬ä¸º UTC å­˜å‚¨åˆ° mysql 2018-12-24 18:00:00</p>

<p>golang ä» mysql è·å–è§£ææˆ time.Time ä¸º 2018-12-24 18:00:00 CST</p>

<p>ä½†è¦æ³¨æ„ï¼Œè¿™ä¸ªæ–¹æ³•ä¸ä¼šä¿®æ”¹è¿æ¥çš„time_zoneå±æ€§ï¼Œè€Œæ˜¯åœ¨go-sql-driverç¨‹åºé‡Œå¯¹ time.Time åšäº†æ—¶åŒºè½¬æ¢ï¼Œæ‰€ä»¥ä¼šé—ç•™ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåœ¨æˆ‘ä»¬çš„ç¨‹åºé‡Œæ‰§è¡Œ SQL è¯­å¥ï¼ŒUNIX_TIMESTAMP(NOW()) - UNIX_TIMESTAMP(created_at)ï¼Œä¼šå‡ºç°æ„æƒ³ä¸åˆ°çš„é—®é¢˜ï¼Œå› ä¸ºNOW()å–åˆ°çš„ä»ç„¶æ˜¯ UTC æ—¶é—´ï¼Œè€Œcreated_atä¸º GST æ—¶é—´</p>

<p>è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡åŒæ—¶æŒ‡å®šloc=true&amp;time_zone=*æ¥è§£å†³
éœ€è¦ç”¨url.QueryEscapeå¯¹timezoneè¿›è¡Œç¼–ç ï¼Œå•å¼•å·ä¸å¯çœç•¥
ä½†è¿™ç§æ–¹æ³•æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨é…ç½®æ—¶åŒºåï¼Œè¿™æ ·å¹¶ä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥å»ºè®®é¿å…ç›´æ¥è°ƒç”¨ MYSQL çš„æ—¶é—´å‡½æ•°</p>

<p>timezone := â€œâ€˜Asia/Shanghaiâ€™â€
db, err := sql.Open(â€œmysqlâ€, â€œuser:password@/dbname?charset=utf8mb4&amp;parseTime=true&amp;loc=Local&amp;time_zone=â€ + url.QueryEscape(timezone))</p>

<p>https://studygolang.com/articles/17313?fr=sidebar</p>
:ET