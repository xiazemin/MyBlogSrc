I"(<p>// ä»¥BenchmarkXXXç±»ä¼¼å‘½åï¼Œå¹¶ä¼ å…¥b *testing.B å‚æ•°
func BenchmarkLoopSum(b *testing.B) {
    for i := 0; i &lt; b.N; i++ {
        total := 0
        for j := 0; j &lt;= maxLoop; j++ {
            total += j
        }
    }
}</p>

<p>-bench grep
é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤å‡ºéœ€è¦è¿›è¡Œbenchtestçš„ç”¨ä¾‹
-count n
è·‘næ¬¡benchmarkï¼Œné»˜è®¤ä¸º1
-benchmem
æ‰“å°å†…å­˜åˆ†é…çš„ä¿¡æ¯
-benchtime=5s
è‡ªå®šä¹‰æµ‹è¯•æ—¶é—´ï¼Œé»˜è®¤ä¸º1s
<!-- more -->
5000è¡¨ç¤ºæµ‹è¯•æ¬¡æ•°ï¼Œå³test.Bæä¾›çš„N, ns/opè¡¨ç¤ºæ¯ä¸€ä¸ªæ“ä½œè€—è´¹å¤šå°‘æ—¶é—´(çº³ç§’)ã€‚B/opè¡¨ç¤ºæ¯æ¬¡è°ƒç”¨éœ€è¦åˆ†é…16ä¸ªå­—èŠ‚ã€‚allocs/opè¡¨ç¤ºæ¯æ¬¡è°ƒç”¨æœ‰å¤šå°‘æ¬¡åˆ†é…
åŸºå‡†æµ‹è¯•æ¡†æ¶å¯¹ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹çš„é»˜è®¤æµ‹è¯•æ—¶é—´æ˜¯ 1 ç§’ã€‚å¼€å§‹æµ‹è¯•æ—¶ï¼Œå½“ä»¥ Benchmark å¼€å¤´çš„åŸºå‡†æµ‹è¯•ç”¨ä¾‹å‡½æ•°è¿”å›æ—¶è¿˜ä¸åˆ° 1 ç§’ï¼Œé‚£ä¹ˆ testing.B ä¸­çš„ N å€¼å°†æŒ‰ 1ã€2ã€5ã€10ã€20ã€50â€¦â€¦é€’å¢ï¼ŒåŒæ—¶ä»¥é€’å¢åçš„å€¼é‡æ–°è°ƒç”¨åŸºå‡†æµ‹è¯•ç”¨ä¾‹å‡½æ•°ã€‚</p>

<p>https://www.cnblogs.com/linyihai/p/10977267.html</p>

<p>ç»“åˆ pprof
go test -bench=. -benchmem -cpuprofile profile.out</p>

<p>go test -bench=. -benchmem -memprofile memprofile.out -cpuprofile profile.out</p>

<p>è¦†ç›–æµ‹è¯•
æµ‹è¯•è¦†ç›–ç‡å°±æ˜¯æµ‹è¯•è¿è¡Œåˆ°çš„è¢«æµ‹è¯•ä»£ç çš„ä»£ç æ•°ç›®ã€‚å…¶ä¸­ä»¥è¯­å¥çš„è¦†ç›–ç‡æœ€ä¸ºç®€å•å’Œå¹¿æ³›ï¼Œè¯­å¥çš„è¦†ç›–ç‡æŒ‡çš„æ˜¯åœ¨æµ‹è¯•ä¸­è‡³å°‘è¢«è¿è¡Œä¸€æ¬¡çš„ä»£ç å æ€»ä»£ç æ•°çš„æ¯”ä¾‹ã€‚</p>

<p>æµ‹è¯•æ•´ä¸ªåŒ…: go test -cover=true pkg_name</p>

<p>æµ‹è¯•å•ä¸ªæµ‹è¯•å‡½æ•°: go test -cover=true pkg_name -run TestSwapã€‚</p>

<p>ç”Ÿæˆ HTML æŠ¥å‘Š</p>

<p>go test -cover=true pkg_name -coverprofile=out.out å°†åœ¨å½“å‰ç›®å½•ç”Ÿæˆè¦†ç›–ç‡æ•°æ®
é…åˆ go tool cover -html=out.out åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ HTML æŠ¥å‘Šã€‚
æˆ–è€…ä½¿ç”¨ go tool cover -html=out.out -o=out.html ç”Ÿæˆ HTML æ–‡ä»¶ã€‚</p>

<p>https://www.cnblogs.com/bergus/articles/go-benchmark-xing-neng-ce-shi.html</p>

<p>BDD
https://github.com/smartystreets/goconvey</p>

<p>https://www.jianshu.com/p/da201abc1c6e
https://github.com/smartystreets/goconvey</p>

<p>B/opè¡¨ç¤ºæ¯æ¬¡æ“ä½œéœ€è¦åˆ†é…å¤šå°‘ä¸ªå­—èŠ‚ï¼Œallocs/opè¡¨ç¤ºæ¯æ¬¡æ“ä½œæœ‰å¤šå°‘æ¬¡alloc(å†…å­˜åˆ†é…)ã€‚</p>

<p>Go testing åº“ testing.T å’Œ testing.B ç®€ä»‹
testing.T
åˆ¤å®šå¤±è´¥æ¥å£
Fail å¤±è´¥ç»§ç»­
FailNow å¤±è´¥ç»ˆæ­¢
æ‰“å°ä¿¡æ¯æ¥å£
Log æ•°æ®æµ ï¼ˆcoutã€€ç±»ä¼¼ï¼‰
Logf format (printf ç±»ä¼¼ï¼‰
SkipNow è·³è¿‡å½“å‰æµ‹è¯•
Skiped æ£€æµ‹æ˜¯å¦è·³è¿‡
ç»¼åˆæ¥å£äº§ç”Ÿï¼š</p>

<p>Error / Errorf æŠ¥å‘Šå‡ºé”™ç»§ç»­ [ Log / Logf + Fail ]
Fatel / Fatelf æŠ¥å‘Šå‡ºé”™ç»ˆæ­¢ [ Log / Logf + FailNow ]
Skip / Skipf æŠ¥å‘Šå¹¶è·³è¿‡ [ Log / Logf + SkipNow ]
testing.B
é¦–å…ˆ ï¼Œ testing.B æ‹¥æœ‰testing.T çš„å…¨éƒ¨æ¥å£ã€‚
SetBytes( i uint64) ç»Ÿè®¡å†…å­˜æ¶ˆè€—ï¼Œ å¦‚æœä½ éœ€è¦çš„è¯ã€‚
SetParallelism(p int) åˆ¶å®šå¹¶è¡Œæ•°ç›®ã€‚
StartTimer / StopTimer / ResertTimer æ“ä½œè®¡æ—¶å™¨
testing.PB
Next() æ¥å£ ã€‚ åˆ¤æ–­æ˜¯å¦ç»§ç»­å¾ªç¯</p>

<p>https://studygolang.com/articles/5494</p>

<p>ç¬¬ä¸€åˆ—æ•°å­—è¡¨ç¤ºæµ‹è¯•æ¬¡æ•°ï¼Œä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹çš„é»˜è®¤æµ‹è¯•æ—¶é—´æ˜¯ 1 ç§’ï¼Œæ‰€ä»¥è¡¨ç¤º1så†…çš„æ‰§è¡Œæ¬¡æ•°ï¼Œè¿™ä¸ªæ—¶é—´å¯ä»¥æŒ‡å®šï¼Œä½¿ç”¨<strong>-benchtime=5s</strong>ï¼›
ns/opè¡¨ç¤ºæ¯ä¸€æ¬¡æ“ä½œè€—è´¹å¤šå°‘æ—¶é—´(çº³ç§’)ï¼›
å› æ­¤ä»æµ‹è¯•ç»“æœæ¥çœ‹åè€…çš„è€—æ—¶è¿œå°äºå‰è€…ã€‚</p>

<p>æˆ‘ä»¬çŸ¥é“ï¼Œå‰è€…æ€§èƒ½ä½ä¸‹çš„åŸå› å¯èƒ½ä¸å†…å­˜ä½¿ç”¨æœ‰å…³ï¼Œå› ä¸ºgolangä¸­çš„stringæ˜¯å­—èŠ‚åˆ‡ç‰‡ï¼Œç”¨â€œ+â€å¾€é‡Œé¢æ‹¼æ¥éœ€è¦æ–°å»ºä¸€ä¸ªå­—èŠ‚åˆ‡ç‰‡ç„¶åå†å¾€é‡Œé¢å¤åˆ¶ï¼Œå¯ä»¥ä½¿ç”¨benchmarkæ¥è§‚å¯Ÿï¼Œä½¿ç”¨å‘½ä»¤ï¼šgo test -bench=. -benchmem</p>

<p>https://blog.csdn.net/somanlee/article/details/107564151</p>
:ET