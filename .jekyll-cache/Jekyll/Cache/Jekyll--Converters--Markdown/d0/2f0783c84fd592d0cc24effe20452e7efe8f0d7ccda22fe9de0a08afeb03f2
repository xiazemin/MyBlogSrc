I"%<!-- more -->
<p>è½¬æ¢DERè¯ä¹¦ä¸ºPEMæ ¼å¼,æŠ“HTTPSæ—¶ä¼šç”¨åˆ°
openssl x509 -in cert.cer -inform DER -outform PEM -out cert.pem
PKCS å…¨ç§°æ˜¯ Public-Key Cryptography Standards ï¼Œæ˜¯ç”± RSA å®éªŒå®¤ä¸å…¶å®ƒå®‰å…¨ç³»ç»Ÿå¼€å‘å•†ä¸ºä¿ƒè¿›å…¬é’¥å¯†ç çš„å‘å±•è€Œåˆ¶è®¢çš„ä¸€ç³»åˆ—æ ‡å‡†ï¼ŒPKCS ç›®å‰å…±å‘å¸ƒè¿‡ 15 ä¸ªæ ‡å‡†ã€‚ å¸¸ç”¨çš„æœ‰ï¼š
PKCS#7 Cryptographic Message Syntax Standard
PKCS#10 Certification Request Standard
PKCS#12 Personal Information Exchange Syntax Standard
X.509æ˜¯å¸¸è§é€šç”¨çš„è¯ä¹¦æ ¼å¼ã€‚æ‰€æœ‰çš„è¯ä¹¦éƒ½ç¬¦åˆä¸ºPublic Key Infrastructure (PKI) åˆ¶å®šçš„ ITU-T X509 å›½é™…æ ‡å‡†ã€‚
PKCS#7 å¸¸ç”¨çš„åç¼€æ˜¯ï¼š .P7B .P7C .SPC
PKCS#12 å¸¸ç”¨çš„åç¼€æœ‰ï¼š .P12 .PFX
X.509 DER ç¼–ç (ASCII)çš„åç¼€æ˜¯ï¼š .DER .CER .CRT
X.509 PAM ç¼–ç (Base64)çš„åç¼€æ˜¯ï¼š .PEM .CER .CRT
.cer/.crtæ˜¯ç”¨äºå­˜æ”¾è¯ä¹¦ï¼Œå®ƒæ˜¯2è¿›åˆ¶å½¢å¼å­˜æ”¾çš„ï¼Œä¸å«ç§é’¥ã€‚
.pemè·Ÿcrt/cerçš„åŒºåˆ«æ˜¯å®ƒä»¥Asciiæ¥è¡¨ç¤ºã€‚
pfx/p12ç”¨äºå­˜æ”¾ä¸ªäººè¯ä¹¦/ç§é’¥ï¼Œä»–é€šå¸¸åŒ…å«ä¿æŠ¤å¯†ç ï¼Œ2è¿›åˆ¶æ–¹å¼
p10æ˜¯è¯ä¹¦è¯·æ±‚
p7ræ˜¯CAå¯¹è¯ä¹¦è¯·æ±‚çš„å›å¤ï¼Œåªç”¨äºå¯¼å…¥
p7bä»¥æ ‘çŠ¶å±•ç¤ºè¯ä¹¦é“¾(certificate chain)ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒå•ä¸ªè¯ä¹¦ï¼Œä¸å«ç§é’¥ã€‚</p>

<p>ä¸€ ç”¨opensslåˆ›å»ºCAè¯ä¹¦çš„RSAå¯†é’¥(PEMæ ¼å¼)ï¼š
openssl genrsa -des3 -out ca.key 1024
äºŒç”¨opensslåˆ›å»ºCAè¯ä¹¦(PEMæ ¼å¼,å‡å¦‚æœ‰æ•ˆæœŸä¸ºä¸€å¹´)ï¼š
openssl req -new -x509 -days 365 -key ca.key -out ca.crt -config openssl.cnf
opensslæ˜¯å¯ä»¥ç”ŸæˆDERæ ¼å¼çš„CAè¯ä¹¦çš„ï¼Œæœ€å¥½ç”¨IEå°†PEMæ ¼å¼çš„CAè¯ä¹¦è½¬æ¢æˆDERæ ¼å¼çš„CAè¯ä¹¦ã€‚
ä¸‰ x509åˆ°pfx
c:\openssl-1.0.0d\out32\openssl pkcs12 -export -in .\xinhr.pem -inkey .\xinhr.key -out .\xinghr.pfx
å›› PEMæ ¼å¼çš„ca.keyè½¬æ¢ä¸ºMicrosoftå¯ä»¥è¯†åˆ«çš„pvkæ ¼å¼ã€‚
  pvk -in ca.key -out ca.pvk -nocrypt -topvk
  éªŒè¯ openssl pkcs12 -clcerts -nokeys -in cert.p12 -out cert.pem
äº” pfxåˆ°pem
c:\openssl-1.0.0d\out32\openssl  pkcs12  -in .\xinhr1309851947896.p12 -out .\xinhr.pem  -nodes</p>

<p>å…­ ä» PFX æ ¼å¼æ–‡ä»¶ä¸­æå–ç§é’¥æ ¼å¼æ–‡ä»¶ (.key) 
openssl pkcs12 -in mycert.pfx -nocerts -nodes -out mycert.key
ä¸ƒ è½¬æ¢ pem åˆ°åˆ° spc 
openssl crl2pkcs7 -nocrl -certfile venus.pem  -outform DER -out venus.spc
ç”¨ -outform -inform æŒ‡å®š DER è¿˜æ˜¯ PAM æ ¼å¼ã€‚ä¾‹å¦‚ï¼š
openssl x509 -in Cert.pem -inform PEM -out cert.der -outform DER
å…« PEM åˆ° PKCS#12 çš„è½¬æ¢ï¼Œ
openssl pkcs12 -export -in Cert.pem -out Cert.p12 -inkey key.pem
ä¹ ä» CRT format åˆ° PEM
openssl x509 -in input.crt -out input.der -outform DER
openssl x509 -in input.der -inform DER -out output.pem -outform PEM</p>

<p>nginxå®‰è£…SSLè¯ä¹¦
ç”ŸæˆCRSå’Œå¯†é’¥
æ–¹ä¾¿ä¸€ç‚¹çš„åšæ³•æ˜¯ä½¿ç”¨åœ¨çº¿çš„ç”Ÿæˆå™¨ï¼Œæˆ–è€…é€šè¿‡openSSLç”Ÿæˆï¼š</p>

<p>openssl req -nodes -newkey rsa:2048 -nodes -keyout your_key_name.key -out your_csr_name.csr -subj â€œ/C=GB/ST=London/L=London/O=your_server/OU=IT/CN=your_serverâ€
å°†CRSæäº¤ç»™è¯ä¹¦æä¾›å•†
æ¯ä¸ªæä¾›å•†æ­¥éª¤ä¸å¤ªä¸€æ ·ï¼Œè®²è®²COMODOçš„å§ã€‚
é€šè¿‡éªŒè¯ä¹‹åï¼Œä¼šå‘ä½ çš„é‚®ç®±å‘é€ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œå‹ç¼©åŒ…é‡ŒåŒ…å«å››ä¸ªæ–‡ä»¶</p>

<p>AddTrustExternalCARoot.crt
COMODORSAAddTrustCA.crt
COMODORSADomainValidationSecureServerCA.crt
your_server.crt
åˆå¹¶è¯ä¹¦
cat your_server.crt COMODORSADomainValidationSecureServerCA.crt COMODORSAAddTrustCA.crt AddTrustExternalCARoot.crt &gt; your_server.pem 
ä¸Šä¼ è¯ä¹¦å¹¶é…ç½®Nginx
ç«™ç‚¹æœåŠ¡å™¨ä¸Šåªéœ€è¦ä¸€å¼€å§‹ç”Ÿæˆçš„keyå’Œä¹‹ååˆå¹¶çš„pemæ–‡ä»¶ï¼ŒNginxå¦‚ä¸‹é…ç½®ï¼š</p>

<p>server {
    â€¦.
    ssl    on; 
    ssl_certificate         /etc/nginx/ssl/your_server.pem;
    ssl_certificate_key     /etc/nginx/ssl/your_key_name.key;
    â€¦
}</p>
:ET