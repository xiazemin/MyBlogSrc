I"½<p>configure in doc/example fails with â€œcannot find install-sh, install.sh, or shtool in â€œ.â€ â€œ./..â€ â€œ./../..â€â€ when autoconf is used</p>

<p>sudo apt-get install libtool
sudo apt-get install shtool
sudo apt-get install autogen</p>

<p>https://github.com/libcheck/check/issues/34</p>

<p>libtoolize â€“force
aclocal
autoheader
automake â€“force-missing â€“add-missing
autoconf
./configure</p>

<p>zsh: command not found: libtoolize
configure.ac: error: no proper invocation of AM_INIT_AUTOMAKE was found.
configure.ac: You should verify that configure.ac invokes AM_INIT_AUTOMAKE,
configure.ac: that aclocal.m4 is present in the top-level directory,
configure.ac: and that aclocal.m4 was recently regenerated (using aclocal)
automake: error: no â€˜Makefile.amâ€™ found for any configure output</p>

<p>% bash</p>

<p>The default interactive shell is now zsh.
To update your account to use zsh, please run <code class="language-plaintext highlighter-rouge">chsh -s /bin/zsh</code>.
For more details, please visit https://support.apple.com/kb/HT208050.</p>

<p>https://blog.csdn.net/houwenbin1986/article/details/78644990</p>

<p>autoreconf -vif</p>

<p>https://qastack.cn/ubuntu/27677/cannot-find-install-sh-install-sh-or-shtool-in-ac-aux
<!-- more -->
glibtoolize on MacOS tells me to consider adding `-I m4â€™ to ACLOCAL_AMFLAGS, but that produces an error</p>

<p>Running glibtoolize produces this error:</p>

<p>glibtoolize: Consider adding <code class="language-plaintext highlighter-rouge">AC_CONFIG_MACRO_DIR([m4])' to configure.ac and
glibtoolize: rerunning glibtoolize, to keep the correct libtool macros in-tree.
glibtoolize: Consider adding </code>-I m4â€™ to ACLOCAL_AMFLAGS in Makefile.am.
When I add this line to Makefile.am: ACLOCAL_AMFLAGS=â€-I m4â€ I get this error;</p>

<p>glibtoolize: Consider adding `-I m4â€™ to ACLOCAL_AMFLAGS in Makefile.am.
If I change it to this: ACLOCAL_AMFLAGS=â€-Im4â€</p>

<p>I get the same error: glibtoolize: Consider adding `-I m4â€™ to ACLOCAL_AMFLAGS in Makefile.am.</p>

<p>The second error I get is:</p>

<p>configure.ac:5: error: required file â€˜../ltmain.shâ€™ not found</p>

<p>It needs to be:</p>

<p>ACLOCAL_AMFLAGS = -I m4
in Makefile.am and:</p>

<p>AC_CONFIG_MACRO_DIR([m4])
in configure.ac. You do have an m4 directory, at $(top_srcdir) right?</p>

<p>https://stackoverflow.com/questions/16657991/glibtoolize-on-macos-tells-me-to-consider-adding-i-m4-to-aclocal-amflags-but</p>

<p>https://stackoverflow.com/questions/5298830/how-to-include-m4-files-in-autoconf</p>

<p>https://autotools.io/autoconf/macros.html
https://trac.macports.org/ticket/54063</p>

<p>https://github.com/plashchynski/libdssl/issues/4</p>

<p>è€Œç›¸æ¯” Bash æ¥è¯´ï¼ŒZsh ä¹Ÿæ‹¥æœ‰è®¸å¤šæ›´å¼ºå¤§çš„åŠŸèƒ½ï¼šæ›´æ™ºèƒ½çš„è‡ªåŠ¨è¡¥å…¨ã€å‘½ä»¤é€‰é¡¹æç¤ºã€æ›´ä¸°å¯Œçš„ä¸»é¢˜
https://sspai.com/post/55176</p>

<p>./buildconf</p>

<p>./configure</p>

<p>configure: WARNING: This bison version is not supported for regeneration of the Zend/PHP parsers (found: 2.3, min: 204, excluded: ).
checking for re2câ€¦ no
configure: WARNING: You will need re2c 0.13.4 or later if you want to regenerate PHP parsers.
configure: error: bison is required to build PHP/Zend when building a GIT checkout!</p>

<p>brew reinstall bison
 brew reinstall re2c</p>

<p>https://blog.csdn.net/wwx890208/article/details/82851697</p>

<p>echo â€˜export PATH=â€/usr/local/opt/bison/bin:$PATHâ€â€™Â Â» ~/.zshrc
export LDFLAGS=â€-L/usr/local/opt/bison/libâ€</p>

<p>source ~/.zshrc</p>

<p>./configure</p>

<p>configure: error: Please specify the install prefix of iconv with â€“with-iconv=<DIR></DIR></p>

<p>% brew install libiconv</p>

<p>echo â€˜export PATH=â€/usr/local/opt/libiconv/bin:$PATHâ€â€™Â Â» ~/.zshrc</p>

<p>%   export LDFLAGS=â€-L/usr/local/opt/libiconv/libâ€
  export CPPFLAGS=â€-I/usr/local/opt/libiconv/includeâ€</p>

<p>% ./configure â€“with-iconv=/usr/local/opt/libiconv/</p>

<p>%make -j4</p>

<p>/Users/didi/c/php-src-PHP-7.2/main/reentrancy.c:139:23: error: too few arguments to function call,
      expected 3, have 2
        readdir_r(dirp, entry);</p>

<p>https://github.com/RUB-SysSec/nautilus/issues/5</p>

<p>https://bugs.php.net/bug.php?id=80171</p>

<p>https://github.com/php/php-src/commit/2b28f7189144a21e753dbc09efadd571121a82b9</p>

<p>Use readdir() instead of readdir_r()
 æ–°ç‰ˆæœ¬å·²ç»ä¿®å¤äº†è¿™ä¸ªé—®é¢˜</p>

<p>ä¸‹è½½ php-src-php-7.2.34  é—®é¢˜ä¾ç„¶å­˜åœ¨
 % brew tap exolnet/homebrew-deprecated
 % brew search php</p>

<p>% brew install php@7.2</p>

<p>[UnexpectedValueException]
  Unknown package has no name defined ([{â€œnameâ€:â€nikic\/php-parserâ€,â€versionâ€:â€v4.0.3â€,â€version_normalizedâ€:â€4.0.3.0â€,â€sourceâ€:{â€œt
  ypeâ€:â€gitâ€,â€urlâ€:â€https:\/\/github.com\/nikic\/PHP-Parser.gitâ€,â€referenceâ€:â€bd088dc940a418f09cda079a9b5c7c478890fb8dâ€},â€distâ€:{â€œ
  typeâ€:â€zipâ€,â€urlâ€:â€https:\/\/api.github.com\/repos\/nikic\/PHP-Parser\/zipball\/bd088dc940a418f09cda079a9b5c7c478890fb8dâ€,â€refer
  enceâ€:â€bd088dc940a418f09cda079a9b5c7c478890fb8dâ€,â€shasumâ€:â€â€},â€requireâ€:{â€œext-tokenizerâ€:â€*â€,â€phpâ€:â€&gt;=7.0â€}</p>

<p>% ln -sf  /usr/local/opt/php@7.2/bin/php /usr/local/bin/php</p>

<p>% rm -rf  vendor</p>

<p>composer update é—®é¢˜è§£å†³</p>

:ET