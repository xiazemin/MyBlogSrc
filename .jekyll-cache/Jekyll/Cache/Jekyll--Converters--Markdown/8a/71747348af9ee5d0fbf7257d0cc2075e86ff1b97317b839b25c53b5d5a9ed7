I"%<!-- more -->
<p>Elasticsearchæä¾›äº†ä¸€ä¸ªjaræ–‡ä»¶ï¼Œå¯ä»¥å°†å…¶æ·»åŠ åˆ°ä»»ä½•Java IDEï¼Œå¹¶å¯ç”¨äºæµ‹è¯•ä¸Elasticsearchç›¸å…³çš„ä»£ç ã€‚ å¯ä»¥ä½¿ç”¨Elasticsearchæä¾›çš„æ¡†æ¶æ‰§è¡Œä¸€ç³»åˆ—æµ‹è¯• -</p>

<p>å•å…ƒæµ‹è¯•
é›†æˆæµ‹è¯•
éšæœºæµ‹è¯•
è¦å¼€å§‹æµ‹è¯•ï¼Œéœ€è¦å‘ç¨‹åºæ·»åŠ Elasticsearchæµ‹è¯•ä¾èµ–å…³ç³»ã€‚æ‚¨å¯ä»¥ä½¿ç”¨mavenæ¥å®ç°æ­¤ç›®çš„ï¼Œå¹¶ä¸”å¯åœ¨pom.xmlä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚</p>

<dependency>
   <groupId>org.elasticsearch</groupId>
   <artifactId>elasticsearch</artifactId>
   <version>2.1.0</version>
</dependency>
<p>XML
EsSetupåˆå§‹åŒ–ç”¨æ¥å¯åŠ¨å’Œåœæ­¢ElasticsearchèŠ‚ç‚¹ï¼Œå¹¶åˆ›å»ºç´¢å¼•ã€‚</p>

<p>EsSetup esSetup = new EsSetup();
Java
esSetup.execute()å‡½æ•°ä¸createIndexç”¨äºåˆ›å»ºç´¢å¼•ï¼Œéœ€è¦æŒ‡å®šè®¾ç½®ï¼Œç±»å‹å’Œæ•°æ®ã€‚</p>

<p>å•å…ƒæµ‹è¯•
å•å…ƒæµ‹è¯•æ˜¯é€šè¿‡ä½¿ç”¨JUnitå’ŒElasticsearchæµ‹è¯•æ¡†æ¶æ¥è¿›è¡Œçš„ã€‚å¯ä»¥ä½¿ç”¨Elasticsearchç±»åˆ›å»ºèŠ‚ç‚¹å’Œç´¢å¼•ï¼Œå¹¶ä¸”åœ¨æµ‹è¯•æ–¹æ³•ä¸­å¯ä»¥ç”¨æ¥æ‰§è¡Œæµ‹è¯•ã€‚ESTestCaseå’ŒESTokenStreamTestCaseç±»ç”¨äºæ­¤æµ‹è¯•ã€‚</p>

<p>é›†æˆæµ‹è¯•
é›†æˆæµ‹è¯•åœ¨é›†ç¾¤ä¸­ä½¿ç”¨å¤šä¸ªèŠ‚ç‚¹ã€‚ ESIntegTestCaseç±»ç”¨äºè¿™ç§ç±»å‹çš„æµ‹è¯•ã€‚ æœ‰å¤šç§æ–¹æ³•ä½¿å¾—å‡†å¤‡æµ‹è¯•ç”¨ä¾‹çš„å·¥ä½œæ›´å®¹æ˜“ã€‚</p>

<p>ç¼–å·	æ–¹æ³•	æè¿°
1	refresh()	åˆ·æ–°ç¾¤é›†ä¸­çš„æ‰€æœ‰ç´¢å¼•
2	ensureGreen()	ç¡®ä¿ç»¿è‰²å¥åº·é›†ç¾¤çŠ¶æ€
3	ensureYellow()	ç¡®ä¿é»„è‰²çš„å¥åº·ç¾¤é›†çŠ¶æ€
4	createIndex(name)	ä½¿ç”¨ä¼ é€’ç»™æ­¤æ–¹æ³•çš„åç§°åˆ›å»ºç´¢å¼•
5	flush()	åˆ·æ–°ç¾¤é›†ä¸­çš„æ‰€æœ‰ç´¢å¼•
6	flushAndRefresh()	æ‰§è¡Œ flush() å’Œ refresh()
7	indexExists(name)	éªŒè¯æŒ‡å®šç´¢å¼•æ˜¯å¦å­˜åœ¨
8	clusterService()	è¿”å›é›†ç¾¤æœåŠ¡javaç±»
9	cluster()	è¿”å›æµ‹è¯•é›†ç¾¤ç±»
æµ‹è¯•é›†ç¾¤æ–¹æ³•
ç¼–å·	æ–¹æ³•	æè¿°
1	ensureAtLeastNumNodes(n)	ç¡®ä¿ç¾¤é›†ä¸­æœ€å°èŠ‚ç‚¹æ•°é‡å¤§äºæˆ–ç­‰äºæŒ‡å®šæ•°é‡ã€‚
2	ensureAtMostNumNodes(n)	ç¡®ä¿ç¾¤é›†ä¸­æœ€å¤§èŠ‚ç‚¹æ•°å°äºæˆ–ç­‰äºæŒ‡å®šæ•°ã€‚
3	stopRandomNode()	åœæ­¢é›†ç¾¤ä¸­çš„éšæœºèŠ‚ç‚¹
4	stopCurrentMasterNode()	åœæ­¢ä¸»èŠ‚ç‚¹
5	stopRandomNonMaster()	åœæ­¢é›†ç¾¤ä¸­çš„éšæœºèŠ‚ç‚¹(ä¸æ˜¯ä¸»èŠ‚ç‚¹)
6	buildNode()	åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹
7	startNode(settings)	å¯åŠ¨ä¸€ä¸ªæ–°èŠ‚ç‚¹
8	nodeSettings()	è¦†ç›–æ­¤æ–¹æ³•ä»¥æ›´æ”¹(æ›´æ–°)èŠ‚ç‚¹è®¾ç½®
è®¿é—®å®¢æˆ·ç«¯
å®¢æˆ·ç«¯ç”¨äºè®¿é—®é›†ç¾¤ä¸­çš„ä¸åŒèŠ‚ç‚¹å¹¶æ‰§è¡ŒæŸäº›æ“ä½œã€‚ESIntegTestCase.client()æ–¹æ³•ç”¨äºè·å–éšæœºå®¢æˆ·ç«¯ã€‚Elasticsearchè¿˜æä¾›äº†å…¶ä»–æ–¹æ³•æ¥è®¿é—®å®¢æˆ·ç«¯ï¼Œè¿™äº›æ–¹æ³•å¯ä»¥ä½¿ç”¨ESIntegTestCase.internalCluster()æ–¹æ³•è®¿é—®ã€‚</p>

<p>ç¼–å·	æ–¹æ³•	æè¿°
1	iterator()	è¿™ç”¨äºè®¿é—®æ‰€æœ‰å¯ç”¨çš„å®¢æˆ·ç«¯ã€‚
2	masterClient()	è¿”å›ä¸€ä¸ªæ­£åœ¨ä¸ä¸»èŠ‚ç‚¹é€šä¿¡çš„å®¢æˆ·ç«¯ã€‚
3	nonMasterClient()	è¿”å›ä¸€ä¸ªä¸ä¸ä¸»èŠ‚ç‚¹é€šä¿¡çš„å®¢æˆ·ç«¯ã€‚
4	clientNodeClient()	å°†è¿”å›å½“å‰åœ¨å®¢æˆ·ç«¯èŠ‚ç‚¹ä¸Šçš„å®¢æˆ·ç«¯ã€‚
éšæœºæµ‹è¯•
éšæœºæµ‹è¯•æ˜¯ç”¨äºä½¿ç”¨æ‰€æœ‰å¯èƒ½çš„æ•°æ®æµ‹è¯•ç”¨æˆ·çš„ä»£ç ï¼Œä»¥ä¾¿å°†æ¥ä¸ä¼šå‡ºç°ä»»ä½•ç±»å‹çš„æ•°æ®å¤±è´¥ã€‚ éšæœºæ•°æ®æ˜¯è¿›è¡Œæ­¤æµ‹è¯•çš„æœ€ä½³é€‰æ‹©ã€‚</p>

<p>ç”Ÿæˆéšæœºæ•°æ®
åœ¨è¿™ä¸ªæµ‹è¯•ä¸­ï¼ŒRandomç±»ç”±RandomizedTestæä¾›çš„å®ä¾‹å®ä¾‹åŒ–ï¼Œå¹¶æä¾›äº†è®¸å¤šæ–¹æ³•æ¥è·å–ä¸åŒç±»å‹çš„æ•°æ®ã€‚</p>

<p>æ–¹æ³•	è¿”å›å€¼
getRandom()	éšæœºç±»çš„å®ä¾‹
randomBoolean()	éšæœºå¸ƒå°”å€¼
randomByte()	éšæœºå­—èŠ‚å€¼
randomShort()	éšæœºçŸ­æ•´å‹å€¼
randomInt()	éšæœºæ•´å‹å€¼
randomLong()	éšæœºé•¿æ•´å‹å€¼
randomFloat()	éšæœºæµ®ç‚¹å€¼
randomDouble()	éšæœºåŒç²¾åº¦æµ®ç‚¹å€¼
randomLocale()	éšæœºåŒºåŸŸè®¾ç½®
randomTimeZone()	éšæœºæ—¶åŒº
randomFrom()	æ•°ç»„ä¸­çš„éšæœºå…ƒç´ 
æ–­è¨€
ElasticsearchAssertionså’ŒElasticsearchGeoAssertionsç±»åŒ…å«æ–­è¨€ï¼Œç”¨äºåœ¨æµ‹è¯•æ—¶æ‰§è¡Œä¸€äº›å¸¸è§æ£€æŸ¥ã€‚ ä¾‹å¦‚ï¼Œ</p>

<p>SearchResponse seearchResponse = client().prepareSearch();
assertHitCount(searchResponse, 6);
assertFirstHit(searchResponse, hasId(â€œ6â€));
assertSearchHits(searchResponse, â€œ1â€, â€œ2â€, â€œ3â€, â€œ4â€,â€5â€,â€6â€);
Java</p>
:ET