I"ı<p>https://github.com/qiniu/goc
ä½œä¸ºå·¥ç¨‹æ•ˆç‡é¢†åŸŸçš„å·¥ä½œè€…ï¼Œæ”¶é›†æµ‹è¯•è¦†ç›–ç‡æ˜¯ä¸€ç›´ä¼šå»æ¢ç´¢çš„é¢†åŸŸã€‚go è¯­è¨€å®˜æ–¹æä¾›äº†go test -coverprofileæ¥æ”¶é›†å•æµ‹è¦†ç›–ç‡ã€‚ä½†æ˜¯å¯¹äºå…¶ä»–ç¯èŠ‚çš„æµ‹è¯•è¦†ç›–ç‡ï¼ˆå¦‚é›†æˆæµ‹è¯•ï¼‰çš„æ”¶é›†ï¼Œå› ä¸ºå…¶å¤æ‚æ€§ï¼Œgo è¯­è¨€åœ¨è¯¥é¢†åŸŸä¸€ç›´æ²¡æœ‰æ¯”è¾ƒæ–¹ä¾¿é€šç”¨çš„å·¥å…·ã€‚</p>

<p>ä¸ƒç‰›äº‘åœ¨MTSC2018ä»‹ç»äº†ä¸€æ¬¾æ”¶é›†é›†æˆæµ‹è¯•è¦†ç›–ç‡çš„æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆåœ¨ä½¿ç”¨ä¸Šå­˜åœ¨ä¸€äº›ä¸è¶³ï¼š1. å—é™äº go test å‘½ä»¤ï¼Œç¨‹åºå¿…é¡»å…³é—­æ‰èƒ½æ”¶é›†è¦†ç›–ç‡ï¼›2. ä¼šæ±¡æŸ“è¢«æµ‹ä»£ç åº“ï¼Œç»™æœ¬åœ°å¼€å‘å¸¦æ¥ä¸ä¾¿ï¼›3. ä¼šæ³¨å…¥ flag 
<!-- more -->
ä¸ƒç‰›å·¥ç¨‹æ•ˆç‡å›¢é˜Ÿä¸€ç›´åœ¨è¯¥é¢†åŸŸè€•è€˜æ¢ç´¢ï¼Œä¼˜åŒ–äº†ä¸Šé¢çš„ä¸è¶³ï¼Œå¹¶åœ¨è¿‘æœŸå¼€æºä¸€æ¬¾é€šç”¨ Go è¯­è¨€æµ‹è¯•è¦†ç›–ç‡æ”¶é›†å·¥å…·gocï¼Œæ—¨åœ¨å¸®åŠ©å¤§å®¶å¿«é€Ÿæ”¶é›†å„ä¸ªæµ‹è¯•ç¯èŠ‚çš„è¦†ç›–ç‡ã€‚</p>

<p>goc å·¥å…·å¿«é€Ÿä¸€è§ˆ</p>

<p>æ ¸å¿ƒåŸç†
goc åœ¨è®¾è®¡ä¸Šï¼ŒæŠ›å¼ƒè€çš„go test -c -coveræ¨¡å¼ï¼Œè€Œæ˜¯ç›´æ¥ä¸ go tool cover å·¥å…·äº¤äº’ï¼Œé¿å…å› go testå‘½ä»¤å¼•å…¥çš„ä¸€ç³»åˆ—å¼Šç«¯ã€‚å®Œå…¨å…¼å®¹ go å‘½ä»¤è¡Œå·¥å…·æ ¸å¿ƒå‘½ä»¤ (go build/install/run)ã€‚å‘½ä»¤è¯¦æƒ…ï¼š</p>

<p>âœ— goc help
goc is a comprehensive coverage testing tool for go language.</p>

<p>Find more information at:
 https://github.com/qiniu/goc</p>

<p>Usage:
  goc [command]</p>

<p>Available Commands:
  build       Do cover for all go files and execute go build command
  clear       Clear code coverage counters of all the registered services
  diff        Do coverage profile diff analysis, it can also work with prow and post comments to github pull request if needed
  help        Help about any command
  init        Clear the register information in order to start a new round of tests
  install     Do cover for all go files and execute go install command
  list        Lists all the registered services
  profile     Get coverage profile from service registry center
  register    Register a service into service center
  run         Run covers and runs the named main Go package
  server      Start a service registry center</p>

<p>Flags:
      â€“debug   run goc in debug mode
  -h, â€“help    help for goc</p>

<p>Use â€œgoc [command] â€“helpâ€ for more information about a command.
ä½¿ç”¨æ­¥éª¤
è¯´äº†è¿™ä¹ˆå¤šï¼Œå¤§å®¶å¦‚ä½•å¿«é€Ÿä½¿ç”¨ goc å·¥å…·åœ¨å„è‡ªä¸šåŠ¡ä¸Šå®Œæˆè¦†ç›–ç‡æ”¶é›†å‘¢ï¼Ÿå¯ä»¥å‚è€ƒä»¥ä¸‹ 3 ä¸ªæ­¥éª¤ï¼š</p>

<p>é¦–å…ˆé€šè¿‡goc serverå‘½ä»¤éƒ¨ç½²ä¸€ä¸ªæœåŠ¡æ³¨å†Œä¸­å¿ƒï¼Œå®ƒå°†ä¼šä½œä¸ºæ¢çº½æœåŠ¡è·Ÿæ‰€æœ‰çš„è¢«æµ‹æœåŠ¡é€šä¿¡ã€‚</p>

<p>ä½¿ç”¨goc build â€“center=â€<server>"å‘½ä»¤ç¼–è¯‘è¢«æµ‹ç¨‹åºã€‚goc ä¸ä¼šç ´åè¢«æµ‹ç¨‹åºçš„å¯åŠ¨æ–¹å¼ï¼Œæ‰€ä»¥ä½ å¯ä»¥ç›´æ¥å°†ç¼–è¯‘å‡ºçš„äºŒè¿›åˆ¶å‘å¸ƒåˆ°é›†æˆæµ‹è¯•ç¯å¢ƒã€‚</server></p>

<p>ç¯å¢ƒéƒ¨ç½²å¥½ä¹‹åï¼Œå°±å¯ä»¥åšæ‰§è¡Œä»»æ„çš„ç³»ç»Ÿæµ‹è¯•ã€‚è€Œåœ¨æµ‹è¯•æœŸé—´ï¼Œå¯ä»¥åœ¨ä»»ä½•æ—¶é—´ï¼Œé€šè¿‡goc profile â€“center=â€<server>"æ‹¿åˆ°å½“å‰è¢«æµ‹é›†ç¾¤çš„è¦†ç›–ç‡ç»“æœã€‚</server></p>

<p>ä¹Ÿå¯ä»¥ç›´æ¥åˆå¹¶æ­¥éª¤ 1 å’Œ 2 ä¸ºï¼šgoc run . (å‚è€ƒä¸Šé¢ gif æ­¥éª¤)
https://gocn.vip/topics/10651</p>
:ET