I"Í<p>åŸºäºæ•´æ•°çº¿æ€§è§„åˆ’(ILP)æ–¹æ³•
å°†æ‘˜è¦çœ‹åšä¸€ä¸ªå¸¦çº¦æŸçš„ä¼˜åŒ–é—®é¢˜
åŸºäºILPè¿›è¡Œæ±‚è§£ï¼Œå¯é‡‡ç”¨ç°æˆçš„ILPæ±‚è§£å·¥å…·
åŒæ—¶è¿›è¡Œå¥å­æŠ½å–ä¸å†—ä½™å»é™¤Â 
pythonä¸‹ILPæ±‚è§£å·¥å…·å­¦ä¹ ï¼š
ä½¿ç”¨æµç¨‹
ã€€ã€€æˆ‘ä»¬è§£å†³çº¿æ€§è§„åˆ’é—®é¢˜ä¸€èˆ¬æ˜¯é€šè¿‡ä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤ã€‚
1.åˆ—å‡ºçº¦æŸæ¡ä»¶åŠç›®æ ‡å‡½æ•°
2.ç”»å‡ºçº¦æŸæ¡ä»¶æ‰€è¡¨ç¤ºçš„å¯è¡ŒåŸŸ
<!-- more -->
ä½¿ç”¨pulpå·¥å…·åŒ…ï¼Œæˆ‘ä»¬åªéœ€è¦åšç¬¬ä¸€æ­¥å³å¯ï¼Œä½¿ç”¨pulpæä¾›çš„APIæä¾›ç›®æ ‡å‡½æ•°åŠçº¦æŸæ¡ä»¶å°±å¯ä»¥ç›´æ¥æ±‚è§£ï¼Œéå¸¸æ–¹ä¾¿ã€‚Â 
ã€€</p>

<p>1.å¸¸ç”¨çš„API</p>
<ol>
  <li>LpProblemç±»
LpProblem(name=â€™NoNameâ€™, sense=LpMinimize)
æ„é€ å‡½æ•°ï¼Œç”¨æ¥æ„é€ ä¸€ä¸ªLPé—®é¢˜å®ä¾‹ï¼Œå…¶ä¸­nameæŒ‡å®šé—®é¢˜åï¼ˆè¾“å‡ºä¿¡æ¯ç”¨)ï¼Œ
senseå€¼æ˜¯LpMinimizeæˆ–LpMaximizeä¸­çš„ä¸€ä¸ªï¼Œç”¨æ¥æŒ‡å®šç›®æ ‡å‡½æ•°æ˜¯æ±‚æå¤§å€¼è¿˜æ˜¯æå°å€¼ã€‚
solve(solver=None, **kwargs)
åœ¨å¯¹LpProblemæ·»åŠ å®Œçº¦æŸæ¡ä»¶åï¼Œè°ƒç”¨è¯¥å‡½æ•°è¿›è¡Œæ±‚è§£ï¼Œå¦‚æœä¸æ˜¯æ±‚è§£ç‰¹å®šçš„æ•´æ•°è§„åˆ’é—®é¢˜ï¼Œsolverä¸€èˆ¬ä½¿ç”¨é»˜è®¤å³å¯ã€‚</li>
  <li>LpVariableç±»
LpVariable(name, lowBound=None, upBound=None, cat=â€™Continuousâ€™, e=None)
æ„é€ å‡½æ•°ï¼Œç”¨æ¥æ„é€ LPé—®é¢˜ä¸­çš„å˜é‡ï¼ŒnameæŒ‡å®šå˜é‡åï¼ŒlowBoundå’ŒupBoundæ˜¯ä¸‹ç•Œå’Œä¸Šç•Œï¼Œ
é»˜è®¤åˆ†åˆ«æ˜¯è´Ÿæ— ç©·åˆ°æ­£æ— ç©·,catç”¨æ¥æŒ‡å®šå˜é‡æ˜¯ç¦»æ•£(Integer,Binary)è¿˜æ˜¯è¿ç»­(Continuous)ã€‚
dicts(name, indexs, lowBound=None, upBound=None, cat=â€™Continuousâ€™, indexStart=[])
ç”¨æ¥æ„é€ å˜é‡å­—å…¸ï¼Œå¯ä»¥è®©æˆ‘ä»¬ä¸ç”¨ä¸€ä¸ªä¸ªåœ°åˆ›å»ºLpå˜é‡å®ä¾‹ã€‚nameæŒ‡å®šæ‰€æœ‰å˜é‡çš„å‰ç¼€,
indexæ˜¯åˆ—è¡¨ï¼Œå…¶ä¸­çš„å…ƒç´ ä¼šè¢«ç”¨æ¥æ„æˆå˜é‡åï¼Œåé¢ä¸‰ä¸ªå‚æ•°å’ŒLbVariableä¸­çš„ä¸€æ ·ã€‚</li>
  <li>lpSum(vector)
è®¡ç®—ä¸€ä¸ªåºåˆ—çš„å€¼ï¼Œä½¿ç”¨lpSumæ±‚è§£æ¯”æ™®é€šçš„sumå‡½æ•°è¦å¿«å¾—å¤šã€‚</li>
  <li>å®ä¾‹
ã€€ã€€å®˜ç½‘ä¸Šç»™å‡ºäº†ä¸‰ä¸ªå®ä¾‹ï¼Œè¿™é‡Œé‡‡ç”¨ç¬¬ä¸€ä¸ªå®ä¾‹ï¼Œé…æ–™åˆ†é…çš„é—®é¢˜ï¼Œè¿™æ˜¯ä¸€ä¸ªç»å…¸çš„åŠ¨æ€è§„åˆ’é—®é¢˜ã€‚Â 
ã€€ã€€æœ‰å®¶å…¬å¸è¦ç”Ÿäº§çŒ«ç²®ï¼ŒçŒ«ç²®çš„é…æ–™æœ‰chicken, beef, mutton,rice, wheatï¼Œgelã€‚å®ƒä»¬çš„æˆæœ¬åˆ†åˆ«æ˜¯$0.013,Â $0.008,$0.010,$0.002,Â $0.005,Â $0.001ä¸ºäº†æ»¡è¶³è¥å…»æ ‡å‡†ï¼Œæ¯100gæˆå“å¿…é¡»è‡³å°‘æœ‰8gProteinï¼Œ6gfatï¼Œä½†æ˜¯ä¸è¶…è¿‡2gçš„fibreä»¥åŠ0.4gçš„saltã€‚ä¸‹é¢æ˜¯è¥å…»æˆåˆ†è¡¨ã€‚Â </li>
</ol>

<p>define:
x1:100gçŒ«ç²®ä¸­chickençš„å«é‡
x2:100gçŒ«ç²®ä¸­beefçš„å«é‡
x3:100gçŒ«ç²®ä¸­muttonçš„å«é‡
x4:100gçŒ«ç²®ä¸­riceçš„å«é‡
x5:100gçŒ«ç²®ä¸­wheatçš„å«é‡
x6:100gçŒ«ç²®ä¸­gelçš„å«é‡</p>

<p>objective:
min(0.013<em>x1+0.008</em>x2+0.01<em>x3+0.002</em>x4+0.005<em>x5+0.001</em>x6)</p>

<p>s.t.
x1,x2,x3,x4,x5,x6 &gt;= 0
0.100<em>x1+0.200</em>x2+0.150<em>x3+0.000</em>x4+0.040<em>x5+0.000</em>x6 &gt;= 8.0
0.080<em>x1+0.100</em>x2+0.110<em>x3+0.010</em>x4+0.010<em>x5+0.000</em>x6 &gt;= 6.0
0.001<em>x1+0.005</em>x2+0.003<em>x3+0.100</em>x4+0.150<em>x5+0.000</em>x6 &lt;= 2.0
0.002<em>x1+0.005</em>x2+0.007<em>x3+0.002</em>x4+0.008<em>x5+0.000</em>x6 &lt;= 2.0
ç”¨pulpè§£å†³è¯¥é—®é¢˜çš„ä»£ç å¦‚ä¸‹</p>

<p>#-<em>- coding:utf-8 -</em>-
from pulp import *</p>

<p>Ingredients = [â€˜CHICKENâ€™, â€˜BEEFâ€™, â€˜MUTTONâ€™, â€˜RICEâ€™, â€˜WHEATâ€™, â€˜GELâ€™]
costs = {â€˜CHICKENâ€™: 0.013, 
         â€˜BEEFâ€™: 0.008, 
         â€˜MUTTONâ€™: 0.010, 
         â€˜RICEâ€™: 0.002, 
         â€˜WHEATâ€™: 0.005, 
         â€˜GELâ€™: 0.001}</p>

<p>proteinPercent = {â€˜CHICKENâ€™: 0.100, 
                  â€˜BEEFâ€™: 0.200, 
                  â€˜MUTTONâ€™: 0.150, 
                  â€˜RICEâ€™: 0.000, 
                  â€˜WHEATâ€™: 0.040, 
                  â€˜GELâ€™: 0.000}</p>

<p>fatPercent = {â€˜CHICKENâ€™: 0.080, 
              â€˜BEEFâ€™: 0.100, 
              â€˜MUTTONâ€™: 0.110, 
              â€˜RICEâ€™: 0.010, 
              â€˜WHEATâ€™: 0.010, 
              â€˜GELâ€™: 0.000}</p>

<p>fibrePercent = {â€˜CHICKENâ€™: 0.001, 
                â€˜BEEFâ€™: 0.005, 
                â€˜MUTTONâ€™: 0.003, 
                â€˜RICEâ€™: 0.100, 
                â€˜WHEATâ€™: 0.150, 
                â€˜GELâ€™: 0.000}</p>

<p>saltPercent = {â€˜CHICKENâ€™: 0.002, 
               â€˜BEEFâ€™: 0.005, 
               â€˜MUTTONâ€™: 0.007, 
               â€˜RICEâ€™: 0.002, 
               â€˜WHEATâ€™: 0.008, 
               â€˜GELâ€™: 0.000}</p>

<p>#åˆ›å»ºé—®é¢˜å®ä¾‹ï¼Œæ±‚æœ€å°æå€¼
prob = LpProblem(â€œThe Whiskas Problemâ€, LpMinimize)</p>

<p>#æ„å»ºLpå˜é‡å­—å…¸ï¼Œå˜é‡åä»¥Ingrå¼€å¤´ï¼Œå¦‚Ingr_CHICKENï¼Œä¸‹ç•Œæ˜¯0
ingredient_vars = LpVariable.dicts(â€œIngrâ€,Ingredients,0)</p>

<p>#æ·»åŠ ç›®æ ‡æ–¹ç¨‹
prob += lpSum([costs[i]*ingredient_vars[i] for i in Ingredients])</p>

<p>#æ·»åŠ çº¦æŸæ¡ä»¶
prob += lpSum([ingredient_vars[i] for i in Ingredients]) == 100
prob += lpSum([proteinPercent[i] * ingredient_vars[i] for i in Ingredients]) &gt;= 8.0
prob += lpSum([fatPercent[i] * ingredient_vars[i] for i in Ingredients]) &gt;= 6.0
prob += lpSum([fibrePercent[i] * ingredient_vars[i] for i in Ingredients]) &lt;= 2.0
prob += lpSum([saltPercent[i] * ingredient_vars[i] for i in Ingredients]) &lt;= 0.4</p>

<p>#æ±‚è§£
prob.solve()
#æŸ¥çœ‹è§£çš„çŠ¶æ€
print(â€œStatus:â€, LpStatus[prob.status])
#æŸ¥çœ‹è§£
for v in prob.variables():
    print(v.name, â€œ=â€, v.varValue)
#å¦å¤–ä¸€ç§æŸ¥çœ‹è§£çš„æ–¹å¼</p>
<h1 id="for-i-in-ingredients">for i in Ingredients:</h1>
<p>#print(ingredient_vars[i],â€=â€,ingredient_vars[i].value())</p>
:ET