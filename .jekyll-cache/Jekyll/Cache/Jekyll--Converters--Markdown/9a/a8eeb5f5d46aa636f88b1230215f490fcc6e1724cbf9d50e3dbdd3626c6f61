I"å
<p>https://github.com/medcl/elasticsearch-analysis-ik/releases
<!-- more -->
ä¸­æ–‡åˆ†è¯å™¨ä¸‹è½½
$elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v6.2.4/elasticsearch-analysis-ik-6.2.4.zip</p>

<p>-&gt; Downloading https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v6.2.4/elasticsearch-analysis-ik-6.2.4.zip
Exception in thread â€œmainâ€ java.net.UnknownHostException: github.com</p>

<p>ä¸‹è½½elasticsearch-analysis-ik-6.1.1.zip
è§£å‹
$mkdir -p /usr/local/Cellar/elasticsearch/6.2.4/libexec/plugins/ik
$mv elasticsearch /usr/local/Cellar/elasticsearch/6.2.4/libexec/plugins/ik
é‡å¯eså¤±è´¥
åŸå›  å¤šäº†å±‚ç›®å½•
/usr/local/Cellar/elasticsearch/6.2.4/libexec/plugins/ikï¼elasticsearch å†…éƒ¨çš„ä¸œè¥¿ç§»åŠ¨åˆ°
/usr/local/Cellar/elasticsearch/6.2.4/libexec/plugins/ik
å³å¯
é‡å¯</p>

<p>kibana å¯ä»¥æµ‹è¯•åˆ†è¯
GET _analyze?pretty
{
  â€œanalyzerâ€: â€œik_smartâ€,
  â€œtextâ€:â€å®‰å¾½çœé•¿æ±ŸæµåŸŸâ€
}
åˆ†è¯ç»“æœ</p>

<p>{
  â€œtokensâ€: [
    {
      â€œtokenâ€: â€œå®‰å¾½çœâ€,
      â€œstart_offsetâ€: 0,
      â€œend_offsetâ€: 3,
      â€œtypeâ€: â€œCN_WORDâ€,
      â€œpositionâ€: 0
    },
    {
      â€œtokenâ€: â€œé•¿æ±ŸæµåŸŸâ€,
      â€œstart_offsetâ€: 3,
      â€œend_offsetâ€: 7,
      â€œtypeâ€: â€œCN_WORDâ€,
      â€œpositionâ€: 1
    }
  ]
}
<img src="https://xiazemin.github.io/MyBlog/img/kibana_ik.png" />
æŸ¥çœ‹å·²æœ‰è¯å…¸
vi /usr/local/Cellar/elasticsearch/6.2.4/libexec/plugins/ik/config/main.dic</p>

<p>è‡ªå®šä¹‰è¯å…¸
$ mkdir custom
$ vi custom/new_word.dic
$ cat custom/new_word.dic 
è€é“
ç‹è€…è£è€€
æ´ªè’ä¹‹åŠ›
å…±æœ‰äº§æƒæˆ¿
ä¸€å¸¦ä¸€è·¯</p>

<p>æ›´æ–°é…ç½®
$vi /usr/local/Cellar/elasticsearch/6.2.4/libexec/plugins/ik/config/IKAnalyzer.cfg.xml
$ cat IKAnalyzer.cfg.xml 
ï»¿&lt;?xml version=â€1.0â€ encoding=â€UTF-8â€?&gt;
&lt;!DOCTYPE properties SYSTEM â€œhttp://java.sun.com/dtd/properties.dtdâ€&gt;</p>
<properties>
    <comment>IK Analyzer æ‰©å±•é…ç½®</comment>
    <!--ç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œé…ç½®è‡ªå·±çš„æ‰©å±•å­—å…¸ -->
    <entry key="ext_dict">custom/new_word.dic</entry>
     <!--ç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œé…ç½®è‡ªå·±çš„æ‰©å±•åœæ­¢è¯å­—å…¸-->
    <entry key="ext_stopwords"></entry>
    <!--ç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œé…ç½®è¿œç¨‹æ‰©å±•å­—å…¸ -->
    <!-- <entry key="remote_ext_dict">words_location</entry> -->
    <!--ç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œé…ç½®è¿œç¨‹æ‰©å±•åœæ­¢è¯å­—å…¸-->
    <!-- <entry key="remote_ext_stopwords">words_location</entry> -->
</properties>
<p>é‡å¯elasticsearch
ä»è¾“å‡ºä¿¡æ¯ä¸­å¯ä»¥çœ‹åˆ°
[Dict Loading] custom/new_word.dic</p>

<p>é‡å¯Kibana 
é‡å¯Kibanaåï¼Œä»æ–°æ‰§è¡Œä¸‹é¢å‘½ä»¤</p>

<p>GET _analyze?pretty
{
  â€œanalyzerâ€: â€œik_smartâ€,
  â€œtextâ€:â€ç‹è€…è£è€€â€
}
å¯ä»¥çœ‹åˆ°æ–°ç»“æœ</p>
:ET