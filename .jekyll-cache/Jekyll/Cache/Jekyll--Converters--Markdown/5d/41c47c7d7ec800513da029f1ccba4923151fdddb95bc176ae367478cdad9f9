I"­'<p>arcanist æ˜¯ phabricator æ¥å£çš„å‘½ä»¤å·¥å…·ï¼Œä¸»è¦ç”¨äºæäº¤ diff å’Œ push review é€šè¿‡çš„commitã€‚
å®‰è£…
ä¸‹è½½æºç ï¼Œç„¶åæŒ‡å®šç³»ç»Ÿçš„ç¯å¢ƒå˜é‡å³å¯
$ some_install_path/ $ git clone https://github.com/phacility/libphutil.git
$ some_install_path/ $ git clone https://github.com/phacility/arcanist.git
æŒ‡å®šç¯å¢ƒå˜é‡
â€“ ä¿®æ”¹ .bash_profile(å¦‚æœè£…æœ‰ zsh, åˆ™ä¿®æ”¹ .zshrc),ä¸‹é¢çš„ /Users/Grissom/mydocs/arc/arcanist/bin å°±æ˜¯æˆ‘æœ¬æœº arc æºç æ‰€åœ¨çš„è·¯å¾„
$ export PATH=${PATH}:/usr/local/mysql/bin:/Users/Grissom/mydocs/arc/arcanist/bin
â€“ ç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤ä½¿ä¹‹èµ·æ•ˆ 
$ source .bash_profile 
â€“ æŸ¥çœ‹æ˜¯å¦å®‰è£…å¥½
$ arc help
â€“ é…ç½®arcçš„é»˜è®¤ç¼–è¾‘å™¨ï¼Œæˆ‘ä½¿ç”¨vim
$ arc set-config editor â€œvimâ€
â€“é…ç½®é»˜è®¤çš„phabricatorçš„uriï¼Œuriä¸ºå›¢é˜Ÿçš„phabricatorä¸»é¡µçš„url
$ arc set-config default <your phabricator="" uri="">
--åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹å»º.arcconfigé…ç½®æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­è‡³å°‘è¦å¡«å…¥ä»¥ä¸‹å†…å®¹
{
  "project.name": "å¯¹åº” phabricator çš„ project name",
  "phabricator.uri": "<your phabricator="" uri="">"
}</your></your></p>

<p>â€“ ä¸ºé¡¹ç›®å®‰è£…è¯ä¹¦ï¼Œç”¨äºphabricatorçš„è®¤è¯ã€‚
$ arc install-certificate
â€“ ä¸Šé¢å‘½ä»¤ä¼šæç¤ºåˆ°æŒ‡å®š uri è·å– token, ç„¶åç²˜è´´ä¸‹å»ï¼Œå°± ok äº†
ä½¿ç”¨
â€“åˆ›å»ºæœ¬åœ°åˆ†æ”¯
$ git checkout -b b_test_0729
â€“ ä¿®æ”¹ä»£ç ï¼Œ ç„¶åæäº¤
$ git add . &amp;&amp; git commit -m â€œtestâ€
â€“åˆ›å»º revision å¹¶æäº¤åˆ° phabricator
$ arc diff b_test_0729
â€“ä¸Šé¢å‘½ä»¤ä¼šå¼¹å‡º vim ï¼Œéœ€è¦å¡«å†™ä¸€äº›ä¿¡æ¯ï¼Œå¦‚ä¸‹
Â«Replace this line with your revision title&gt;  â€“ title å¿…å¡«
Summary:  â€“ ç®€è¿° å¿…å¡«
Test Plan:  â€“ æµ‹è¯•è®¡åˆ’ å¿…å¡«ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå¯ä»¥å¡«ï¼š NO
Reviewers:  â€“ æŒ‡å®šå®¡æ ¸äººï¼Œå¿…å¡«ï¼Œæ³¨æ„å®¡æŸ¥äººæ˜¯åœ¨ phabricator ä¸Šæ³¨å†Œçš„ç”¨æˆ·è´¦å·ï¼Œè€Œä¸” Reviewers: ä¸å®¡æŸ¥äººä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œè¿™æ˜¯ä¸ªå‘
Subscribers: â€“ å¯åˆ é™¤
 # NEW DIFFERENTIAL REVISION
 # Describe the changes in this new revision.
 #
 # arc could not identify any existing revision in your working copy.
 # If you intended to update an existing revision, use:
 #
 #   $ arc diff â€“update <revision>
æäº¤
å¦‚æœ Reviewer å®¡æŸ¥é€šè¿‡ï¼Œå°±å¯ä»¥ç”¨ arc è¿›è¡Œæäº¤äº†
$ arc land  -- ä¼šè‡ªåŠ¨åˆå¹¶åˆ° origin master å¹¶ä¸”åˆ é™¤å½“å‰æœ¬åœ°åˆ†æ”¯
arcçš„å…¨å±€é…ç½®
é…ç½®arcçš„é»˜è®¤ç¼–è¾‘å™¨ï¼Œæˆ‘ä½¿ç”¨vim
$ arc set-config editor "vim"
é…ç½®é»˜è®¤çš„phabricatorçš„uriï¼Œuriä¸ºå›¢é˜Ÿçš„phabricatorä¸»é¡µçš„url
$ arc set-config default http://phabricator.example.com
é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹å»º.arcconfigé…ç½®æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­è‡³å°‘è¦å¡«å…¥ä»¥ä¸‹å†…å®¹
{
  "project_id" : "your project name",
  "conduit_uri" : "your phabricator url"
}
è¯¥é…ç½®æ–‡ä»¶è¿˜å¯ä»¥é…ç½®é™æ€ä»£ç æ£€æµ‹å¼•æ“(lint)å’Œå•å…ƒæµ‹è¯•å¼•æ“ã€‚
ä¸ºé¡¹ç›®å®‰è£…è¯ä¹¦ï¼Œç”¨äºphabricatorçš„è®¤è¯ã€‚
yourproject/ $ arc install-certificate
ã€€åœ¨é¡¹ç›®ä¸­ä½¿ç”¨arc
arc help [--full | [COMMAND]] æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ï¼Œæ¥å‚æ•°--fullæŸ¥çœ‹æ‰€æœ‰å‘½ä»¤çš„è¯¦ç»†ç”¨æ³•ï¼Œæ¥å…·ä½“çš„å‘½ä»¤[COMMAND]å¦‚arc help diffå¯ä»¥æŸ¥çœ‹è¯¥å‘½ä»¤çš„è¯¦ç»†ç”¨æ³•ã€‚
æƒ³phabricatoræäº¤review request(Differential).ä¿®æ”¹å®Œä»£ç åï¼Œä½¿ç”¨arc diff <path>å‘½ä»¤æäº¤review requestï¼Œè¯¥å‘½ä»¤ä¼šäº§ç”Ÿä¸€ä¸ªåŒ…å«å¦‚ä¸‹å†…å®¹çš„æ–‡ä»¶è¦æ±‚å¡«å†™ï¼š
&lt;<Enter Revision="" Title="">&gt;         
Summary:
ã€€æŒ‰ç…§æç¤ºå¡«å†™åï¼Œä¿å­˜é€€å‡ºï¼Œarcå°±ä¼šè‡ªåŠ¨æäº¤requestã€‚Reviewersç”¨é€—å·éš”å¼€ï¼ŒManiphest Taskså¡«ç›¸å…³è”çš„phabricatorä¸Šçš„task_idï¼Œå¦‚T100ã€‚Test planæš‚æ—¶æ²¡ç”¨è¿‡ï¼Œå®˜æ–¹æ–‡æ¡£ï¼šhttp://www.phabricator.com/docs/phabricator/article/Differential_User_Guide_Test_Plans.html
æäº¤å®Œæˆåï¼Œä¼šäº§ç”Ÿä¸€ä¸ªå½¢å¦‚http://phabricator.example.com/D24çš„urlï¼Œurlä¸­çš„D24æ˜¯revision_idã€‚
arc diff --update <revision_id>æ›´æ–°å¯¹åº”çš„review requestã€‚è¯¥å‘½ä»¤äº§ç”Ÿä¸€ä¸ªå¦‚ä¸‹çš„æ–‡ä»¶ï¼ŒæŒ‰æç¤ºå¡«å†™ä¿å­˜é€€å‡ºï¼Œarcä¼šæäº¤æ›´æ–°ã€‚
arc commit --revision <revision_id>æäº¤å¯¹åº”æäº¤ä»£ç æ›´æ”¹ï¼Œè¿™ä¸ªå‘½ä»¤æŠŠsvn commitçš„å·¥ä½œä¹Ÿåšæ‰äº†ï¼Œç›´æ¥æäº¤åˆ°ä»£ç åº“ã€‚
arc todo <description> [option]å¯ä»¥å¿«é€Ÿç»™è‡ªå·±åœ¨phabricatorä¸Šåˆ›å»ºtaskï¼Œ[option]ç”¨äºæŠŠtask CCç»™å…¶ä»–äºº.
arc tasks [options] æŸ¥çœ‹Maniphestçš„tasksã€‚
arc amend --show æŸ¥çœ‹å½“å‰é¡¹ç›®çš„differentialsï¼Œarc amend --revision <revision_id> --show æŸ¥çœ‹æŒ‡å®šrevision_idçš„differentialã€‚</revision_id></description></revision_id></revision_id></Enter></path></revision></p>

<p>æ‰§è¡Œå®‰è£…è¯ä¹¦å‘½ä»¤ï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹å†…å®¹
æŒ‰ç…§æç¤ºï¼Œåœ¨æµè§ˆå™¨é‡Œè¾“å…¥ http://phab.yongche.org/conduit/login/ ï¼Œä¼šçœ‹åˆ°å¦‚ä¸‹å†…å®¹
æ‹·è´API tokenåˆ°å‘½ä»¤è¡Œï¼Œå¦‚æœçœ‹åˆ°å¦‚ä¸‹å†…å®¹ï¼Œè¡¨æ˜è¯ä¹¦å®‰è£…æˆåŠŸ
sucessï¼API Token installed</p>

<p>åˆ‡å¿Œæ‰§è¡Œå‘½ä»¤ï¼šarc set-config editor â€œvimâ€  æ„æ€æ˜¯é…ç½®arcçš„é»˜è®¤ç¼–è¾‘å™¨æ˜¯vim å¦åˆ™ä½ ä¸é…ç½®</p>

<p>å‚è€ƒï¼š
https://secure.phabricator.com/book/phabricator/article/arcanist_lint/
Lintæ˜¯ç¨‹åºè¯­è¨€æ£€æŸ¥å·¥å…·çš„ç»Ÿç§°ï¼Œé€šå¸¸ç”¨æ¥åˆ†æä»£ç å¹¶æŠ¥å‡ºä»£ç ä¸­çš„é”™è¯¯åŠè­¦å‘Šã€‚</p>

<p>å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤åˆ—å‡ºå½“å‰æ”¯æŒçš„Lint</p>

<p>$ arc linters
æ ¹æ®ä½ é¡¹ç›®çš„éœ€è¦ï¼Œåœ¨é¡¹ç›®å·¥ä½œç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ .arclint</p>

<dl>
  <dt>$ cd yourproject/</dt>
  <dt>yourproject/ $ $EDITOR .arclint</dt>
  <dt>yourproject/ $ cat .arclint</dt>
  <dt>{</dt>
  <dt>    â€œlintersâ€: {</dt>
  <dt>        â€œmerge-conflictâ€: {</dt>
  <dt>            â€œtypeâ€: â€œmerge-conflictâ€</dt>
  <dt>        },</dt>
  <dt>        â€œphp-syntaxâ€: {</dt>
  <dt>            â€œtypeâ€: â€œphpâ€,</dt>
  <dt>            â€œincludeâ€: â€œ(\.php$)â€</dt>
  <dt>        }</dt>
  <dt>    }</dt>
  <dt>}</dt>
  <dt>äº”ã€æäº¤ä»£ç åˆ°ReviewçŠ¶æ€</dt>
  <dt>æ³¨æ„ï¼šarc diffçš„è¯¦æƒ…ï¼Œè¯·å‚ç…§ https://secure.phabricator.com/book/phabricator/article/arcanist_diff/</dt>
  <dd>arc diff
å¦‚ä¸‹ä»¥å°†Arcanisté…ç½®æ–‡ä»¶æäº¤åˆ°é¡¹ç›®ä¸ºä¾‹ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤æäº¤ä»£ç åˆ°ReviewçŠ¶æ€
$ arc diff
è¾“å…¥å‘½ä»¤ï¼Œå°†çœ‹åˆ°å¦‚ä¸‹å†…å®¹
å…¶é—´ï¼Œå‘½ä»¤è¡Œä¼šæç¤ºä½ è¾“å…¥æ¦‚è¿°ï¼Œæµ‹è¯•è®¡åˆ’ï¼Œä¿®è®¢äºº(å³ä½ å¸Œæœ›çš„ä»£ç reviewer)ï¼Œä»¥åŠè®¢é˜…è€…ï¼Œå†…å®¹å¦‚ä¸‹
æäº¤æˆåŠŸåï¼Œå¯ä»¥åœ¨Phabricatorçš„â€Diff æ£€é˜…â€é‡Œé¢çœ‹åˆ°ä½ çš„æäº¤å¤„äºâ€ç­‰å¾…Reviewerå®¡æŸ¥â€çš„çŠ¶æ€
å…­ã€Reviewerå®¡æ ¸ä»£ç 
ä»£ç Reviewerå¯ä»¥çº¿ä¸‹æˆ–è€…é€šè¿‡çº¿ä¸Šæ¥å®Œæˆä»£ç å®¡æ ¸ï¼Œå®¡æ ¸é€šè¿‡ååœ¨Phabricatorçš„â€Diff æ£€é˜…â€é‡Œé¢æ‰¾åˆ°ç›¸åº”çš„æäº¤ï¼Œå¹¶ç»™å‡ºæ„è§ï¼Œé€šè¿‡æˆ–è€…æ‹’ç»
ä¸ƒã€æ­£å¼å‘å¸ƒä»£ç 
ä»£ç é€šè¿‡Reviewä»¥åï¼Œä½œè€…å¯ä»¥åœ¨Phabricatorçš„â€Diff æ£€é˜…â€é‡Œé¢çœ‹åˆ°ä½ çš„æäº¤å¤„äºâ€Ready to Landâ€çš„çŠ¶æ€
è¾“å…¥å¦‚ä¸‹å‘½ä»¤æ­£å¼å‘å¸ƒä»£ç 
$ arc land
å½“ä½ çœ‹åˆ°å¦‚ä¸‹å†…å®¹æ—¶ï¼Œä¸€æ¬¡æˆåŠŸçš„æäº¤å·²ç»å®Œæˆäº†</dd>
</dl>

<p>é¦–å…ˆåœ¨å®‰è£…Phabricator ä¹‹å‰å¯åŠ¨ç›¸åº”çš„ç¯å¢ƒ.
nginx.start
php-fpm.start
mysql.start
Phabricator å®‰è£…
ä»githubä¸Šcloneå…³é”®ç»„ä»¶
å…ˆåœ¨æœ¬æœºå»ºä¸€ä¸ªæ ¹ç›®å½•ï¼Œæœ¬æ–‡ä¸ºï¼š~/phabricator (ä»¥ä¸‹ç”¨$BASE_DIRä»£æ›¿æ ¹ç›®å½•)ï¼Œç„¶å
git clone https://github.com/facebook/libphutil.git
git clone https://github.com/facebook/arcanist.git
git clone https://github.com/facebook/phabricator.git
ä¿®æ”¹nginxé…ç½®æ–‡ä»¶
æ‰“å¼€è¯¥è·¯å¾„ä¸‹çš„é…ç½®æ–‡ä»¶ï¼š
/usr/local/etc/nginx/nginx.conf
ä¿®æ”¹ç›¸åº”çš„é…ç½®å¦‚ä¸‹ï¼š
server {
  listen 80;
  server_name pha.yjmyzz.me; # è¯¥åŸŸåå¿…é¡»ä¸ºæœ¬æœºçš„æœ¬åœ°åŸŸåæˆ–è€…IPå¦‚ï¼š127.0.0.1å¿…é¡»å¸¦æœ‰.çš„æœ‰æ•ˆipæˆ–è€…åŸŸå
  root      /Users/xxxxx/phabricator/phabricator/webroot; #phabricatorå®‰è£…è·¯å¾„ä¸‹çš„å¯¹åº”æ–‡ä»¶
  try_files $uri $uri/ /index.php;
  location / {
     index   index.php;
     if ( !-f $request_filename ){
       rewrite ^/(.<em>)$ /index.php?<strong>path</strong>=/$1 last;
       break;
     }
  }
  location /index.php {
    fastcgi_pass   localhost:9000;
    fastcgi_index   index.php;
    fastcgi_param  REDIRECT_STATUS    200;
    fastcgi_param  SCRIPT_FILENAME    $document_root$fastcgi_script_name;
    fastcgi_param  QUERY_STRING       $query_string;
    fastcgi_param  REQUEST_METHOD     $request_method;
    fastcgi_param  CONTENT_TYPE       $content_type;
    fastcgi_param  CONTENT_LENGTH     $content_length;
    fastcgi_param  SCRIPT_NAME        $fastcgi_script_name;
    fastcgi_param  GATEWAY_INTERFACE  CGI/1.1;
    fastcgi_param  SERVER_SOFTWARE    nginx/$nginx_version;
    fastcgi_param  REMOTE_ADDR        $remote_addr;
  }
}
æ·»åŠ ä¸Šé¢è¿™ä¸€æ®µå³å¯ï¼Œæ³¨æ„server_nameåçš„åŸŸåä»¥åŠrootæ ¹ç›®å½•è¦æ¢æˆè‡ªå·±çš„å®é™…å‚æ•°ã€‚
phabricator å¯åŠ¨åŠé…ç½®
ç›´æ¥å°†php-fpmåŠnginxå¯åŠ¨å³å¯ï¼Œç„¶åæµè§ˆhttp://pha.yjmyzz.me/ (å³ï¼šåˆšæ‰nginxä¸­serveré…ç½®çš„åŸŸåï¼Œæœ¬æœºé…ç½®æ—¶ï¼Œå¯åœ¨hostsä¸­å¢åŠ 127.0.0.1 pha.yjmyzz.meä»¥æ–¹ä¾¿æµ‹è¯•)ï¼Œå°±èƒ½çœ‹åˆ°ä¸‹é¢çš„ç•Œé¢ï¼š
æ„æ€æ˜¯æ²¡æœ‰é…ç½®mysqlï¼Œç³»ç»Ÿæ— æ³•è¿æ¥mysqlï¼Œæ³¨æ„ä¸‹é¢çš„4è¡Œå‘½ä»¤ï¼Œå·²ç»å‘Šè¯‰ä½ æ€ä¹ˆå¤„ç†äº†ï¼ŒæŒ‰å®ƒçš„æç¤ºæ¥å°±è¡Œäº†ï¼Œå‘½ä»¤è¡Œä¸‹ï¼Œè¿›å…¥æ ¹ç›®å½•ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š
$BASR_DIR/bin/config set mysql.host server-name (127.0.0.1)
$BASR_DIR/bin/config set mysql.port 3306ã€€
$BASR_DIR/bin/config set mysql.user rootã€€
$BASR_DIR/bin/config set mysql.pass **</em>(æ¢æˆä½ çš„å¯†ç )ã€€ã€€
è®¾ç½®å®Œæˆåï¼Œå†æ¬¡æµè§ˆåˆšæ‰çš„ç•Œé¢ï¼Œå°±èƒ½è¿›å»äº†ï¼Œå¯èƒ½ç¬¬1æ¬¡è¿˜ä¼šæç¤ºåˆ›å»ºç®¡ç†å‘˜è´¦å·å•¥çš„ï¼ŒæŒ‰æç¤ºæ¥å°±å¯ä»¥äº†ã€‚
è¿›å…¥ä¸»ç•Œé¢åï¼Œä¼šçœ‹åˆ°ï¼š
å·¦ä¸Šè§’æœ‰ä¸€æ®µæç¤ºï¼šYou have xx unresolved setup issuesâ€¦ è¿™æ˜¯å‘Šè¯‰ä½ è¿˜æœ‰å…¶å®ƒäº›é…ç½®é¡¹éœ€è¦é…ç½®ï¼Œç‚¹å‡»è¿™ä¸ªé“¾æ¥ï¼Œçœ‹æç¤ºä¸€ä¸ªä¸ªé…ã€‚
è‡³æ­¤ Phabricator å®‰è£…å®Œæ¯•ã€‚
åœ¨éœ€è¦code review çš„ç›¸åº”gitå·¥ç¨‹ç›®å½•ä¸‹ åˆ›å»ºå¦‚ä¸‹é…ç½®æ–‡ä»¶å¹¶å†™å…¥ç›¸åº”é…ç½®å¦‚ä¸‹ï¼š
åˆ›å»º .arcconfig æ–‡ä»¶
{
  â€œphabricator.uriâ€ : â€œhttp://xx.100.19.xxx:8080â€, # ç›¸åº”çš„phbricatorä¸»æœºåœ°å€
  â€œeditorâ€: â€œvimâ€, # æ‰“å¼€æ–¹å¼
  â€œbaseâ€: â€œgit:HEAD^â€,# ç›¸åº”çš„ git èŠ‚ç‚¹ï¼Œè®¾ç½®ä¸ºæœ€æ–°gitèŠ‚ç‚¹
  â€œarc.feature.start.defaultâ€: â€œdevelopâ€, # èµ·å§‹ git åˆ†æ”¯
  â€œarc.land.onto.defaultâ€: â€œdevelopâ€, # push åˆ°çš„ ç›®æ ‡åˆ†æ”¯
  â€œarc.land.update.defaultâ€: â€œrebaseâ€, # land çš„æ–¹å¼
  â€œhistory.immutableâ€: false
}
<!-- more --></p>
:ET