I"ì4<p>Express ç®€ä»‹
Express æ˜¯ä¸€ä¸ªç®€æ´è€Œçµæ´»çš„ node.js Webåº”ç”¨æ¡†æ¶, æä¾›äº†ä¸€ç³»åˆ—å¼ºå¤§ç‰¹æ€§å¸®åŠ©ä½ åˆ›å»ºå„ç§ Web åº”ç”¨ï¼Œå’Œä¸°å¯Œçš„ HTTP å·¥å…·ã€‚</p>

<p>ä½¿ç”¨ Express å¯ä»¥å¿«é€Ÿåœ°æ­å»ºä¸€ä¸ªå®Œæ•´åŠŸèƒ½çš„ç½‘ç«™ã€‚</p>

<p>Express æ¡†æ¶æ ¸å¿ƒç‰¹æ€§ï¼š</p>

<p>å¯ä»¥è®¾ç½®ä¸­é—´ä»¶æ¥å“åº” HTTP è¯·æ±‚ã€‚</p>

<p>å®šä¹‰äº†è·¯ç”±è¡¨ç”¨äºæ‰§è¡Œä¸åŒçš„ HTTP è¯·æ±‚åŠ¨ä½œã€‚</p>

<p>å¯ä»¥é€šè¿‡å‘æ¨¡æ¿ä¼ é€’å‚æ•°æ¥åŠ¨æ€æ¸²æŸ“ HTML é¡µé¢ã€‚</p>

<p>å®‰è£… Express
å®‰è£… Express å¹¶å°†å…¶ä¿å­˜åˆ°ä¾èµ–åˆ—è¡¨ä¸­ï¼š</p>

<p>$ cnpm install express â€“save
ä»¥ä¸Šå‘½ä»¤ä¼šå°† Express æ¡†æ¶å®‰è£…åœ¨å½“å‰ç›®å½•çš„ node_modules ç›®å½•ä¸­ï¼Œ node_modules ç›®å½•ä¸‹ä¼šè‡ªåŠ¨åˆ›å»º express ç›®å½•ã€‚ä»¥ä¸‹å‡ ä¸ªé‡è¦çš„æ¨¡å—æ˜¯éœ€è¦ä¸ express æ¡†æ¶ä¸€èµ·å®‰è£…çš„ï¼š</p>

<p>body-parser - node.js ä¸­é—´ä»¶ï¼Œç”¨äºå¤„ç† JSON, Raw, Text å’Œ URL ç¼–ç çš„æ•°æ®ã€‚</p>

<p>cookie-parser - è¿™å°±æ˜¯ä¸€ä¸ªè§£æCookieçš„å·¥å…·ã€‚é€šè¿‡req.cookieså¯ä»¥å–åˆ°ä¼ è¿‡æ¥çš„cookieï¼Œå¹¶æŠŠå®ƒä»¬è½¬æˆå¯¹è±¡ã€‚</p>

<p>multer - node.js ä¸­é—´ä»¶ï¼Œç”¨äºå¤„ç† enctype=â€multipart/form-dataâ€ï¼ˆè®¾ç½®è¡¨å•çš„MIMEç¼–ç ï¼‰çš„è¡¨å•æ•°æ®ã€‚</p>

<p>$ cnpm install body-parser â€“save
$ cnpm install cookie-parser â€“save
$ cnpm install multer â€“save
å®‰è£…å®Œåï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ä¸‹ express ä½¿ç”¨çš„ç‰ˆæœ¬å·ï¼š</p>

<p>$ cnpm list express
/data/www/node
â””â”€â”€ express@4.15.2  -&gt; /Users/tianqixin/www/node/node_modules/.4.15.2@express
ç¬¬ä¸€ä¸ª Express æ¡†æ¶å®ä¾‹
æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ Express æ¡†æ¶æ¥è¾“å‡º â€œHello Worldâ€ã€‚</p>

<p>ä»¥ä¸‹å®ä¾‹ä¸­æˆ‘ä»¬å¼•å…¥äº† express æ¨¡å—ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚åï¼Œå“åº” â€œHello Worldâ€ å­—ç¬¦ä¸²ã€‚</p>

<p>åˆ›å»º express_demo.js æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<p>express_demo.js æ–‡ä»¶ä»£ç ï¼š
//express_demo.js æ–‡ä»¶
var express = require(â€˜expressâ€™);
var app = express();</p>

<p>app.get(â€˜/â€™, function (req, res) {
   res.send(â€˜Hello Worldâ€™);
})</p>

<p>var server = app.listen(8081, function () {</p>

<p>var host = server.address().address
  var port = server.address().port</p>

<p>console.log(â€œåº”ç”¨å®ä¾‹ï¼Œè®¿é—®åœ°å€ä¸º http://%s:%sâ€, host, port)</p>

<p>})
æ‰§è¡Œä»¥ä¸Šä»£ç ï¼š</p>

<p>$ node express_demo.js 
åº”ç”¨å®ä¾‹ï¼Œè®¿é—®åœ°å€ä¸º http://0.0.0.0:8081
<!-- more -->
è¯·æ±‚å’Œå“åº”
Express åº”ç”¨ä½¿ç”¨å›è°ƒå‡½æ•°çš„å‚æ•°ï¼š request å’Œ response å¯¹è±¡æ¥å¤„ç†è¯·æ±‚å’Œå“åº”çš„æ•°æ®ã€‚</p>

<p>app.get(â€˜/â€™, function (req, res) {
   // â€“
})
request å’Œ response å¯¹è±¡çš„å…·ä½“ä»‹ç»ï¼š</p>

<p>Request å¯¹è±¡ - request å¯¹è±¡è¡¨ç¤º HTTP è¯·æ±‚ï¼ŒåŒ…å«äº†è¯·æ±‚æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œå‚æ•°ï¼Œå†…å®¹ï¼ŒHTTP å¤´éƒ¨ç­‰å±æ€§ã€‚å¸¸è§å±æ€§æœ‰ï¼š</p>

<p>req.appï¼šå½“callbackä¸ºå¤–éƒ¨æ–‡ä»¶æ—¶ï¼Œç”¨req.appè®¿é—®expressçš„å®ä¾‹
req.baseUrlï¼šè·å–è·¯ç”±å½“å‰å®‰è£…çš„URLè·¯å¾„
req.body / req.cookiesï¼šè·å¾—ã€Œè¯·æ±‚ä¸»ä½“ã€/ Cookies
req.fresh / req.staleï¼šåˆ¤æ–­è¯·æ±‚æ˜¯å¦è¿˜ã€Œæ–°é²œã€
req.hostname / req.ipï¼šè·å–ä¸»æœºåå’ŒIPåœ°å€
req.originalUrlï¼šè·å–åŸå§‹è¯·æ±‚URL
req.paramsï¼šè·å–è·¯ç”±çš„parameters
req.pathï¼šè·å–è¯·æ±‚è·¯å¾„
req.protocolï¼šè·å–åè®®ç±»å‹
req.queryï¼šè·å–URLçš„æŸ¥è¯¢å‚æ•°ä¸²
req.routeï¼šè·å–å½“å‰åŒ¹é…çš„è·¯ç”±
req.subdomainsï¼šè·å–å­åŸŸå
req.accepts()ï¼šæ£€æŸ¥å¯æ¥å—çš„è¯·æ±‚çš„æ–‡æ¡£ç±»å‹
req.acceptsCharsets / req.acceptsEncodings / req.acceptsLanguagesï¼šè¿”å›æŒ‡å®šå­—ç¬¦é›†çš„ç¬¬ä¸€ä¸ªå¯æ¥å—å­—ç¬¦ç¼–ç 
req.get()ï¼šè·å–æŒ‡å®šçš„HTTPè¯·æ±‚å¤´
req.is()ï¼šåˆ¤æ–­è¯·æ±‚å¤´Content-Typeçš„MIMEç±»å‹
Response å¯¹è±¡ - response å¯¹è±¡è¡¨ç¤º HTTP å“åº”ï¼Œå³åœ¨æ¥æ”¶åˆ°è¯·æ±‚æ—¶å‘å®¢æˆ·ç«¯å‘é€çš„ HTTP å“åº”æ•°æ®ã€‚å¸¸è§å±æ€§æœ‰ï¼š</p>

<p>res.appï¼šåŒreq.appä¸€æ ·
res.append()ï¼šè¿½åŠ æŒ‡å®šHTTPå¤´
res.set()åœ¨res.append()åå°†é‡ç½®ä¹‹å‰è®¾ç½®çš„å¤´
res.cookie(nameï¼Œvalue [ï¼Œoption])ï¼šè®¾ç½®Cookie
opition: domain / expires / httpOnly / maxAge / path / secure / signed
res.clearCookie()ï¼šæ¸…é™¤Cookie
res.download()ï¼šä¼ é€æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶
res.get()ï¼šè¿”å›æŒ‡å®šçš„HTTPå¤´
res.json()ï¼šä¼ é€JSONå“åº”
res.jsonp()ï¼šä¼ é€JSONPå“åº”
res.location()ï¼šåªè®¾ç½®å“åº”çš„Location HTTPå¤´ï¼Œä¸è®¾ç½®çŠ¶æ€ç æˆ–è€…close response
res.redirect()ï¼šè®¾ç½®å“åº”çš„Location HTTPå¤´ï¼Œå¹¶ä¸”è®¾ç½®çŠ¶æ€ç 302
res.render(view,[locals],callback)ï¼šæ¸²æŸ“ä¸€ä¸ªviewï¼ŒåŒæ—¶å‘callbackä¼ é€’æ¸²æŸ“åçš„å­—ç¬¦ä¸²ï¼Œå¦‚æœåœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­æœ‰é”™è¯¯å‘ç”Ÿnext(err)å°†ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚callbackå°†ä¼šè¢«ä¼ å…¥ä¸€ä¸ªå¯èƒ½å‘ç”Ÿçš„é”™è¯¯ä»¥åŠæ¸²æŸ“åçš„é¡µé¢ï¼Œè¿™æ ·å°±ä¸ä¼šè‡ªåŠ¨è¾“å‡ºäº†ã€‚
res.send()ï¼šä¼ é€HTTPå“åº”
res.sendFile(path [ï¼Œoptions] [ï¼Œfn])ï¼šä¼ é€æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶ -ä¼šè‡ªåŠ¨æ ¹æ®æ–‡ä»¶extensionè®¾å®šContent-Type
res.set()ï¼šè®¾ç½®HTTPå¤´ï¼Œä¼ å…¥objectå¯ä»¥ä¸€æ¬¡è®¾ç½®å¤šä¸ªå¤´
res.status()ï¼šè®¾ç½®HTTPçŠ¶æ€ç 
res.type()ï¼šè®¾ç½®Content-Typeçš„MIMEç±»å‹
è·¯ç”±
æˆ‘ä»¬å·²ç»äº†è§£äº† HTTP è¯·æ±‚çš„åŸºæœ¬åº”ç”¨ï¼Œè€Œè·¯ç”±å†³å®šäº†ç”±è°(æŒ‡å®šè„šæœ¬)å»å“åº”å®¢æˆ·ç«¯è¯·æ±‚ã€‚</p>

<p>åœ¨HTTPè¯·æ±‚ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è·¯ç”±æå–å‡ºè¯·æ±‚çš„URLä»¥åŠGET/POSTå‚æ•°ã€‚</p>

<p>æ¥ä¸‹æ¥æˆ‘ä»¬æ‰©å±• Hello Worldï¼Œæ·»åŠ ä¸€äº›åŠŸèƒ½æ¥å¤„ç†æ›´å¤šç±»å‹çš„ HTTP è¯·æ±‚ã€‚</p>

<p>åˆ›å»º express_demo2.js æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<p>express_demo2.js æ–‡ä»¶ä»£ç ï¼š
var express = require(â€˜expressâ€™);
var app = express();</p>

<p>//  ä¸»é¡µè¾“å‡º â€œHello Worldâ€
app.get(â€˜/â€™, function (req, res) {
   console.log(â€œä¸»é¡µ GET è¯·æ±‚â€);
   res.send(â€˜Hello GETâ€™);
})</p>

<p>//  POST è¯·æ±‚
app.post(â€˜/â€™, function (req, res) {
   console.log(â€œä¸»é¡µ POST è¯·æ±‚â€);
   res.send(â€˜Hello POSTâ€™);
})</p>

<p>//  /del_user é¡µé¢å“åº”
app.get(â€˜/del_userâ€™, function (req, res) {
   console.log(â€œ/del_user å“åº” DELETE è¯·æ±‚â€);
   res.send(â€˜åˆ é™¤é¡µé¢â€™);
})</p>

<p>//  /list_user é¡µé¢ GET è¯·æ±‚
app.get(â€˜/list_userâ€™, function (req, res) {
   console.log(â€œ/list_user GET è¯·æ±‚â€);
   res.send(â€˜ç”¨æˆ·åˆ—è¡¨é¡µé¢â€™);
})</p>

<p>// å¯¹é¡µé¢ abcd, abxcd, ab123cd, ç­‰å“åº” GET è¯·æ±‚
app.get(â€˜/ab<em>cdâ€™, function(req, res) { <br />
   console.log(â€œ/ab</em>cd GET è¯·æ±‚â€);
   res.send(â€˜æ­£åˆ™åŒ¹é…â€™);
})</p>

<p>var server = app.listen(8081, function () {</p>

<p>var host = server.address().address
  var port = server.address().port</p>

<p>console.log(â€œåº”ç”¨å®ä¾‹ï¼Œè®¿é—®åœ°å€ä¸º http://%s:%sâ€, host, port)</p>

<p>})
æ‰§è¡Œä»¥ä¸Šä»£ç ï¼š</p>

<p>$ node express_demo2.js 
åº”ç”¨å®ä¾‹ï¼Œè®¿é—®åœ°å€ä¸º http://0.0.0.0:8081
æ¥ä¸‹æ¥ä½ å¯ä»¥å°è¯•è®¿é—® http://127.0.0.1:8081 ä¸åŒçš„åœ°å€ï¼ŒæŸ¥çœ‹æ•ˆæœã€‚</p>

<p>é™æ€æ–‡ä»¶
Express æä¾›äº†å†…ç½®çš„ä¸­é—´ä»¶ express.static æ¥è®¾ç½®é™æ€æ–‡ä»¶å¦‚ï¼šå›¾ç‰‡ï¼Œ CSS, JavaScript ç­‰ã€‚</p>

<p>ä½ å¯ä»¥ä½¿ç”¨ express.static ä¸­é—´ä»¶æ¥è®¾ç½®é™æ€æ–‡ä»¶è·¯å¾„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ å°†å›¾ç‰‡ï¼Œ CSS, JavaScript æ–‡ä»¶æ”¾åœ¨ public ç›®å½•ä¸‹ï¼Œä½ å¯ä»¥è¿™ä¹ˆå†™ï¼š</p>

<p>app.use(â€˜/publicâ€™, express.static(â€˜publicâ€™));
æˆ‘ä»¬å¯ä»¥åˆ° public/images ç›®å½•ä¸‹æ”¾äº›å›¾ç‰‡,å¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<p>node_modules
server.js
public/
public/images
public/images/logo.png
è®©æˆ‘ä»¬å†ä¿®æ”¹ä¸‹ â€œHello Worldâ€ åº”ç”¨æ·»åŠ å¤„ç†é™æ€æ–‡ä»¶çš„åŠŸèƒ½ã€‚</p>

<p>åˆ›å»º express_demo3.js æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<p>express_demo3.js æ–‡ä»¶ä»£ç ï¼š
var express = require(â€˜expressâ€™);
var app = express();</p>

<p>app.use(â€˜/publicâ€™, express.static(â€˜publicâ€™));</p>

<p>app.get(â€˜/â€™, function (req, res) {
   res.send(â€˜Hello Worldâ€™);
})</p>

<p>var server = app.listen(8081, function () {</p>

<p>var host = server.address().address
  var port = server.address().port</p>

<p>console.log(â€œåº”ç”¨å®ä¾‹ï¼Œè®¿é—®åœ°å€ä¸º http://%s:%sâ€, host, port)</p>

<p>})
æ‰§è¡Œä»¥ä¸Šä»£ç ï¼š</p>

<p>$ node express_demo3.js 
åº”ç”¨å®ä¾‹ï¼Œè®¿é—®åœ°å€ä¸º http://0.0.0.0:8081
æ‰§è¡Œä»¥ä¸Šä»£ç ï¼š</p>

<p>åœ¨æµè§ˆå™¨ä¸­è®¿é—® http://127.0.0.1:8081/public/images/logo.pngï¼ˆæœ¬å®ä¾‹é‡‡ç”¨äº†èœé¸Ÿæ•™ç¨‹çš„ logoï¼‰</p>

<p>GET æ–¹æ³•
ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†åœ¨è¡¨å•ä¸­é€šè¿‡ GET æ–¹æ³•æäº¤ä¸¤ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ server.js æ–‡ä»¶å†…çš„ process_get è·¯ç”±å™¨æ¥å¤„ç†è¾“å…¥ï¼š</p>

<p>index.htm æ–‡ä»¶ä»£ç ï¼š</p>
<html>
<body>
<form action="http://127.0.0.1:8081/process_get" method="GET">
First Name: <input type="text" name="first_name" />  <br />
 
Last Name: <input type="text" name="last_name" />
<input type="submit" value="Submit" />
</form>
</body>
</html>

<p>server.js æ–‡ä»¶ä»£ç ï¼š
var express = require(â€˜expressâ€™);
var app = express();</p>

<p>app.use(â€˜/publicâ€™, express.static(â€˜publicâ€™));</p>

<p>app.get(â€˜/index.htmâ€™, function (req, res) {
   res.sendFile( __dirname + â€œ/â€ + â€œindex.htmâ€ );
})</p>

<p>app.get(â€˜/process_getâ€™, function (req, res) {</p>

<p>// è¾“å‡º JSON æ ¼å¼
   var response = {
       â€œfirst_nameâ€:req.query.first_name,
       â€œlast_nameâ€:req.query.last_name
   };
   console.log(response);
   res.end(JSON.stringify(response));
})</p>

<p>var server = app.listen(8081, function () {</p>

<p>var host = server.address().address
  var port = server.address().port</p>

<p>console.log(â€œåº”ç”¨å®ä¾‹ï¼Œè®¿é—®åœ°å€ä¸º http://%s:%sâ€, host, port)</p>

<p>})
æ‰§è¡Œä»¥ä¸Šä»£ç ï¼š</p>

<p>node server.js 
åº”ç”¨å®ä¾‹ï¼Œè®¿é—®åœ°å€ä¸º http://0.0.0.0:8081</p>

<p>POST æ–¹æ³•
ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†åœ¨è¡¨å•ä¸­é€šè¿‡ POST æ–¹æ³•æäº¤ä¸¤ä¸ªå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ server.js æ–‡ä»¶å†…çš„ process_post è·¯ç”±å™¨æ¥å¤„ç†è¾“å…¥ï¼š</p>

<p>index.htm æ–‡ä»¶ä»£ç ï¼š</p>
<html>
<body>
<form action="http://127.0.0.1:8081/process_post" method="POST">
First Name: <input type="text" name="first_name" />  <br />
 
Last Name: <input type="text" name="last_name" />
<input type="submit" value="Submit" />
</form>
</body>
</html>

<p>server.js æ–‡ä»¶ä»£ç ï¼š
var express = require(â€˜expressâ€™);
var app = express();
var bodyParser = require(â€˜body-parserâ€™);</p>

<p>// åˆ›å»º application/x-www-form-urlencoded ç¼–ç è§£æ
var urlencodedParser = bodyParser.urlencoded({ extended: false })</p>

<p>app.use(â€˜/publicâ€™, express.static(â€˜publicâ€™));</p>

<p>app.get(â€˜/index.htmâ€™, function (req, res) {
   res.sendFile( __dirname + â€œ/â€ + â€œindex.htmâ€ );
})</p>

<p>app.post(â€˜/process_postâ€™, urlencodedParser, function (req, res) {</p>

<p>// è¾“å‡º JSON æ ¼å¼
   var response = {
       â€œfirst_nameâ€:req.body.first_name,
       â€œlast_nameâ€:req.body.last_name
   };
   console.log(response);
   res.end(JSON.stringify(response));
})</p>

<p>var server = app.listen(8081, function () {</p>

<p>var host = server.address().address
  var port = server.address().port</p>

<p>console.log(â€œåº”ç”¨å®ä¾‹ï¼Œè®¿é—®åœ°å€ä¸º http://%s:%sâ€, host, port)</p>

<p>})</p>

<p>æ–‡ä»¶ä¸Šä¼ 
ä»¥ä¸‹æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç”¨äºä¸Šä¼ æ–‡ä»¶çš„è¡¨å•ï¼Œä½¿ç”¨ POST æ–¹æ³•ï¼Œè¡¨å• enctype å±æ€§è®¾ç½®ä¸º multipart/form-dataã€‚</p>

<p>index.htm æ–‡ä»¶ä»£ç ï¼š</p>
<html>
<head>
<title>æ–‡ä»¶ä¸Šä¼ è¡¨å•</title>
</head>
<body>
<h3>æ–‡ä»¶ä¸Šä¼ ï¼š</h3>
é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ : <br />
<form action="/file_upload" method="post" enctype="multipart/form-data">
<input type="file" name="image" size="50" />
<br />
<input type="submit" value="ä¸Šä¼ æ–‡ä»¶" />
</form>
</body>
</html>

<p>server.js æ–‡ä»¶ä»£ç ï¼š
var express = require(â€˜expressâ€™);
var app = express();
var fs = require(â€œfsâ€);</p>

<p>var bodyParser = require(â€˜body-parserâ€™);
var multer  = require(â€˜multerâ€™);</p>

<p>app.use(â€˜/publicâ€™, express.static(â€˜publicâ€™));
app.use(bodyParser.urlencoded({ extended: false }));
app.use(multer({ dest: â€˜/tmp/â€™}).array(â€˜imageâ€™));</p>

<p>app.get(â€˜/index.htmâ€™, function (req, res) {
   res.sendFile( __dirname + â€œ/â€ + â€œindex.htmâ€ );
})</p>

<p>app.post(â€˜/file_uploadâ€™, function (req, res) {</p>

<p>console.log(req.files[0]);  // ä¸Šä¼ çš„æ–‡ä»¶ä¿¡æ¯</p>

<p>var des_file = __dirname + â€œ/â€ + req.files[0].originalname;
   fs.readFile( req.files[0].path, function (err, data) {
        fs.writeFile(des_file, data, function (err) {
         if( err ){
              console.log( err );
         }else{
               response = {
                   message:â€™File uploaded successfullyâ€™, 
                   filename:req.files[0].originalname
              };
          }
          console.log( response );
          res.end( JSON.stringify( response ) );
       });
   });
})</p>

<p>var server = app.listen(8081, function () {</p>

<p>var host = server.address().address
  var port = server.address().port</p>

<p>console.log(â€œåº”ç”¨å®ä¾‹ï¼Œè®¿é—®åœ°å€ä¸º http://%s:%sâ€, host, port)</p>

<p>})
æ‰§è¡Œä»¥ä¸Šä»£ç ï¼š</p>

<p>$ node server.js 
åº”ç”¨å®ä¾‹ï¼Œè®¿é—®åœ°å€ä¸º http://0.0.0.0:8081</p>

<p>Cookie ç®¡ç†
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸­é—´ä»¶å‘ Node.js æœåŠ¡å™¨å‘é€ cookie ä¿¡æ¯ï¼Œä»¥ä¸‹ä»£ç è¾“å‡ºäº†å®¢æˆ·ç«¯å‘é€çš„ cookie ä¿¡æ¯ï¼š</p>

<p>express_cookie.js æ–‡ä»¶ä»£ç ï¼š
// express_cookie.js æ–‡ä»¶
var express      = require(â€˜expressâ€™)
var cookieParser = require(â€˜cookie-parserâ€™)
var util = require(â€˜utilâ€™);</p>

<p>var app = express()
app.use(cookieParser())</p>

<p>app.get(â€˜/â€™, function(req, res) {
    console.log(â€œCookies: â€œ + util.inspect(req.cookies));
})</p>

<p>app.listen(8081)
æ‰§è¡Œä»¥ä¸Šä»£ç ï¼š</p>

<p>$ node express_cookie.js 
ç°åœ¨ä½ å¯ä»¥è®¿é—® http://127.0.0.1:8081 å¹¶æŸ¥çœ‹ç»ˆç«¯ä¿¡æ¯çš„è¾“å‡ºï¼Œå¦‚ä¸‹æ¼”ç¤ºï¼š</p>

<p>ç›¸å…³èµ„æ–™
Expresså®˜ç½‘ï¼š http://expressjs.com/
Express4.x API ä¸­æ–‡ç‰ˆï¼š Express4.x API Chinese
Express4.x APIï¼šhttp://expressjs.com/zh-cn/4x/api.html</p>

:ET