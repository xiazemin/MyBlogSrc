<!DOCTYPE html>
<html>

  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Sci blog jekyll theme">
    <meta name="author" content="AIR RAYA Group">
    <link href='/MyBlog/img/favicon.ico' type='image/icon' rel='shortcut icon'/>

    <title>泽民博客 | Jekyll theme</title>

    <link rel="stylesheet" href="/MyBlog/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="/MyBlog/css/font-awesome.min.css">
    <link href="/MyBlog/css/simple-sidebar.css" rel="stylesheet">
	<link href="/MyBlog/css/classic-10_7.css" rel="stylesheet" type="text/css">
    <!-- Custom CSS -->
    <link href="/MyBlog/css/style.css" rel="stylesheet">
    <link href="/MyBlog/css/pygments.css" rel="stylesheet">
    <!-- Fonts -->
 <link href="/MyBlog/css/front.css" rel="stylesheet" type="text/css">
 <link href="/MyBlog/css/Josefin_Slab.css" rel="stylesheet" type="text/css">
<link href="/MyBlog/css/Architects_Daughter.css" rel="stylesheet" type="text/css">
<link href="/MyBlog/css/Schoolbell.css" rel="stylesheet" type="text/css">
<link href="/MyBlog/css/Codystar.css" rel="stylesheet" type="text/css">

 <script type="text/javascript" src="/MyBlog/js/jquery-1.12.0.min.js"></script>	

<link href="/MyBlog/css/calendar/common.css" type="text/css"  rel="stylesheet">
<script type="text/javascript" src="/MyBlog/js/calendar/calendar.js"></script>
	<!-- share this -->
	<script type="text/javascript">var switchTo5x=true;</script>
	<script type="text/javascript" src="/MyBlog/js/buttons.js"></script>
	<script type="text/javascript">stLight.options({publisher: "b28464c3-d287-4257-ad18-058346dd35f7", doNotHash: false, doNotCopy: false, hashAddressBar: false});</script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="/MyBlog/js/html5shiv.js"></script>
        <script src="/MyBlog/js/respond.min.js"></script>
    <![endif]-->
   
   <!--百度统计-->
    <script>
    var _hmt = _hmt || [];
    (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?e965cab8c73512b8b23939e7051d93bd";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
    })();
    </script>
    <script async src="/MyBlog/katex/katex.js"></script>
    <link rel="stylesheet" href="/MyBlog/katex/katex.css">

    <!--轮播图片-->
    <!--script type="text/javascript" src="https://xiazemin.github.io/MyBlog/js/jquery.js"></script>
    <script type="text/javascript" src="https://xiazemin.github.io/MyBlog/js/jquery.stripesrotator.js"></script>
    <script type="text/javascript">
                    $(document).ready(function() {
                    alert($('#rotator_xzm'));
                     alert($('#rotator_xzm').fn);
                    $('#rotator_xzm').stripesRotator({ images: [ "https://xiazemin.github.io/MyBlog/img/BPlusTree.png", "https://xiazemin.github.io/MyBlog/img/linuxMMap.jpeg"] });
                    });
    </script-->

    <!--水印-->
    <script type="text/javascript" src="/MyBlog/js/waterMark.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){
    watermark({watermark_txt0:'泽民博客',watermark_txt1:'zemin',watermark_txt2:(new Date()).Format("yyyy-MM-dd hh:mm:ss.S")});
    })
    </script>
     <!--水印-->
     <!--adscene-->
    <script data-ad-client="ca-pub-6672721494777557" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

</head>

 <body>
<div id="wrapper">
 <!-- Navigation -->
    <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-brand">
                    <a href="/MyBlog">
                        Home
                    </a>
                </li>
                <li>
                    <a href="#">About</a>
                </li>
                <li>
                    <a href="#">Services</a>
                </li>
                <li>
                    <a href="#">Portfolio</a>
                </li>
                <li>
                    <a href="#">Events</a>
                </li>
                <li>
                    <a href="#">Blog</a>
                </li>
                <li>
                    <a href="#">FAQ</a>
                </li>
                <li>
                    <a href="#">Contact</a>
                </li>
            </ul>
        </div>


    <header class="intro-header">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="heading text-center">
                        <a href="https://xiazemin.github.io/MyBlog/" style="color: #fff; font-size: 4em; font-family: 'Schoolbell', cursive;">泽民博客</a>
                        <a href="#menu-toggle" class="btn btn-default sciblog" id="menu-toggle" style="font-weight: bold;">&#9776; Menu</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

     <script async src="/MyBlog/js/busuanzi.pure.mini.js"></script>

    <script type="text/javascript" src="/MyBlog/js/jquery.js"></script>
    <script type="text/javascript" src="/MyBlog/js/jquery.stripesrotator.js"></script>


 <div class="container">
	<div class="row">
        <div class="box">
                <div class="col-lg-12">
                    <div class="intro-text text-center">
					<h1 class="post-title" itemprop="name headline">函数调用帧栈</h1>
					<p class="post-meta"> <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">by 夏泽民</span></span> <time datetime="2019-09-18T00:00:00+08:00" itemprop="datePublished"><i class="fa fa-calendar"></i> Sep 18, 2019</time></p>
					</div>
					 <p>区域	作用<br />
栈区（stack）	由编译器自动分配和释放，存放函数的参数值，局部变量的值等。操作方式类似与数据结构中的栈<br />
堆区（heap）	一般由程序员分配和释放，若程序员不释放，程序结束时可能由操作系统回收。与数据结构中的堆是两码事，分配方式类似于链表<br />
静态区（static）	全局变量和静态变量存放于此<br />
文字常量区	常量字符串放在此，程序结束后由系统释放<br />
程序代码区	存放函数体的二进制代码<br />
<!-- more --><br />
栈帧就是一个函数执行的环境。实际上，栈帧可以简单理解为：栈帧就是存储在用户栈上的（当然内核栈同样适用）每一次函数调用涉及的相关信息的记录单元。<br />
栈是从高地址向低地址延伸的。每个函数的每次调用，都有它自己独立的一个栈帧，这个栈帧中维持着所需要的各种信息。寄存器ebp指向当前的栈帧的底部（高地址），寄存器esp指向当前的栈帧的顶部（地址地）。</p><br />
<br />
<p>寄存器名称	作用<br />
eax	累加(Accumulator)寄存器，常用于函数返回值<br />
ebx	基址(Base)寄存器，以它为基址访问内存<br />
ecx	计数器(Counter)寄存器，常用作字符串和循环操作中的计数器<br />
edx	数据(Data)寄存器，常用于乘除法和I/O指针<br />
esi	源变址寄存器<br />
dsi	目的变址寄存器<br />
esp	堆栈(Stack)指针寄存器，指向堆栈顶部<br />
ebp	基址指针寄存器，指向当前堆栈底部<br />
eip	指令寄存器，指向下一条指令的地址</p><br />
<br />
<p>一、数据传送指令<br />
1、传送指令：MOV (move)</p><br />
<br />
<p>格式：mov dst,src<br />
具体用法：</p><br />
<br />
<p>(1) CPU内部寄存器之间的数据传送，如：mov ah,al</p><br />
<br />
<p>(2) 立即数送至通用寄存器(非段寄存器)或存储单元，如:mov al,3        mov [bx],1234h</p><br />
<br />
<p>(3) 寄存器与存储器间的数据传送，如：mov ax,var        mov ax,[bx]</p><br />
<br />
<p>2、交换指令：XCHG</p><br />
<br />
<p>xchg OPRD1,OPRD2    ;OPRD可以是通用寄存器或存储单元，但不包括段寄存器，不能同时是存储单元，不能有立即数<br />
3、地址传送指令：LEA、LDS、LES</p><br />
<br />
<p>(1) LEA(Load Effective Address)<br />
    格式：   lea REG,OPRD      <br /><br />
    功能：   把操作数OPRD的有效地址传送到操作数REG<br />
     注：    REG必须是16位通用寄存器，OPRD必须是一个存储器操作数</p><br />
<br />
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> 如：    lea ax,buf            ;buf是变量名<br />
        lea ax,[si+2] (2) LDS(Load pointer into DS)<br />
格式：   lds REG,OPRD        <br />
功能：   传送32位地址指针，将OPRD存储的32位数的高16位（段地址）送至DS，低16位（偏移地址）送至REG。（注意OPRD存放的32位数据，不是OPRD本身的地址）<br />
 注：    操作数OPRD必须是一个32位存储器操作数，操作数REG可以时16位通用寄存器，但通常是指令指针寄存器（IP）或变址寄存器（SI，DI，SP，BP）<br />
 <br />
 如：       lds di,[bx]<br />
        lds si,FARPOINTER      ;FARPOINTER是一个32位（双字）变量 (3) LES(Load pointer into ES)<br />
格式：      les REG,OPRD<br />
功能：      把操作数OPRD存储的32位数据的高16位（段地址）送至ES，低16位（偏移地址）送至REG<br />
 <br />
其他同LDS 二、堆栈操作指令 1、进栈指令：push<br />
</code></pre></div></div><br />
<br />
<p>格式：push src<br />
功能： 把16位数据src压入堆栈。<br />
注：    源操作数src可以是通用寄存器和段寄存器，也可以是字存储单元</p><br />
<br />
<p>如：  push si<br />
     push [si]<br />
     push var        ;var是16位（字）变量<br />
2、出栈指令：pop</p><br />
<br />
<p>格式：pop dst<br />
功能：从堆栈弹出16位数据至dst<br />
注： dst可以是通用寄存器和段寄存器，但不能是CS，可以是字存储单元</p><br />
<br />
<p>如： pop si<br />
    pop [si]<br />
    pop var            ;var是字变量<br />
三、标志操作指令<br />
1、标志传送指令：LAHF(Load AH with Flags)、SAHF(Store AH into Flags)、PUSHF、POPF</p><br />
<br />
<p>(1) LAHF(Load AH with Flags)<br />
    格式：LAHF<br />
    功能：把标志寄存器的低8位（包括SF(7)、ZF(6)、AF(4)、PF(2)、CF(0)）传送到AH指定位。</p><br />
<br />
<p>(2) SAHF(Store AH into Flags)<br />
    格式：SAHF<br />
    功能：把寄存器AH的指定位送至标志寄存器低8位（包括SF(7)、ZF(6)、AF(4)、PF(2)、CF(0)）。</p><br />
<br />
<p>(3) PUSHF<br />
    格式：PUSHF<br />
    功能：把标志寄存器的内容（16位）压入堆栈。SP-=2<br />
    注： 这条指令不影响标志位</p><br />
<br />
<p>(4) POPF<br />
    格式：POPF<br />
    功能：把当前栈顶的一个字传送到标志寄存器。SP+=2<br />
2、标志位操作指令：CLC、STC、CMC、CLD、STD、CLI、STI</p><br />
<br />
<p>(1) CLC(Clear Carry Flag):                CF置0<br />
(2) STC(Set Carry Flag):                CF置1</p><br />
<br />
<p>(3) CMC(Complement Carry Flag):            CF取反</p><br />
<br />
<p>(4) CLD(Clear Direction Flag):            DF置0，执行串操作指令时，地址递增<br />
(5) STD(Set Direction Flag):            DF置1，执行串操作指令时，地址递减</p><br />
<br />
<p>(6) CLI(Clear Interrupt enable Flag)    IF置0，使CPU不响应来自外部装置的可屏蔽中断，但对不可屏蔽中断和内部中断没有影响<br />
(7) STI(Set Interrupt enable Flag)        IF置1，可以响应可屏蔽中断<br />
四、加减运算指令<br />
加减法运算对无符号数和有符号数的处理一视同仁。即作为无符号数而影响标志位CF和AF，也作为有符号数影响标识OF和SF，且总会影响ZF。加减法运算指令也要影响标志位PF。有些指令稍有例外。<br />
存放运算结果的操作数（两个操作数时即左操作数）只能是通用寄存器或存储单元（变量）。如果参与运算的操作数有两个，则最多只能有一个是存储器操作数。<br />
如果参与运算的操作数有两个，则它们的类型必须一致，如同时为字节或同时为字等。<br />
1、加法指令：add、adc、inc</p><br />
<br />
<p>(1) add(Addtion)<br />
    格式：add OPRD1,OPRD2<br />
    功能：OPRD1 = OPRD1 + OPRD2<br />
    注：  影响FLAG</p><br />
<br />
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>如：add al,5<br />
       add bl,var        ;var是字节变量<br />
       add var,si        ;var是字变量<br />
</code></pre></div></div><br />
<br />
<p>(2) adc(add with Carry)        ;带进位的加法<br />
    格式：adc OPRD1,OPRD2<br />
    功能：带进位的加法，OPRD1 = OPRD1 + OPRD2 + CF<br />
    注：    影响FLAG，主要用于多字节运算</p><br />
<br />
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>如：    adc al,[bx]<br />
     adc dx,ax<br />
     adc dx,var        ;var是字变量<br />
</code></pre></div></div><br />
<br />
<p>(3) inc(Increment)<br />
    格式：inc OPRD<br />
    功能：OPRD = OPRD + 1<br />
    注： 不影响CF</p><br />
<br />
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>如：inc al<br />
    inc var            ;var是字节变量，也可以是字变量<br />
    inc cx 2、减法指令：sub、sbb、dec、neg、cmp<br />
</code></pre></div></div><br />
<br />
<p>(1) sub(Subtraction)<br />
    格式：sub OPRD1，OPRD2<br />
    功能：OPRD1 = OPRD1 - OPRD2</p><br />
<br />
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>如：  sub ah,12<br />
     sub bx,bp<br />
     sub al,[bx]<br />
     sub [BP],AX<br />
     sub AX,VAR        ;VAR是字变量<br />
</code></pre></div></div><br />
<br />
<p>(2) sbb(Sub with Borrow)<br />
    格式：sbb OPRD1,OPRD2<br />
    功能：OPRD1 = OPRD1 - OPRD2 - CF<br />
    注：    主要用于多字节数相减的情况</p><br />
<br />
<p>(3) dec(decrement)<br />
    格式：dec OPRD<br />
    功能：OPRD = OPRD - 1<br />
    注：    操作数OPRD可以是通用寄存器，也可以是存储单元。相减时把操作数作为一个无符号数对待，这条指令影响ZF、SP、OF、PF、AF，但不影响CF，该指令主要用于调整地址指针和计数器。</p><br />
<br />
<p>(4) neg(Negate)<br />
    格式：NEG OPRD<br />
    功能：对操作数取补，即OPRD = 0 - OPRD<br />
    注： 操作数可以是通用寄存器，也可以是存储单元。此指令结果影响CF、ZF、OF、AF、PF，一般会使CF为1，除非OPRD=0</p><br />
<br />
<p>(5)    cmp(Compare)<br />
    格式：cmp OPRD1,OPRD2<br />
    功能：执行OPRD1 - OPRD2，但运算结果不运送到OPRD1<br />
    注：    该指令通过OPRD - OPRD2影响标志位CF、ZF、SF、OF、AF、PF来判断OPRD1和OPRD2的大小关系。通过ZF判断是否相等；如果是无符号数，通过CF可判断大小；如果是有符号数，通过SF和OF判断大小<br />
五、乘除运算指令<br />
1、乘法指令：mul、imul</p><br />
<br />
<p>(1) mul(Multiply)            ;无符号数乘法指令<br />
    格式：MUL OPRD<br />
    功能：将OPRD与AX或AL中的操作数相乘，结果保存在DX:AX中或AX中<br />
    注： 无符号数相乘分为16位<em>16位和8位</em>8位，结果分别为32位和16位，保存在DX:AX中或AX中，其中结果为32位时，DX为高16位，AX为低16位；结果为16位时，AH为高8位，AL为低8位。</p><br />
<br />
<p>(2) imul(Signed Multiply)    ;有符号数乘法指令<br />
    格式：IMUL OPRD<br />
    功能：把乘数和被乘数均作为有符号数进行乘法运算。其余与mul类似<br />
    注：    如果乘积结果的高位部分（DX或AH）不是低位的符号扩展，则CF=1，OF=1，否则CF=0，OF=0。即CF=1，OF=1表示AH或DX中含有结果的有效数。<br />
         如果除数为0，或8位数除时商超过8位，16位数除时商超过16位，则认为是除溢出，引起0号中断。除法指令对标志位的影响无定义。<br />
2、除法指令：div、idiv</p><br />
<br />
<p>(1) div(Division)            ;无符号数除法指令<br />
    格式：DIV OPRD<br />
    功能：OPRD为除数，被除数存放在DX:AX或AX中，做除法，结果存放在DX:AX（DX存放余数，AX存放商）或AX（AH余数，AL商）。<br />
    注：    8086中除法有32位除以16位和16位除以8位。前者被除数为32位，高位在DX中，低位在AX中，除数OPRD为16位通用寄存器或16位存储器操作数，结果为16位，其中16位余数存放在DX中，16位商存放在AX中；若为16位除以8位，被除数存放在AX中，OPRD为8位通用寄存器或存储器操作数，结果8位余数存放在AH中，8位商存放在AL中。</p><br />
<br />
<p>(2) idiv(Signed Division)    ;有符号数除法指令<br />
    格式：IDIV OPRD<br />
    功能：把除数和被除数看做有符号数做除法，其余与div类似<br />
3、符号扩展指令：cbw、cwd</p><br />
<br />
<p>(1) cbw(Convert Byte to Word)<br />
    格式：CBW<br />
    功能：把寄存器AL中的符号位扩展到寄存器AH</p><br />
<br />
<p>(2) cwd(Convert Word to Double Word)<br />
    格式：CWD<br />
    功能：把寄存器AX中的符号扩展到寄存器DX<br />
六、逻辑运算和移位指令<br />
1、逻辑运算指令：not、and、or、xor、test</p><br />
<br />
<p>(1) NOT<br />
    格式：NOT OPRD<br />
    功能：把操作数OPRD取反，然后送回OPRD。<br />
    注：    OPRD可以是通用寄存器，也可以是存储器操作数，此指令对标志没有影响</p><br />
<br />
<p>(2) AND<br />
    格式：AND OPRD1,OPRD2<br />
    功能：对两个操作数进行按位逻辑“与”运算，结果送到OPRD1中<br />
    注： 该指令执行后，CF=0，OF=0，标志PF、ZF、SF反映运算结果，AF未定义。<br />
         某个操作数与自身相与，值不变，但可以使CF置0。</p><br />
<br />
<p>(3) OR<br />
    格式：OR OPRD1,OPRD2<br />
    功能：对两个操作数进行按位逻辑“或”运算，结果送到OPRD1中<br />
    注： 该指令执行后，CF=0，OF=0，标志PF、ZF、SF反映运算结果，AF未定义。<br />
         某个操作数与自身相或，值不变，但可以使CF置0。</p><br />
<br />
<p>(4) XOR<br />
    格式：XOR OPRD1,OPRD2<br />
    功能：对两个操作数进行按位逻辑“异或”运算，结果送到OPRD1中<br />
    注： 该指令执行后，CF=0，OF=0，标志PF、ZF、SF反映运算结果，AF未定义。</p><br />
<br />
<p>(5) TEST<br />
    格式：TEST OPRD1,OPRD2<br />
    功能：把OPRD1与OPRD2按位“与”，但结果不送到OPRD1中，仅影响标志位。<br />
    注： 该指令执行后，CF=0，OF=0，标志PF、ZF、SF反映运算结果。常用于检测某些位是否为1<br />
2、一般移位指令：SAL/SHL,SAR/SHR</p><br />
<br />
<p>(1) SAL/SHL(Shift Arithmetic Left / Shift Logic Left)        ;算术左移/逻辑左移<br />
    格式：SAL OPRD,m<br />
         SHL OPRD,m<br />
    功能：把操作数OPRD左移m位，每移动一位，右边用0补足1位，移出的最高位进入标志位CF<br />
    注：    算术左移和逻辑左移进行相同的动作，为了方便提供了两个助记符。</p><br />
<br />
<p>(2) SAR(Shift Arithmetic Right)                                ;算数右移指令<br />
    格式：SAR OPRD,m<br />
    功能：操作数右移m位，同时每移1位，左边的符号位保持不变，移出的最低位进入标志位CF<br />
    注：    对有符号数和无符号数，算数右移1位相当于除以2</p><br />
<br />
<p>(3) SHR(Shift Logic Right)                                    ;逻辑右移指令<br />
    格式：SHR OPRD,m<br />
    功能：操作数右移m位，同时每移1位，左边用0补足，移出的最低位进入标志位CF<br />
    注：    对无符号数，逻辑右移1位相当于除以2<br />
3、循环移位指令：ROL、ROR、RCL、RCR</p><br />
<br />
<p>格式：</p><br />
<br />
<p>ROL OPRD,m</p><br />
<br />
<p>ROR OPRD,m</p><br />
<br />
<p>RCL OPRD,m</p><br />
<br />
<p>RCR OPRD,m</p><br />
<br />
<p>这些指令只影响CF和OF<br />
七、转移指令<br />
1、无条件转移指令：JMP(Jump)</p><br />
<br />
<p>段内转移：改变IP<br />
段间转移：改变CS:IP</p><br />
<br />
<p>(1) 无条件段内直接转移指令<br />
    格式：JMP 标号<br />
    功能：使控制无条件转移至标号地址处<br />
    原理：把编译时计算出的地址差加到IP上</p><br />
<br />
<p>(2) 无条件段内间接转移指令<br />
    格式：JMP OPRD<br />
    功能：使控制指令无条件转移到OPRD的内容给定的目标地址处。操作数OPRD可以是通用寄存器，也可以是字存储单元<br />
    例如：jmp cx                    ;CX寄存器的内容送IP<br />
         jmp word ptr [1234h]    ;字存储单元[1234h]的内容送IP</p><br />
<br />
<p>(3) 无条件段间直接转移指令<br />
    格式：jmp far ptr 标号<br />
    功能：使控制指令无条件的转移到标号对应的地址处<br />
    原理：把编译时产生的标号处的段地址和偏移地址分别置入CS和IP</p><br />
<br />
<p>(4) 无条件段间间接转移指令<br />
    格式：JMP OPRD<br />
    功能：使控制指令无条件转移到操作数OPRD的内容给定的目标地址处。操作数OPRD必须是双字存储单元<br />
    例如：jmp dword ptr [1234h]    ;双字存储单元的低字内容送IP，高字内容送CS<br />
2、条件转移指令</p><br />
<br />
<p>3、循环指令：LOOP、LOOPE/LOOPZ、LOOPNE/LOOPNZ、JCXZ</p><br />
<br />
<p>(1) Loop            ;计数循环指令<br />
    格式：loop 标号<br />
    功能：使转移标号与Loop指令间的指令循环执行CX次<br />
    原理：指令执行至loop时，cx减1，如果cx不为0，则跳转至标号处，否则继续执行下一条指令<br />
        即：DEC CX<br />
           JNZ 标号</p><br />
<br />
<p>(2) LOOPE/LOOPZ        ;等于/全零循环指令<br />
    格式：LOOPE 标号<br />
         LOOPZ 标号<br />
    功能：该指令使CX自减1，若结果不为0，并且ZF=1，则转移至标号，否则顺序执行。注意指令本身实施的CX自减1操作不影响标志</p><br />
<br />
<p>(3) LOOPNE/LOOPNZ    ;不等于/非零循环指令<br />
    格式：LOOPNE 标号<br />
         LOOPNZ 标号<br />
    功能：该指令使CX自减1，若结果不为0，并且ZF=0，则转移至标号，否则顺序执行。注意指令本身实施的CX自减1操作不影响标志</p><br />
<br />
<p>(4) JCXZ            ;跳转指令<br />
    格式：JCXZ 标号<br />
    功能：当寄存器CX的值为0时跳转到标号，否则顺序执行<br />
 <br />
当发生函数调用的时候,栈空间中存放的数据是这样的:<br />
1、调用者函数把被调函数所需要的参数按照与被调函数的形参顺序相反的顺序压入栈中,即:从右向左依次把被调函数所需要的参数压入栈;<br />
2、调用者函数使用call指令调用被调函数,并把call指令的下一条指令的地址当成返回地址压入栈中(这个压栈操作隐含在call指令中);<br />
3、在被调函数中,被调函数会先保存调用者函数的栈底地址(push ebp),然后再保存调用者函数的栈顶地址,即:当前被调函数的栈底地址(mov ebp,esp);<br />
4、在被调函数中,从ebp的位置处开始存放被调函数中的局部变量和临时变量,并且这些变量的地址按照定义时的顺序依次减小,即:这些变量的地址是按照栈的延伸方向排列的,先定义的变量先入栈,后定义的变量后入栈;</p><br />
<br />
<p>当进程被加载到内存时，会被分成很多段</p><br />
<br />
<p>代码段：保存程序文本，指令指针EIP就是指向代码段，可读可执行不可写，如果发生写操作则会提示segmentation fault<br />
数据段：保存初始化的全局变量和静态变量，可读可写不可执行<br />
BSS：未初始化的全局变量和静态变量<br />
堆(Heap)：动态分配内存，向地址增大的方向增长，可读可写可执行<br />
栈(Stack)：存放局部变量，函数参数，当前状态，函数调用信息等，向地址减小的方向增长，可读可写可执行<br />
环境/参数段（environment/argumentssection）：用来存储系统环境变量的一份复制文件，进程在运行时可能需要。例如，运行中的进程，可以通过环境变量来访问路径、shell 名称、主机名等信息。该节是可写的，因此在缓冲区溢出（buffer overflow）攻击中都可以使用该段<br />
 </p><br />
<br />
<p>寄存器</p><br />
<br />
<p>EAX：累加(Accumulator)寄存器，常用于函数返回值</p><br />
<br />
<p>EBX：基址(Base)寄存器，以它为基址访问内存</p><br />
<br />
<p>ECX：计数器(Counter)寄存器，常用作字符串和循环操作中的计数器</p><br />
<br />
<p>EDX：数据(Data)寄存器，常用于乘除法和I/O指针</p><br />
<br />
<p>ESI：源变址寄存器</p><br />
<br />
<p>DSI：目的变址寄存器</p><br />
<br />
<p>ESP：堆栈(Stack)指针寄存器，指向堆栈顶部</p><br />
<br />
<p>EBP：基址指针寄存器，指向当前堆栈底部</p><br />
<br />
<p>EIP：指令寄存器，指向下一条指令的地址</p><br />
<br />
<p> </p><br />
<br />
<p>入栈push和出栈pop</p><br />
<br />
<p>push ebp就等于将ebp的值保存到栈中，并且将当前esp下移</p><br />
<br />
<p>pop ebp就等于将ebp的值从栈中取出来，将ebp指向这个值</p><br />

					 <span class='st_sharethis_large' displayText='ShareThis'></span>
						<span class='st_facebook_large' displayText='Facebook'></span>
						<span class='st_twitter_large' displayText='Tweet'></span>
						<span class='st_linkedin_large' displayText='LinkedIn'></span>
						<span class='st_pinterest_large' displayText='Pinterest'></span>
						<span class='st_email_large' displayText='Email'></span>
                </div>
                Category linux
        </div>
	</div>
  
  
       <!--赞-->
    	  <div class="row">
            <div class="col-lg-6">
                <img src="https://xiazemin.github.io/MyBlog/img/webwxgetmsgimg.jpeg"  height="400" width="auto" />
            </div>
          </div>

        <div class="row">
                <div class="col-md-12">
			<div id="disqus_thread"></div>

<div id="gitmentContainer"></div>
<link rel="stylesheet" href="/MyBlog/css/default.css">
<script src="/MyBlog/js/gitment.browser.js"></script>
<script type="text/javascript" src="/MyBlog/js/json2.js"></script>
<script>
var gitment = new Gitment({
    owner: 'xiazemin',
    repo: 'MyBlogComment',
    oauth: {
        client_id: '981ba8c916c262631ea0',
        client_secret: 'a52260ef92de69011ccd1cf355b973ef11d6da0e',
    },
});

var MyGitmentContainer=gitment.render('gitmentContainer');
window.setTimeout(MyGitMentBtnclick,1000); 
//document.ready(function(){ 
//window.onload=function(){}

function MyGitMentBtnclick(){
//var MyGitmentContainer=document.getElementById('gitmentContainer');
	var ele=[],all=MyGitmentContainer.getElementsByTagName("*");
	for(var i=0;i<all.length;i++){
	  if(all[i].className=='gitment-comments-init-btn'){
		MyGitMentBtn=all[i];
		console.log(MyGitMentBtn);
		MyGitMentBtn.click();
	  }
	}
}

</script>



			<!--script>
			/**
			* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
			* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
			*/
			/*
			var disqus_config = function () {
			this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
			this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
			};
			*/
			(function() { // DON'T EDIT BELOW THIS LINE
			var d = document, s = d.createElement('script');

			s.src = '//airrayagroup.disqus.com/embed.js';

			s.setAttribute('data-timestamp', +new Date());
			(d.head || d.body).appendChild(s);
			})();
			</script>
			<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
			<script id="dsq-count-scr" src="//airrayagroup.disqus.com/count.js" async></script-->
          </div>
       </div>

</div>
<hr>
     <footer>
        <div class="container">
             <a href="/MyBlog/" style="color: green; font-size: 2em; font-family: 'Schoolbell', cursive;">首页</a>
            <div class="row">
                <div class="col-lg-6">
                    <p>Copyright &copy; 2017 465474307@qq.com <p>
                </div>
                <div class="col-lg-6">
                    <p style="float: right;">Jekyll theme by <a href="https://github.com/xiazemin/">夏泽民</a></p>
                </div>
            </div>
        </div>
    </footer>
	
    <!-- jQuery -->
    <script src="/MyBlog/js/jquery-1.12.0.min.js"></script>
    <script src="/MyBlog/js/jquery-migrate-1.2.1.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="/MyBlog/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
        <!-- Menu Toggle Script -->
    <script>
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
    </script>
    <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"slide":{"type":"slide","bdImg":"6","bdPos":"right","bdTop":"100"},"image":{"viewList":["qzone","tsina","tqq","renren","weixin"],"viewText":"分享到：","viewSize":"16"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/MyBlog/shareapi/js/share.js?v=89860593.js?'];</script>


<!-- 2d  -->
<script type="text/javascript" charset="utf-8"  src="/MyBlog/js/L2Dwidget.0.min.js"></script>
<script type="text/javascript" charset="utf-8"  src="/MyBlog/js/L2Dwidget.min.js"></script>
<script type="text/javascript">
 setTimeout(()=> {
/*L2Dwidget.init({"display": {
        "superSample": 2,
        "width": 200,
        "height": 400,
             "position": "right",
                 "hOffset": 0,
        "vOffset": 0
          }
     });
*/
 L2Dwidget
        .on('*', (name) => {
          console.log('%c EVENT ' + '%c -> ' + name, 'background: #222; color: yellow', 'background: #fff; color: #000')
        })
        .init({
          dialog: {
            // 开启对话框
            enable: true,
            script: {
              // 每空闲 10 秒钟，显示一条一言
              'every idle 10s': '$hitokoto$',
              // 当触摸到星星图案
              'hover .star': '星星在天上而你在我心里 (*/ω＼*)',
              // 当触摸到角色身体
              'tap body': '哎呀！别碰我！',
              // 当触摸到角色头部
              'tap face': '人家已经不是小孩子了！'
            }
          }
        });

})
</script>



    <!--html xmlns:wb="http://open.weibo.com/wb">
    <script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
    <wb:follow-button uid="2165491993" type="red_1" width="67" height="24" ></wb:follow-button-->

      <!--本文来自-->
     <script type="text/javascript">
      /* 仅IE
     document.body.oncopy = function(){
        setTimeout( 
            function () { 
        var text =window.clipboardData.getData("text"); 
        if (text) { 
            text = text + "/r/n本篇文章来源于 xiazemin 的 泽民博客|https://xiazemin.github.io/MyBlog/index.html 原文链接："+location.href; clipboardData.setData("text", text); 
          }
       },
     100 )
    }
     */
     //绑定在了body上，也可以绑定在其他可用元素行，但是不是所有元素都支持copy和past事件。

     /*
$(document.body).bind({
    copy: function(event) {//copy事件
        //var cpTxt = "复制的数据";
        var clipboardData = window.clipboardData; //for IE
        if (!clipboardData) { // for chrome
            clipboardData = event.originalEvent.clipboardData;
        }

        if (event.clipboardData != null/false/undefined) { //ignore the incorrectness of the truncation
        clipboarddata = event.clipboardData;
        } else if (window.clipboardData != null/false/undefined) {
         clipboarddata = window.clipboardData;
        } else { //default to the last option even if it is null/false/undefined
         clipboarddata = event.originalEvent.clipboardData;
        }

        //e.clipboardData.getData('text');//可以获取用户选中复制的数据
        //clipboardData.setData('Text', cpTxt);
        alert(clipboarddata.getData('text'));
        //$('#message').text('Copy Data : ' + cpTxt);
        return false;//否则设不生效
    },paste: function(e) {//paste事件
        var eve = e.originalEvent
        var cp = eve.clipboardData;
        var data = null;
        var clipboardData = window.clipboardData; // IE
        if (!clipboardData) { //chrome
            clipboardData = e.originalEvent.clipboardData
        }
        data = clipboardData.getData('Text');
        //$('#message').html(data);
    }
});     
*/
function addLink() {
    var body_element = document.getElementsByTagName('body')[0];
    var selection;
    selection = window.getSelection();
    var pagelink = "<br /><br />本文来源：xiazemin 的 泽民博客 <a href='"+document.location.href+"'>"+document.location.href+"</a>";
//+document.location.href+当前页面链接
    var copy_text = selection + pagelink;
    console.log(copy_text);
    var new_div = document.createElement('div');
    new_div.style.left='-99999px';
    new_div.style.position='absolute';
    body_element.appendChild(new_div );
    new_div.innerHTML = copy_text ;
    selection.selectAllChildren(new_div );
    window.setTimeout(function() {
        body_element.removeChild(new_div );
    },0);
}
document.oncopy = addLink;
     </script>
    <!--本文来自-->

</div>
  </body>

</html>