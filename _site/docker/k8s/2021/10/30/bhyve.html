<!DOCTYPE html>
<html>

  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Sci blog jekyll theme">
    <meta name="author" content="AIR RAYA Group">
    <link href='/MyBlog/img/favicon.ico' type='image/icon' rel='shortcut icon'/>

    <title>æ³½æ°‘åšå®¢ | Jekyll theme</title>

    <link rel="stylesheet" href="/MyBlog/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="/MyBlog/css/font-awesome.min.css">
    <link href="/MyBlog/css/simple-sidebar.css" rel="stylesheet">
	<link href="/MyBlog/css/classic-10_7.css" rel="stylesheet" type="text/css">
    <!-- Custom CSS -->
    <link href="/MyBlog/css/style.css" rel="stylesheet">
    <link href="/MyBlog/css/pygments.css" rel="stylesheet">
    <!-- Fonts -->
 <link href="/MyBlog/css/front.css" rel="stylesheet" type="text/css">
 <link href="/MyBlog/css/Josefin_Slab.css" rel="stylesheet" type="text/css">
<link href="/MyBlog/css/Architects_Daughter.css" rel="stylesheet" type="text/css">
<link href="/MyBlog/css/Schoolbell.css" rel="stylesheet" type="text/css">
<link href="/MyBlog/css/Codystar.css" rel="stylesheet" type="text/css">

 <script type="text/javascript" src="/MyBlog/js/jquery-1.12.0.min.js"></script>	

<link href="/MyBlog/css/calendar/common.css" type="text/css"  rel="stylesheet">
<script type="text/javascript" src="/MyBlog/js/calendar/calendar.js"></script>
	<!-- share this -->
	<script type="text/javascript">var switchTo5x=true;</script>
	<script type="text/javascript" src="/MyBlog/js/buttons.js"></script>
	<script type="text/javascript">stLight.options({publisher: "b28464c3-d287-4257-ad18-058346dd35f7", doNotHash: false, doNotCopy: false, hashAddressBar: false});</script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="/MyBlog/js/html5shiv.js"></script>
        <script src="/MyBlog/js/respond.min.js"></script>
    <![endif]-->
   
   <!--ç™¾åº¦ç»Ÿè®¡-->
    <script>
    var _hmt = _hmt || [];
    (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?e965cab8c73512b8b23939e7051d93bd";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
    })();
    </script>
    <script async src="/MyBlog/katex/katex.js"></script>
    <link rel="stylesheet" href="/MyBlog/katex/katex.css">

    <!--è½®æ’­å›¾ç‰‡-->
    <!--script type="text/javascript" src="https://xiazemin.github.io/MyBlog/js/jquery.js"></script>
    <script type="text/javascript" src="https://xiazemin.github.io/MyBlog/js/jquery.stripesrotator.js"></script>
    <script type="text/javascript">
                    $(document).ready(function() {
                    alert($('#rotator_xzm'));
                     alert($('#rotator_xzm').fn);
                    $('#rotator_xzm').stripesRotator({ images: [ "https://xiazemin.github.io/MyBlog/img/BPlusTree.png", "https://xiazemin.github.io/MyBlog/img/linuxMMap.jpeg"] });
                    });
    </script-->

    <!--æ°´å°-->
    <script type="text/javascript" src="/MyBlog/js/waterMark.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){
    watermark({watermark_txt0:'æ³½æ°‘åšå®¢',watermark_txt1:'zemin',watermark_txt2:(new Date()).Format("yyyy-MM-dd hh:mm:ss.S")});
    })
    </script>
     <!--æ°´å°-->
     <!--adscene-->
    <script data-ad-client="ca-pub-6672721494777557" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

</head>

 <body>
<div id="wrapper">
 <!-- Navigation -->
    <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-brand">
                    <a href="/MyBlog">
                        Home
                    </a>
                </li>
                <li>
                    <a href="#">About</a>
                </li>
                <li>
                    <a href="#">Services</a>
                </li>
                <li>
                    <a href="#">Portfolio</a>
                </li>
                <li>
                    <a href="#">Events</a>
                </li>
                <li>
                    <a href="#">Blog</a>
                </li>
                <li>
                    <a href="#">FAQ</a>
                </li>
                <li>
                    <a href="#">Contact</a>
                </li>
            </ul>
        </div>


    <header class="intro-header">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="heading text-center">
                        <a href="https://xiazemin.github.io/MyBlog/" style="color: #fff; font-size: 4em; font-family: 'Schoolbell', cursive;">æ³½æ°‘åšå®¢</a>
                        <a href="#menu-toggle" class="btn btn-default sciblog" id="menu-toggle" style="font-weight: bold;">&#9776; Menu</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

     <script async src="/MyBlog/js/busuanzi.pure.mini.js"></script>

    <script type="text/javascript" src="/MyBlog/js/jquery.js"></script>
    <script type="text/javascript" src="/MyBlog/js/jquery.stripesrotator.js"></script>


 <div class="container">
	<div class="row">
        <div class="box">
                <div class="col-lg-12">
                    <div class="intro-text text-center">
					<h1 class="post-title" itemprop="name headline">bhyve</h1>
					<p class="post-meta"> <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">by å¤æ³½æ°‘</span></span> <time datetime="2021-10-30T00:00:00+08:00" itemprop="datePublished"><i class="fa fa-calendar"></i> Oct 30, 2021</time></p>
					</div>
					 <p>FreeBSD ä¸‹çš„è™šæ‹ŸæŠ€æœ¯ bhyve (The BSD Hypervisor) åŒ…å«åœ¨äº† FreeBSD 10.0 å‘è¡Œç‰ˆä¸­ã€‚è€Œè¿™ä¸ª xhyve æ˜¯åŸºäº bhyve çš„ Mac OS X ç§»æ¤ç‰ˆæœ¬</p><br />
<br />
<p>https://github.com/machyve/xhyve</p><br />
<br />
<p>ä½¿ç”¨ git ä¸‹è½½æºç åç¼–è¯‘ï¼Œè¿è¡Œ xhyverun.sh åä¼šå¯åŠ¨ä¸€ä¸ªç®€å•çš„ Tiny Core Linux è™šæ‹Ÿæœºï¼š</p><br />
<br />
<p>$ git clone https://github.com/mist64/xhyve.git <br />
$ cd xhyve <br />
$ make <br />
$ ./xhyverun.sh<br />
<!-- more --><br />
æˆ‘ä»¬çŸ¥é“docker æ˜¯åŸºäºlinux ç³»ç»Ÿçš„namespace + cgroupå®ç°çš„è¿›ç¨‹éš”ç¦»æŠ€æœ¯ï¼Œåœ¨macä¸‹å¹¶ä¸èƒ½å¾ˆå¥½çš„æ”¯æŒï¼Œå› æ­¤éœ€è¦è¿è¡Œåœ¨è™šæ‹Ÿæœºä¸Šï¼Œè™šæ‹Ÿæœºå’Œdockerçš„åŒºåˆ«åœ¨äºï¼Œè™šæ‹Ÿæœºå¤šäº†ä¸€å±‚hypervisorã€‚FreeBSD ä¸‹çš„è™šæ‹ŸæŠ€æœ¯ bhyve (The BSD Hypervisor) åŒ…å«åœ¨äº† FreeBSD 10.0 å‘è¡Œç‰ˆä¸­ã€‚è€Œè¿™ä¸ª xhyve æ˜¯åŸºäº bhyve çš„ Mac OS X ç§»æ¤ç‰ˆæœ¬</p><br />
<br />
<p>https://github.com/machyve/xhyve</p><br />
<br />
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    Docker for Mac ä¹Ÿæ˜¯åœ¨æœ¬åœ°è·‘äº†ä¸€ä¸ªè™šæ‹Ÿæœºæ¥è¿è¡Œ Dockerï¼Œä¸è¿‡ Hypervisor é‡‡ç”¨çš„æ˜¯ xhyveï¼Œè€Œ xhyve åˆåŸºäº Mac è‡ªå¸¦çš„è™šæ‹ŸåŒ–æ–¹æ¡ˆ Hypervisor.frameworkï¼Œè™šæ‹Ÿæœºé‡Œè¿è¡Œçš„å‘è¡Œç‰ˆæ˜¯ Docker è‡ªå·±æ‰“åŒ…çš„ LinuxKitã€‚HyperKitæ˜¯ä¸€ä¸ªå…·æœ‰hyperisorèƒ½åŠ›çš„å·¥å…·é›†ï¼ŒåŒ…å«äº†åŸºäº xhyve - macOSå¹³å°çš„KVM/bhyve (è½»é‡çº§è™šæ‹Ÿæœºå’Œå®¹å™¨éƒ¨ç½²) çš„å®Œæ•´hypervisorã€‚HyperKitè®¾è®¡æˆä¸Šå±‚ç»„ä»¶è¯¸å¦‚ VPNKit å’Œ DataKit çš„æ¥å£ã€‚<br />
</code></pre></div></div><br />
<br />
<p>æ³¨è§£</p><br />
<br />
<p>VPNKitï¼šåµŒå…¥å¼è™šæ‹Ÿç½‘ç»œåº“ï¼ŒVPNKit æ˜¯ä¸€ä¸ªå·¥å…·å’ŒæœåŠ¡é›†åˆç”¨äºå¸®åŠ©HyperKitè™šæ‹Ÿæœºå’Œä¸»æœºVPNé…ç½®åä½œã€‚https://github.com/moby/vpnkit</p><br />
<br />
<p>HyperKitï¼šOSXä¸Šè¿è¡Œçš„è½»é‡çº§è™šæ‹ŸåŒ–å·¥å…·åŒ…https://github.com/moby/hyperkit</p><br />
<br />
<p>DataKitï¼šç°ä»£åŒ–åˆ†å¸ƒå¼ç»„ä»¶æ¡†æ¶https://github.com/moby/datakit</p><br />
<br />
<p>linuxkitæ˜¯ä¸€ä¸ªdockerè‡ªå·±æ‰“åŒ…çš„linuxé•œåƒï¼Œéå¸¸å°æœ‰ç‚¹ç±»ä¼¼apline</p><br />
<br />
<p>https://github.com/linuxkit/linuxkit</p><br />
<br />
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    æ€»ç»“èµ·æ¥ï¼šdocker for mac æ˜¯è¿è¡Œåœ¨macä¸Šçš„è™šæ‹Ÿæœºxhyveé‡Œï¼Œlinuxé•œåƒlinuxkitçš„å®ä¾‹é‡Œã€‚<br />
<br />
    é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•è¿›å…¥linuxkitå‘¢ï¼Ÿæ•´ä½“ä¸Šæœ‰ä¸¤å¤§ç±»æ–¹æ³•ï¼š1ï¼Œé€šè¿‡å®¿ä¸»æœºçš„ttyæˆ–è€…socketè¿›å…¥ã€‚2ï¼Œåœ¨linuxkitä¸Šè¿è¡Œå®¹å™¨ï¼Œé€šè¿‡enternsè¿›å…¥ã€‚<br />
<br />
 <br />
<br />
    åœ¨æ—©æœŸçš„docker for mac ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°è™šæ‹Ÿæœºçš„æ–‡ä»¶è·¯å¾„æ˜¯ï¼š<br />
</code></pre></div></div><br />
<br />
<p>/Users/Kamus/Library/Containers/com.docker.docker/Data/vms/0/Docker.raw<br />
è¿›å…¥åˆ°è¿™ä¸ªæ–‡ä»¶çš„æ‰€åœ¨ç›®å½•ã€‚å¯ä»¥çœ‹åˆ°ttyè¿™ä¸ªè½¯é“¾æ¥æ–‡ä»¶ã€‚</p><br />
<br />
<p>$ cd /Users/Kamus/Library/Containers/com.docker.docker/Data/vms/0<br />
$ ls -l<br />
total 31067864<br />
srwxr-xr-x  1 Kamus  staff            0  7  4 12:22 00000002.000005f4<br />
srwxr-xr-x  1 Kamus  staff            0  7  4 12:22 00000002.00001000<br />
srwxr-xr-x  1 Kamus  staff            0  7  4 12:22 00000002.00001001<br />
srwxr-xr-x  1 Kamus  staff            0  7  4 12:22 00000002.0000f3a5<br />
srwxr-xr-x  1 Kamus  staff            0  7  4 12:22 00000003.000005f5<br />
srwxr-xr-x  1 Kamus  staff            0  7  4 12:22 00000003.00000948<br />
-rw-râ€“râ€“@ 1 Kamus  staff  63999836160  7  7 12:51 Docker.raw<br />
-rw-râ€“râ€“  1 Kamus  staff       215040  7  4 12:22 config.iso<br />
srwxr-xr-x  1 Kamus  staff            0  7  4 12:22 connect<br />
lrwxr-xr-x  1 Kamus  staff           17  7  4 12:22 guest.000005f5 -&gt; 00000003.000005f5<br />
lrwxr-xr-x  1 Kamus  staff           17  7  4 12:22 guest.00000948 -&gt; 00000003.00000948<br />
-rw-râ€“râ€“  1 Kamus  staff         2303  7  4 12:22 hyperkit.json<br />
-rw-râ€“râ€“  1 Kamus  staff            4  7  4 12:22 hyperkit.pid<br />
drwxr-xr-x  2 Kamus  staff           64 11 21  2018 log<br />
-rw-râ€“râ€“  1 Kamus  staff           36 11 21  2018 nic1.uuid<br />
lrwxr-xr-x  1 Kamus  staff           12  7  4 12:22 tty -&gt; /dev/ttys000<br />
screenè¯¥æ–‡ä»¶å³å¯è¿æ¥åˆ°è™šæ‹Ÿæœºçš„è¾“å‡ºçª—å£ä¸­ã€‚</p><br />
<br />
<p>$ screen tty<br />
åœ¨æ–°çš„ç‰ˆæœ¬é‡Œï¼ˆ20.10.5ï¼‰ç‰ˆæœ¬ä»¥åï¼Œä½¿ç”¨socketä»£æ›¿äº†ï¼š</p><br />
<br />
<p>I think the new version of docker (my version is 20.10.5) uses socket instead of TTY to communicate with the virtual machine so you can use the nc command instead of the screen command.</p><br />
<br />
<p>nc -U ~/Library/Containers/com.docker.docker/Data/debug-shell.sock<br />
?????uname -a<br />
Linux docker-desktop 5.10.47-linuxkit #1 SMP PREEMPT Sat Jul 3 21:50:16 UTC 2021 aarch64 Linux<br />
å¯ä»¥çœ‹åˆ°ï¼Œè¿è¡Œçš„é•œåƒæ˜¯linuxkit</p><br />
<br />
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    è¿˜å¯ä»¥ä½¿ç”¨æ›´ä¼˜é›…çš„æ–¹å¼ï¼Œä¸´æ—¶å»ºä¸€ä¸ªæœ€å°åŒ–çš„debianå®¹å™¨ï¼ŒæŒ‡å®šå®¹å™¨è¿è¡Œåœ¨pid=hostå‘½åç©ºé—´ä¸‹ï¼Œç„¶åè¯¥å®¹å™¨è¿è¡Œnsenterå‘½ä»¤ã€‚<br />
</code></pre></div></div><br />
<br />
<p>$ docker run -it â€“rm â€“privileged â€“pid=host debian nsenter -t 1 -m -u -n -i sh<br />
Unable to find image â€˜debian:latestâ€™ locally<br />
latest: Pulling from library/debian<br />
6f2f362378c5: Pull complete<br />
Digest: sha256:118cf8f3557e1ea766c02f36f05f6ac3e63628427ea8965fb861be904ec35a6f<br />
Status: Downloaded newer image for debian:latest<br />
 # uname -a<br />
Linux linuxkit-025000000001 4.9.125-linuxkit #1 SMP Fri Sep 7 08:20:28 UTC 2018 x86_64 Linux<br />
è¯¦ç»†è§£é‡Šä¸€ä¸‹è¿™æ¡å‘½ä»¤ä¸ºä»€ä¹ˆå°±ä¼šç™»å½•è¿›macOSä¸­ä½œä¸ºå®¿ä¸»æœºçš„VMé‡Œé¢ã€‚<br />
â€“rmè¡¨ç¤ºåœ¨é€€å‡ºçš„æ—¶å€™å°±è‡ªåŠ¨åˆ é™¤è¯¥å®¹å™¨ï¼›<br />
â€“privilegedè¡¨ç¤ºå…è®¸è¯¥å®¹å™¨è®¿é—®å®¿ä¸»æœºï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬æƒ³è¦ç™»å½•çš„VMï¼‰ä¸­çš„å„ç§è®¾å¤‡ï¼›<br />
â€“pid=hostè¡¨ç¤ºå…è®¸å®¹å™¨å…±äº«å®¿ä¸»æœºçš„è¿›ç¨‹å‘½åç©ºé—´ï¼ˆnamespaceï¼‰ï¼Œæˆ–è€…é€šä¿—ç‚¹å„¿è§£é‡Šå°±æ˜¯å…è®¸å®¹å™¨çœ‹åˆ°å®¿ä¸»æœºä¸­çš„å„ç§è¿›ç¨‹ï¼›<br />
è¿™äº›æ˜¯dockeråœ¨å¯åŠ¨å®¹å™¨æ—¶å€™çš„å‚æ•°è®¾ç½®ï¼Œä½†æ˜¯ä»…ä»…ä¾é è¿™äº›å‚æ•°è¿˜æ— æ³•è®©æˆ‘ä»¬ç›´æ¥ç™»å½•åˆ°å®¿ä¸»æœºVMä¸­ï¼Œæ¥ä¸‹æ¥è§£é‡Šæœ€ä¸»è¦çš„nsenterå‘½ä»¤ã€‚</p><br />
<br />
<p>nsenteræ˜¯ä¸€ä¸ªå°å·¥å…·å…è®¸æˆ‘ä»¬è¿›å…¥ä¸€ä¸ªæŒ‡å®šçš„namespaceç„¶åè¿è¡ŒæŒ‡å®šçš„å‘½ä»¤ï¼Œns=namespaceï¼Œenter=è¿›å…¥ã€‚<br />
namespaceæ˜¯å®¹å™¨æŠ€æœ¯çš„æ ¹åŸºï¼ŒåŸºæœ¬ä¸Šå¯ä»¥è®¤ä¸ºnamespaceå°±æ˜¯ä¸€ç»„éš”ç¦»çš„èµ„æºï¼Œä¸åŒçš„è¿›ç¨‹å¯ä»¥çœ‹åˆ°ä¸åŒçš„ç³»ç»Ÿèµ„æºè¿™é‡Œå’Œè¿™é‡Œæœ‰æ¯”è¾ƒè¯¦ç»†çš„å…³äºnamespaceçš„ä»‹ç»ã€‚<br />
å¯ä»¥ä»æ“ä½œç³»ç»Ÿçš„/proc/[pid]/nsç›®å½•ä¸‹ä¸€çª¥å…¨è²Œã€‚æ¯”å¦‚æˆ‘ä»¬è¿›å…¥pid=1çš„nsç›®å½•ä¸‹ã€‚å¯ä»¥çœ‹åˆ°æœ‰ä¸€å…±8ç§namespaceã€‚</p><br />
<br />
<h1 id="pwd">pwd</h1><br />
<p>/proc/1/ns</p><br />
<h1 id="ls--l">ls -l</h1><br />
<p>total 0<br />
lrwxrwxrwx 1 root root 0 Jul  8 12:51 cgroup -&gt; cgroup:[4026531835]<br />
lrwxrwxrwx 1 root root 0 Jul  8 12:51 ipc -&gt; ipc:[4026531839]<br />
lrwxrwxrwx 1 root root 0 Jul  8 12:51 mnt -&gt; mnt:[4026531840]<br />
lrwxrwxrwx 1 root root 0 Jul  8 12:51 net -&gt; net:[4026531889]<br />
lrwxrwxrwx 1 root root 0 Jul  8 12:51 pid -&gt; pid:[4026531836]<br />
lrwxrwxrwx 1 root root 0 Jul  8 12:51 pid_for_children -&gt; pid:[4026531836]<br />
lrwxrwxrwx 1 root root 0 Jul  8 12:51 user -&gt; user:[4026531837]<br />
lrwxrwxrwx 1 root root 0 Jul  8 12:51 uts -&gt; uts:[4026531838]<br />
æœ€åè§£é‡Šä¸€ä¸‹nsenterå‘½ä»¤çš„é€‰é¡¹ã€‚å›é¡¾ä¸€ä¸‹å‘½ä»¤æ˜¯ï¼šnsenter -t 1 -m -u -n -i sh<br />
-t 1: è¡¨ç¤ºè¦è¿›å…¥å“ªä¸ªpidï¼Œ1è¡¨ç¤ºæ•´ä¸ªæ“ä½œç³»ç»Ÿçš„ä¸»è¿›ç¨‹id<br />
-m: è¿›å…¥mount namespaceï¼ŒæŒ‚è½½ç‚¹<br />
-u: è¿›å…¥UTS namespaceï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æˆ‘ä»¬æ¼”ç¤ºçš„é‚£ä¸ªnamespace<br />
-n: è¿›å…¥network namespaceï¼Œç½‘ç»œ<br />
-i: è¿›å…¥IPC namespaceï¼Œè¿›ç¨‹é—´é€šä¿¡<br />
sh: è¡¨ç¤ºè¿è¡Œ/bin/sh</p><br />
<br />
<p>https://developer.aliyun.com/article/116675</p><br />
<br />
<p>https://cloud-atlas.readthedocs.io/zh_CN/latest/kvm/macos_xhyve/xhyve.html</p><br />
<br />
<p>https://www.kaifa99.com/GitHub/article_125375</p><br />
<br />
<p>https://medium.com/@hintcnuie/the-difference-between-xhyve-and-hyperkit-67a9f378ab97</p><br />
<br />
<p>https://github.com/moby/vpnkit</p><br />
<br />
<p>https://github.com/moby/datakit</p><br />
<br />
<p>https://www.nebulaworks.com/insights/posts/getting-started-linuxkit-mac-os-x-xhyve/</p><br />
<br />
<p>https://docs.docker.com/desktop/mac/</p><br />
<br />
<p>Docker for Mac ä¹Ÿæ˜¯åœ¨æœ¬åœ°è·‘äº†ä¸€ä¸ªè™šæ‹Ÿæœºæ¥è¿è¡Œ Dockerï¼Œä¸è¿‡ Hypervisor é‡‡ç”¨çš„æ˜¯ xhyveï¼Œè€Œ xhyve åˆåŸºäº Mac è‡ªå¸¦çš„è™šæ‹ŸåŒ–æ–¹æ¡ˆ Hypervisor.frameworkï¼Œè™šæ‹Ÿæœºé‡Œè¿è¡Œçš„å‘è¡Œç‰ˆæ˜¯ Docker è‡ªå·±æ‰“åŒ…çš„ LinuxKit</p><br />
<br />
<p>https://www.haoyizebo.com/posts/fd0b9bd8/</p><br />
<br />
<p>% brew install opam libev</p><br />
<br />
<p>opam init No configuration file found, using built-in defaults. Checking for available remotes: rsync and local, git.</p><br />
<br />
<p>you wonâ€™t be able to use mercurial repositories unless you install the hg command on your system.<br />
you wonâ€™t be able to use darcs repositories unless you install the darcs command on your system.<br />
&lt;&gt;&lt;&gt; Fetching repository information &gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt; ğŸ« Processing 1/1: [default: http]</p><br />
<br />
<p>https://github.com/linuxkit/linuxkit</p><br />
<br />
<p>https://github.com/linuxkit/kubernetes</p><br />
<br />
<p>https://blog.51cto.com/lullaby/2421309</p><br />
<br />
<p>https://tonybai.com/2021/03/23/io-fs-interface-is-an-excellent-design/</p><br />
<br />
<p>https://github.com/docker/for-mac</p><br />
<br />
<p>https://www.zhihu.com/question/40051989?sort=created</p><br />
<br />
<p>https://cleanmymac.cn/download https://www.pagetable.com/?p=831</p><br />
<br />
<p>https://github.com/Wang-Kai/cherish-today/issues/83</p><br />
<br />
<p>https://www.zhihu.com/question/454947910/answer/1841432604</p><br />
<br />
<p>https://github.com/moby/hyperkit. âˆš</p><br />
<br />
<p>https://forums.docker.com/t/how-to-make-changes-to-xhyve-host/11820/5</p><br />
<br />
<p>https://github.com/machyve/xhyve</p><br />
<br />
<p>https://forums.docker.com/t/is-it-possible-to-ssh-to-the-xhyve-machine/17426</p><br />
<br />
<p>https://zhuanlan.zhihu.com/p/43237959</p><br />
<br />
<p>https://docs.docker.com/engine/reference/commandline/dockerd/</p><br />
<br />
<p>https://blog.csdn.net/zhangmenghao1983/article/details/82184957</p><br />
<br />
<p>https://blog.csdn.net/baidu_32656897/article/details/86504317</p><br />
<br />
<p>https://www.cnblogs.com/cag2050/p/10100899.html</p><br />
<br />
<p>https://www.dbform.com/2019/07/08/how-to-login-the-vm-of-docker-desktop-for-mac/</p><br />
<br />
<p>https://medium.com/carvago-development/my-docker-on-macos-part-1-setup-ubuntu-virtual-machine-both-intel-and-apple-silicon-cpu-5d886af0ebba</p><br />
<br />
<p>https://gist.github.com/BretFisher/5e1a0c7bcca4c735e716abf62afad389</p><br />
<br />
<p>https://www.modb.pro/db/5458</p><br />
<br />
<p>https://earthly.dev/blog/using-apple-silicon-m1-as-a-cloud-engineer-two-months-in/</p><br />
<br />
<p>2</p><br />
<br />
<p>I think the new version of docker (my version is 20.10.5) uses socket instead of TTY to communicate with the virtual machine so you can use the nc command instead of the screen command.</p><br />
<br />
<p>nc -U ~/Library/Containers/com.docker.docker/Data/debug-shell.sock</p><br />
<br />
<p>https://stackoverflow.com/questions/38532483/where-is-var-lib-docker-on-mac-os-x</p><br />
<br />
<p>?????uname -a Linux docker-desktop 5.10.47-linuxkit #1 SMP PREEMPT Sat Jul 3 21:50:16 UTC 2021 aarch64 Linux</p><br />
<br />
<p>https://www.krenger.ch/blog/docker-desktop-for-mac-ssh-into-the-docker-vm/</p><br />
<br />
<p>https://stackoverflow.com/questions/39739560/how-to-access-the-vm-created-by-dockers-hyperkit</p><br />
<br />
<p>https://www.jianshu.com/p/ab6f8be85470</p><br />
<br />
<p>https://collabnix.com/how-docker-for-mac-works-under-the-hood/</p><br />
<br />
<p>https://collabnix.com/how-docker-for-mac-works-under-the-hood/</p><br />
<br />
<p>https://gist.github.com/retraut/1dee3d6331c4b8eeb4ef54bfdce09d62</p><br />
<br />
<p>https://wongyouth.github.io/2019/04/28/xhyve-%E8%8B%B9%E6%9E%9C%E7%94%B5%E8%84%91%E4%B8%8B%E8%BD%BB%E9%87%8F%E7%BA%A7%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%96%B9%E6%A1%88/</p><br />
<br />
<p>https://www.wavether.com/2016/09/docker-machine-xhyve-mac-os</p><br />
<br />
<p>/ # ^[[26;5Rctr version ctr version Client: Version: v1.3.4 Revision: 814b7956fafc7a0980ea07e950f983d0837e5578</p><br />
<br />
<p>Server: Version: v1.3.4 Revision: 814b7956fafc7a0980ea07e950f983d0837e5578 UUID: d0bdf2c7-b3d8-45f2-be9a-ffdd6c782cc5 / # ^[[26;5R^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@</p><br />
<br />
<p>hyperkit % make</p><br />
<br />
<p>% ./hyperkitrun.sh ~/source/hyperkit/test ~/source/hyperkit Downloading tinycore linux</p><br />
<br />
<p>~/source/hyperkit hv_vm_create HV_ERROR (unspecified error) ./hyperkitrun.sh: line 39: 84413 Abort trap: 6 build/hyperkit $ACPI $MEM $SMP $PCI_DEV $LPC_DEV $NET $IMG_CD $IMG_HDD $UUID -f kexec,$KERNEL,$INITRD,â€$CMDLINEâ€</p><br />
<br />
<p>https://github.com/kubernetes/minikube/issues/10120</p><br />
<br />
<p>https://github.com/moby/hyperkit/issues/303#issuecomment-875122919</p><br />
<br />
<p>HyperKitæ˜¯ä¸€ä¸ªå…·æœ‰hyperisorèƒ½åŠ›çš„å·¥å…·é›†ï¼ŒåŒ…å«äº†åŸºäº xhyve - macOSå¹³å°çš„KVM/bhyve (è½»é‡çº§è™šæ‹Ÿæœºå’Œå®¹å™¨éƒ¨ç½²) çš„å®Œæ•´hypervisorã€‚HyperKitè®¾è®¡æˆä¸Šå±‚ç»„ä»¶è¯¸å¦‚ VPNKit å’Œ DataKit çš„æ¥å£ã€‚</p><br />
<br />
<p>æ³¨è§£</p><br />
<br />
<p>VPNKit æ˜¯ä¸€ä¸ªå·¥å…·å’ŒæœåŠ¡é›†åˆç”¨äºå¸®åŠ©HyperKitè™šæ‹Ÿæœºå’Œä¸»æœºVPNé…ç½®åä½œã€‚</p><br />
<br />
<p>DataKit æ˜¯ä¸€ä¸ªä½¿ç”¨ç±»ä¼¼Gitçš„å·¥ä½œæµæ¥ç¼–æ’åº”ç”¨ç¨‹åºçš„å·¥å…·ï¼Œå€Ÿé‰´äº†UNIXç®¡é“(pipline)æ¦‚å¿µï¼Œä½¿ç”¨äº†æ›¿ä»£åº•å±‚æ–‡æœ¬çš„æ ‘çŠ¶ç»“æ„æ•°æ®çš„æµã€‚DataKitå¯ä»¥åœ¨ç‰ˆæœ¬æ§åˆ¶æ•°æ®ä¸Šå®šä¹‰å¤æ‚çš„ç¼–è¯‘å·¥ä½œæµã€‚å½“å‰DataKitä½œä¸ºHyperKitçš„ä¸€ä¸ªå†™ä½œæµï¼Œä»¥åŠç”¨äº DataKitCI æŒç»­é›†æˆç³»ç»Ÿã€‚</p><br />
<br />
<p>è¦æ¿€æ´»å—è®¾å¤‡åç«¯æ”¯æŒqcowï¼Œå‡†å¤‡ä¸€ä¸ª OCaml OPAMå¼€å‘ç¯å¢ƒã€‚åˆ™éœ€è¦é€šè¿‡ brew å®‰è£… opam å’Œ libev ç„¶åä½¿ç”¨ opam æ¥å®‰è£…ç›¸åº”çš„åº“:</p><br />
<br />
<p>brew install opam libev opam init eval opam config env opam install uri qcow.0.10.4 conduit.1.0.0 lwt.3.1.0 qcow-tool mirage-block-unix.2.9.0 conf-libev logs fmt mirage-unix prometheus-app</p><br />
<br />
<p>https://cloud-atlas.readthedocs.io/zh_CN/latest/docker/moby/hyperkit/run_hyperkit.html</p><br />
<br />
<p>HyperKitï¼šOSXä¸Šè¿è¡Œçš„è½»é‡çº§è™šæ‹ŸåŒ–å·¥å…·åŒ… DataKitï¼šç°ä»£åŒ–åˆ†å¸ƒå¼ç»„ä»¶æ¡†æ¶ VPNKitï¼šåµŒå…¥å¼è™šæ‹Ÿç½‘ç»œåº“</p><br />
<br />
<p>http://dockone.io/article/1329</p><br />
<br />
<p>https://github.com/moby/hyperkit</p><br />
<br />
<p>https://minikube.sigs.k8s.io/docs/drivers/hyperkit/</p><br />

					 <span class='st_sharethis_large' displayText='ShareThis'></span>
						<span class='st_facebook_large' displayText='Facebook'></span>
						<span class='st_twitter_large' displayText='Tweet'></span>
						<span class='st_linkedin_large' displayText='LinkedIn'></span>
						<span class='st_pinterest_large' displayText='Pinterest'></span>
						<span class='st_email_large' displayText='Email'></span>
                </div>
                Category docker, k8s
        </div>
	</div>
  
  
       <!--èµ-->
    	  <div class="row">
            <div class="col-lg-6">
                <img src="https://xiazemin.github.io/MyBlog/img/webwxgetmsgimg.jpeg"  height="400" width="auto" />
            </div>
          </div>

        <div class="row">
                <div class="col-md-12">
			<div id="disqus_thread"></div>

<div id="gitmentContainer"></div>
<link rel="stylesheet" href="/MyBlog/css/default.css">
<script src="/MyBlog/js/gitment.browser.js"></script>
<script type="text/javascript" src="/MyBlog/js/json2.js"></script>
<script>
var gitment = new Gitment({
    owner: 'xiazemin',
    repo: 'MyBlogComment',
    oauth: {
        client_id: '981ba8c916c262631ea0',
        client_secret: 'a52260ef92de69011ccd1cf355b973ef11d6da0e',
    },
});

var MyGitmentContainer=gitment.render('gitmentContainer');
window.setTimeout(MyGitMentBtnclick,1000); 
//document.ready(function(){ 
//window.onload=function(){}

function MyGitMentBtnclick(){
//var MyGitmentContainer=document.getElementById('gitmentContainer');
	var ele=[],all=MyGitmentContainer.getElementsByTagName("*");
	for(var i=0;i<all.length;i++){
	  if(all[i].className=='gitment-comments-init-btn'){
		MyGitMentBtn=all[i];
		console.log(MyGitMentBtn);
		MyGitMentBtn.click();
	  }
	}
}

</script>



			<!--script>
			/**
			* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
			* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
			*/
			/*
			var disqus_config = function () {
			this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
			this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
			};
			*/
			(function() { // DON'T EDIT BELOW THIS LINE
			var d = document, s = d.createElement('script');

			s.src = '//airrayagroup.disqus.com/embed.js';

			s.setAttribute('data-timestamp', +new Date());
			(d.head || d.body).appendChild(s);
			})();
			</script>
			<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
			<script id="dsq-count-scr" src="//airrayagroup.disqus.com/count.js" async></script-->
          </div>
       </div>

</div>
<hr>
     <footer>
        <div class="container">
             <a href="/MyBlog/" style="color: green; font-size: 2em; font-family: 'Schoolbell', cursive;">é¦–é¡µ</a>
            <div class="row">
                <div class="col-lg-6">
                    <p>Copyright &copy; 2017 465474307@qq.com <p>
                </div>
                <div class="col-lg-6">
                    <p style="float: right;">Jekyll theme by <a href="https://github.com/xiazemin/">å¤æ³½æ°‘</a></p>
                </div>
            </div>
        </div>
    </footer>
	
    <!-- jQuery -->
    <script src="/MyBlog/js/jquery-1.12.0.min.js"></script>
    <script src="/MyBlog/js/jquery-migrate-1.2.1.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="/MyBlog/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
        <!-- Menu Toggle Script -->
    <script>
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
    </script>
    <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"slide":{"type":"slide","bdImg":"6","bdPos":"right","bdTop":"100"},"image":{"viewList":["qzone","tsina","tqq","renren","weixin"],"viewText":"åˆ†äº«åˆ°ï¼š","viewSize":"16"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/MyBlog/shareapi/js/share.js?v=89860593.js?'];</script>


<!-- 2d  -->
<script type="text/javascript" charset="utf-8"  src="/MyBlog/js/L2Dwidget.0.min.js"></script>
<script type="text/javascript" charset="utf-8"  src="/MyBlog/js/L2Dwidget.min.js"></script>
<script type="text/javascript">
 setTimeout(()=> {
/*L2Dwidget.init({"display": {
        "superSample": 2,
        "width": 200,
        "height": 400,
             "position": "right",
                 "hOffset": 0,
        "vOffset": 0
          }
     });
*/
 L2Dwidget
        .on('*', (name) => {
          console.log('%c EVENT ' + '%c -> ' + name, 'background: #222; color: yellow', 'background: #fff; color: #000')
        })
        .init({
          dialog: {
            // å¼€å¯å¯¹è¯æ¡†
            enable: true,
            script: {
              // æ¯ç©ºé—² 10 ç§’é’Ÿï¼Œæ˜¾ç¤ºä¸€æ¡ä¸€è¨€
              'every idle 10s': '$hitokoto$',
              // å½“è§¦æ‘¸åˆ°æ˜Ÿæ˜Ÿå›¾æ¡ˆ
              'hover .star': 'æ˜Ÿæ˜Ÿåœ¨å¤©ä¸Šè€Œä½ åœ¨æˆ‘å¿ƒé‡Œ (*/Ï‰ï¼¼*)',
              // å½“è§¦æ‘¸åˆ°è§’è‰²èº«ä½“
              'tap body': 'å“å‘€ï¼åˆ«ç¢°æˆ‘ï¼',
              // å½“è§¦æ‘¸åˆ°è§’è‰²å¤´éƒ¨
              'tap face': 'äººå®¶å·²ç»ä¸æ˜¯å°å­©å­äº†ï¼'
            }
          }
        });

})
</script>



    <!--html xmlns:wb="http://open.weibo.com/wb">
    <script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
    <wb:follow-button uid="2165491993" type="red_1" width="67" height="24" ></wb:follow-button-->

      <!--æœ¬æ–‡æ¥è‡ª-->
     <script type="text/javascript">
      /* ä»…IE
     document.body.oncopy = function(){
        setTimeout( 
            function () { 
        var text =window.clipboardData.getData("text"); 
        if (text) { 
            text = text + "/r/næœ¬ç¯‡æ–‡ç« æ¥æºäº xiazemin çš„ æ³½æ°‘åšå®¢|https://xiazemin.github.io/MyBlog/index.html åŸæ–‡é“¾æ¥ï¼š"+location.href; clipboardData.setData("text", text); 
          }
       },
     100 )
    }
     */
     //ç»‘å®šåœ¨äº†bodyä¸Šï¼Œä¹Ÿå¯ä»¥ç»‘å®šåœ¨å…¶ä»–å¯ç”¨å…ƒç´ è¡Œï¼Œä½†æ˜¯ä¸æ˜¯æ‰€æœ‰å…ƒç´ éƒ½æ”¯æŒcopyå’Œpastäº‹ä»¶ã€‚

     /*
$(document.body).bind({
    copy: function(event) {//copyäº‹ä»¶
        //var cpTxt = "å¤åˆ¶çš„æ•°æ®";
        var clipboardData = window.clipboardData; //for IE
        if (!clipboardData) { // for chrome
            clipboardData = event.originalEvent.clipboardData;
        }

        if (event.clipboardData != null/false/undefined) { //ignore the incorrectness of the truncation
        clipboarddata = event.clipboardData;
        } else if (window.clipboardData != null/false/undefined) {
         clipboarddata = window.clipboardData;
        } else { //default to the last option even if it is null/false/undefined
         clipboarddata = event.originalEvent.clipboardData;
        }

        //e.clipboardData.getData('text');//å¯ä»¥è·å–ç”¨æˆ·é€‰ä¸­å¤åˆ¶çš„æ•°æ®
        //clipboardData.setData('Text', cpTxt);
        alert(clipboarddata.getData('text'));
        //$('#message').text('Copy Data : ' + cpTxt);
        return false;//å¦åˆ™è®¾ä¸ç”Ÿæ•ˆ
    },paste: function(e) {//pasteäº‹ä»¶
        var eve = e.originalEvent
        var cp = eve.clipboardData;
        var data = null;
        var clipboardData = window.clipboardData; // IE
        if (!clipboardData) { //chrome
            clipboardData = e.originalEvent.clipboardData
        }
        data = clipboardData.getData('Text');
        //$('#message').html(data);
    }
});     
*/
function addLink() {
    var body_element = document.getElementsByTagName('body')[0];
    var selection;
    selection = window.getSelection();
    var pagelink = "<br /><br />æœ¬æ–‡æ¥æºï¼šxiazemin çš„ æ³½æ°‘åšå®¢ <a href='"+document.location.href+"'>"+document.location.href+"</a>";
//+document.location.href+å½“å‰é¡µé¢é“¾æ¥
    var copy_text = selection + pagelink;
    console.log(copy_text);
    var new_div = document.createElement('div');
    new_div.style.left='-99999px';
    new_div.style.position='absolute';
    body_element.appendChild(new_div );
    new_div.innerHTML = copy_text ;
    selection.selectAllChildren(new_div );
    window.setTimeout(function() {
        body_element.removeChild(new_div );
    },0);
}
document.oncopy = addLink;
     </script>
    <!--æœ¬æ–‡æ¥è‡ª-->

</div>
  </body>

</html>