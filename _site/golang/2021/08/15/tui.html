<!DOCTYPE html>
<html>

  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Sci blog jekyll theme">
    <meta name="author" content="AIR RAYA Group">
    <link href='/MyBlog/img/favicon.ico' type='image/icon' rel='shortcut icon'/>

    <title>泽民博客 | Jekyll theme</title>

    <link rel="stylesheet" href="/MyBlog/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="/MyBlog/css/font-awesome.min.css">
    <link href="/MyBlog/css/simple-sidebar.css" rel="stylesheet">
	<link href="/MyBlog/css/classic-10_7.css" rel="stylesheet" type="text/css">
    <!-- Custom CSS -->
    <link href="/MyBlog/css/style.css" rel="stylesheet">
    <link href="/MyBlog/css/pygments.css" rel="stylesheet">
    <!-- Fonts -->
 <link href="/MyBlog/css/front.css" rel="stylesheet" type="text/css">
 <link href="/MyBlog/css/Josefin_Slab.css" rel="stylesheet" type="text/css">
<link href="/MyBlog/css/Architects_Daughter.css" rel="stylesheet" type="text/css">
<link href="/MyBlog/css/Schoolbell.css" rel="stylesheet" type="text/css">
<link href="/MyBlog/css/Codystar.css" rel="stylesheet" type="text/css">

 <script type="text/javascript" src="/MyBlog/js/jquery-1.12.0.min.js"></script>	

<link href="/MyBlog/css/calendar/common.css" type="text/css"  rel="stylesheet">
<script type="text/javascript" src="/MyBlog/js/calendar/calendar.js"></script>
	<!-- share this -->
	<script type="text/javascript">var switchTo5x=true;</script>
	<script type="text/javascript" src="/MyBlog/js/buttons.js"></script>
	<script type="text/javascript">stLight.options({publisher: "b28464c3-d287-4257-ad18-058346dd35f7", doNotHash: false, doNotCopy: false, hashAddressBar: false});</script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="/MyBlog/js/html5shiv.js"></script>
        <script src="/MyBlog/js/respond.min.js"></script>
    <![endif]-->
   
   <!--百度统计-->
    <script>
    var _hmt = _hmt || [];
    (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?e965cab8c73512b8b23939e7051d93bd";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
    })();
    </script>
    <script async src="/MyBlog/katex/katex.js"></script>
    <link rel="stylesheet" href="/MyBlog/katex/katex.css">

    <!--轮播图片-->
    <!--script type="text/javascript" src="https://xiazemin.github.io/MyBlog/js/jquery.js"></script>
    <script type="text/javascript" src="https://xiazemin.github.io/MyBlog/js/jquery.stripesrotator.js"></script>
    <script type="text/javascript">
                    $(document).ready(function() {
                    alert($('#rotator_xzm'));
                     alert($('#rotator_xzm').fn);
                    $('#rotator_xzm').stripesRotator({ images: [ "https://xiazemin.github.io/MyBlog/img/BPlusTree.png", "https://xiazemin.github.io/MyBlog/img/linuxMMap.jpeg"] });
                    });
    </script-->

    <!--水印-->
    <script type="text/javascript" src="/MyBlog/js/waterMark.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){
    watermark({watermark_txt0:'泽民博客',watermark_txt1:'zemin',watermark_txt2:(new Date()).Format("yyyy-MM-dd hh:mm:ss.S")});
    })
    </script>
     <!--水印-->
     <!--adscene-->
    <script data-ad-client="ca-pub-6672721494777557" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

</head>

 <body>
<div id="wrapper">
 <!-- Navigation -->
    <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul class="sidebar-nav">
                <li class="sidebar-brand">
                    <a href="/MyBlog">
                        Home
                    </a>
                </li>
                <li>
                    <a href="#">About</a>
                </li>
                <li>
                    <a href="#">Services</a>
                </li>
                <li>
                    <a href="#">Portfolio</a>
                </li>
                <li>
                    <a href="#">Events</a>
                </li>
                <li>
                    <a href="#">Blog</a>
                </li>
                <li>
                    <a href="#">FAQ</a>
                </li>
                <li>
                    <a href="#">Contact</a>
                </li>
            </ul>
        </div>


    <header class="intro-header">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="heading text-center">
                        <a href="https://xiazemin.github.io/MyBlog/" style="color: #fff; font-size: 4em; font-family: 'Schoolbell', cursive;">泽民博客</a>
                        <a href="#menu-toggle" class="btn btn-default sciblog" id="menu-toggle" style="font-weight: bold;">&#9776; Menu</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

     <script async src="/MyBlog/js/busuanzi.pure.mini.js"></script>

    <script type="text/javascript" src="/MyBlog/js/jquery.js"></script>
    <script type="text/javascript" src="/MyBlog/js/jquery.stripesrotator.js"></script>


 <div class="container">
	<div class="row">
        <div class="box">
                <div class="col-lg-12">
                    <div class="intro-text text-center">
					<h1 class="post-title" itemprop="name headline">gdb tui</h1>
					<p class="post-meta"> <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">by 夏泽民</span></span> <time datetime="2021-08-15T00:00:00+08:00" itemprop="datePublished"><i class="fa fa-calendar"></i> Aug 15, 2021</time></p>
					</div>
					 <p>TUI（TextUser Interface）为GDB调试的文本用户界面，可以方便地显示源代码、汇编和寄存器文本窗口</p><br />
<br />
<p>Tui界面可以通过运行gdbtui或gdb-tui命令进入(其它变种gdb也一样，如arm-none-eabi-gdb-tui)，当然也可以进入gdb界面后使用TUI快捷键打开，如C-xC-a快捷键</p><br />
<br />
<p>在TUI模式中，可以显示以下几个窗口：</p><br />
<br />
<p>命令窗口<br />
用于 GDB调试时的命令输入和命令结果输出显示，与普通 GDB窗口无异。<br />
源代码窗口<br />
用于显示程序源代码，包括当前运行行、中断以中断标识等。<br />
汇编窗口<br />
显示当前程序的汇编代码。<br />
寄存器窗口<br />
显示处理器的寄存器内容，当寄存器内容发生改变时会高亮显示。<br />
源代码窗口和汇编窗口会高亮显示程序运行位置并以’&gt;’符号标记。有两个特殊标记用于标识断点，第一个标记用于标识断点类型：</p><br />
<br />
<p>B<br />
程序至少有一次运行到了该断点<br />
b<br />
程序没有运行到过该断点<br />
H<br />
程序至少有一次运行到了该硬件断点<br />
h<br />
程序没有运行到过该硬件断点 <br />
第二个标记用于标识断点使能与否:</p><br />
<br />
<p>+<br />
断点使能 Breakpointis enabled. <br />
-</p><br />
<br />
<p>断点被禁用 Breakpointis disabled. <br />
当调试程序时，源代码窗口、汇编窗口和寄存器窗口的内容会自动更新。</p><br />
<br />
<p>TUI运行时，命令窗口是一直可见不可隐藏的，而源代码窗口、汇编窗口和寄存器窗口则不能同时显示，只能显示一个或两个窗口，但不能只显示寄存器窗口。</p><br />
<br />
<p>C-x 2<br />
使TUI显示两个窗口，连接使用此快捷键可在三种窗口组合(只能同时显示两个，共3种组合)中不断切换。<br />
<!-- more --><br />
TUI-specific Commands <br />
TheTUI has specific commands to control the text windows. These commandsare always available, even when GDB is not in the TUI mode. When GDBis in the standard mode, most of these commands will automaticallyswitch to the TUI mode. 当处理GDB标准模式时，下列的大多数命令会自动切换到TUI模式。</p><br />
<br />
<p>info win：显示正在显示的窗口大小信息<br />
Listand give the size of all displayed windows. <br />
layout next：显示下一个窗口<br />
Displaythe next layout. <br />
layout prev：显示上一个窗口<br />
Displaythe previous layout. <br />
layout src：显示源代码窗口<br />
Displaythe source window only. <br />
layout asm：显示汇编窗口<br />
Displaythe assembly window only. <br />
layout split：显示源代码和汇编窗口<br />
Displaythe source and assembly window. <br />
layout regs：显示寄存器窗口<br />
Displaythe register window together with the source or assembly window. <br />
focus next：将一个窗口置为激活状态<br />
Make the next window active for scrolling. <br />
focus prev：将上一个窗口置为激活状态<br />
Make the previous window active for scrolling. <br />
focus src：将源代码窗口置为激活状态<br />
Make the source window active for scrolling. <br />
focus asm：将汇编窗口置为激活状态<br />
Make the assembly window active for scrolling. <br />
focus regs：将寄存器窗口置为激活状态<br />
Make the register window active for scrolling. <br />
focus cmd：将命令行窗口置为激活状态<br />
Make the command window active for scrolling. <br />
refresh：更新窗口，与 C-L快捷键同<br />
Refresh the screen. This is similar to typing C-L.<br />
tuireg float：寄存器窗口显示内容为浮点寄存器<br />
Showthe floating point registers in the register window. <br />
tuireg general：寄存器窗口显示内容为普通寄存器<br />
Show the general registers in the register window. <br />
tuireg next：显示下一组寄存器<br />
Show the next register group. The list of register groups as well astheir order is target specific. The predefined register groups are the following:</p><br />
<br />
<p>general, float,system, vector,all, save,restore.</p><br />
<br />
<p>tuireg system ：显示上一组寄存器<br />
Show the system registers in the register window. <br />
update ：更新源代码窗口到当前运行点<br />
Update the source window and the current execution point. <br />
winheight winname +count：增加指定窗口的高度 winheight winname -count：减小指定窗口的高度<br />
Changethe height of the window name by count lines.Positive counts increase the height, while negative counts decreaseit. <br />
tabset nchars<br />
Set the width of tab stops to be nchars characters.</p><br />
<br />
<p>https://blog.csdn.net/xu415/article/details/19021759/</p><br />
<br />
<p>https://www.cnblogs.com/wuchanming/p/4494141.html</p><br />
<br />
<p>https://blog.csdn.net/qq_41071068/article/details/103007550</p><br />
<br />
<p>http://sourceware.org/gdb/onlinedocs/gdb/TUI.html<br />
https://www.cnblogs.com/csstudy/p/4498367.html</p><br />
<br />
<p>https://stackoverflow.com/questions/61675698/lldb-how-to-use-the-tui<br />
http://peeterjoot.com/2019/08/26/the-lldb-tui-text-user-interface/<br />
(llvm) gui</p><br />
<br />
<p>https://stackoverflow.com/questions/19820247/is-there-a-tui-mode-for-standalone-lldb</p><br />
<br />
<p>https://stackoverflow.com/questions/6612133/no-tui-support-for-gdb-on-mac</p><br />
<br />
<p>GDB can be built without tui, and this may be the case. Compile gdb for yourself, and enable TUI in configure.</p><br />
<br />
<p>Or, compile a cgdb, which is very like TUI.</p><br />
<br />
<p>How to install cgdb http://lists.apple.com/archives/Xcode-users/2009/Jul/msg00194.html Also this letter says:</p><br />
<br />
<p>https://stackoverflow.com/questions/38803783/how-to-automatically-refresh-gdb-in-tui-mode</p><br />
<br />
<p>https://www.codenong.com/19820247/<br />
https://www.coder.work/article/6219230</p><br />
<br />
<p>set disassemble-next-line command<br />
Controls whether GDB should show the disassembly of the next line each time it stops at a breakpoint or after a step.</p><br />
<br />
<p>set disassemble-next-line on<br />
set disassemble-next-line off<br />
show disassemble-next-line</p><br />
<br />
<p>https://visualgdb.com/gdbreference/commands/set_disassemble-next-line</p><br />
<br />
<p>x command<br />
Displays the memory contents at a given address using the specified format.</p><br />
<br />
<p>Syntax<br />
x [Address expression]<br />
x /[Format] [Address expression]<br />
x /[Length][Format] [Address expression]<br />
x</p><br />
<br />
<p>https://visualgdb.com/gdbreference/commands/x</p><br />
<br />
<p>可以使用examine命令(简写是x)来查看内存地址中的值。x命令的语法如下所示：</p><br />
<br />
<p>x/&lt;n/f/u&gt; <addr></addr></p><br />
<br />
<p>n、f、u是可选的参数。</p><br />
<br />
<p>n是一个正整数，表示需要显示的内存单元的个数，也就是说从当前地址向后显示几个内存单元的内容，一个内存单元的大小由后面的u定义。</p><br />
<br />
<p>f 表示显示的格式，参见下面。如果地址所指的是字符串，那么格式可以是s，如果地十是指令地址，那么格式可以是i。</p><br />
<br />
<p>u 表示从当前地址往后请求的字节数，如果不指定的话，GDB默认是4个bytes。u参数可以用下面的字符来代替，b表示单字节，h表示双字节，w表示四字 节，g表示八字节。当我们指定了字节长度后，GDB会从指内存定的内存地址开始，读写指定字节，并把其当作一个值取出来。</p><br />
<br />
<addr>表示一个内存地址。<br />
<br />
 <br />
<br />
 <br />
<br />
注意：严格区分n和u的关系，n表示单元个数，u表示每个单元的大小。<br />
<br />
 <br />
<br />
n/f/u三个参数可以一起使用。例如：<br />
<br />
命令：x/3uh 0x54320 表示，从内存地址0x54320读取内容，h表示以双字节为一个单位，3表示输出三个单位，u表示按十六进制显示。<br />
<br />
 <br />
<br />
输出格式<br />
<br />
一般来说，GDB会根据变量的类型输出变量的值。但你也可以自定义GDB的输出的格式。例如，你想输出一个整数的十六进制，或是二进制来查看这个整型变量的中的位的情况。要做到这样，你可以使用GDB的数据显示格式：<br />
<br />
 <br />
<br />
x 按十六进制格式显示变量。<br />
<br />
d 按十进制格式显示变量。<br />
<br />
u 按十六进制格式显示无符号整型。<br />
<br />
o 按八进制格式显示变量。<br />
<br />
t 按二进制格式显示变量。<br />
<br />
a 按十六进制格式显示变量。<br />
<br />
c 按字符格式显示变量。<br />
<br />
f 按浮点数格式显示变量<br />
<br />
https://blog.csdn.net/allenlinrui/article/details/5964046<br />
<br />
<br />
readelf<br />
这个工具和objdump命令提供的功能类似，但是它显示的信息更为具体，并且它不依赖BFD库(BFD库是一个GNU项目，它的目标就是希望通过一种统一的接口来处理不同的目标文件）<br />
<br />
https://linuxtools-rst.readthedocs.io/zh_CN/latest/advance/02_program_debug.html#readelf<br />
</addr><br />

					 <span class='st_sharethis_large' displayText='ShareThis'></span>
						<span class='st_facebook_large' displayText='Facebook'></span>
						<span class='st_twitter_large' displayText='Tweet'></span>
						<span class='st_linkedin_large' displayText='LinkedIn'></span>
						<span class='st_pinterest_large' displayText='Pinterest'></span>
						<span class='st_email_large' displayText='Email'></span>
                </div>
                Category golang
        </div>
	</div>
  
  
       <!--赞-->
    	  <div class="row">
            <div class="col-lg-6">
                <img src="https://xiazemin.github.io/MyBlog/img/webwxgetmsgimg.jpeg"  height="400" width="auto" />
            </div>
          </div>

        <div class="row">
                <div class="col-md-12">
			<div id="disqus_thread"></div>

<div id="gitmentContainer"></div>
<link rel="stylesheet" href="/MyBlog/css/default.css">
<script src="/MyBlog/js/gitment.browser.js"></script>
<script type="text/javascript" src="/MyBlog/js/json2.js"></script>
<script>
var gitment = new Gitment({
    owner: 'xiazemin',
    repo: 'MyBlogComment',
    oauth: {
        client_id: '981ba8c916c262631ea0',
        client_secret: 'a52260ef92de69011ccd1cf355b973ef11d6da0e',
    },
});

var MyGitmentContainer=gitment.render('gitmentContainer');
window.setTimeout(MyGitMentBtnclick,1000); 
//document.ready(function(){ 
//window.onload=function(){}

function MyGitMentBtnclick(){
//var MyGitmentContainer=document.getElementById('gitmentContainer');
	var ele=[],all=MyGitmentContainer.getElementsByTagName("*");
	for(var i=0;i<all.length;i++){
	  if(all[i].className=='gitment-comments-init-btn'){
		MyGitMentBtn=all[i];
		console.log(MyGitMentBtn);
		MyGitMentBtn.click();
	  }
	}
}

</script>



			<!--script>
			/**
			* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
			* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
			*/
			/*
			var disqus_config = function () {
			this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
			this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
			};
			*/
			(function() { // DON'T EDIT BELOW THIS LINE
			var d = document, s = d.createElement('script');

			s.src = '//airrayagroup.disqus.com/embed.js';

			s.setAttribute('data-timestamp', +new Date());
			(d.head || d.body).appendChild(s);
			})();
			</script>
			<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
			<script id="dsq-count-scr" src="//airrayagroup.disqus.com/count.js" async></script-->
          </div>
       </div>

</div>
<hr>
     <footer>
        <div class="container">
             <a href="/MyBlog/" style="color: green; font-size: 2em; font-family: 'Schoolbell', cursive;">首页</a>
            <div class="row">
                <div class="col-lg-6">
                    <p>Copyright &copy; 2017 465474307@qq.com <p>
                </div>
                <div class="col-lg-6">
                    <p style="float: right;">Jekyll theme by <a href="https://github.com/xiazemin/">夏泽民</a></p>
                </div>
            </div>
        </div>
    </footer>
	
    <!-- jQuery -->
    <script src="/MyBlog/js/jquery-1.12.0.min.js"></script>
    <script src="/MyBlog/js/jquery-migrate-1.2.1.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="/MyBlog/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
        <!-- Menu Toggle Script -->
    <script>
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
    </script>
    <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"slide":{"type":"slide","bdImg":"6","bdPos":"right","bdTop":"100"},"image":{"viewList":["qzone","tsina","tqq","renren","weixin"],"viewText":"分享到：","viewSize":"16"}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/MyBlog/shareapi/js/share.js?v=89860593.js?'];</script>


<!-- 2d  -->
<script type="text/javascript" charset="utf-8"  src="/MyBlog/js/L2Dwidget.0.min.js"></script>
<script type="text/javascript" charset="utf-8"  src="/MyBlog/js/L2Dwidget.min.js"></script>
<script type="text/javascript">
 setTimeout(()=> {
/*L2Dwidget.init({"display": {
        "superSample": 2,
        "width": 200,
        "height": 400,
             "position": "right",
                 "hOffset": 0,
        "vOffset": 0
          }
     });
*/
 L2Dwidget
        .on('*', (name) => {
          console.log('%c EVENT ' + '%c -> ' + name, 'background: #222; color: yellow', 'background: #fff; color: #000')
        })
        .init({
          dialog: {
            // 开启对话框
            enable: true,
            script: {
              // 每空闲 10 秒钟，显示一条一言
              'every idle 10s': '$hitokoto$',
              // 当触摸到星星图案
              'hover .star': '星星在天上而你在我心里 (*/ω＼*)',
              // 当触摸到角色身体
              'tap body': '哎呀！别碰我！',
              // 当触摸到角色头部
              'tap face': '人家已经不是小孩子了！'
            }
          }
        });

})
</script>



    <!--html xmlns:wb="http://open.weibo.com/wb">
    <script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
    <wb:follow-button uid="2165491993" type="red_1" width="67" height="24" ></wb:follow-button-->

      <!--本文来自-->
     <script type="text/javascript">
      /* 仅IE
     document.body.oncopy = function(){
        setTimeout( 
            function () { 
        var text =window.clipboardData.getData("text"); 
        if (text) { 
            text = text + "/r/n本篇文章来源于 xiazemin 的 泽民博客|https://xiazemin.github.io/MyBlog/index.html 原文链接："+location.href; clipboardData.setData("text", text); 
          }
       },
     100 )
    }
     */
     //绑定在了body上，也可以绑定在其他可用元素行，但是不是所有元素都支持copy和past事件。

     /*
$(document.body).bind({
    copy: function(event) {//copy事件
        //var cpTxt = "复制的数据";
        var clipboardData = window.clipboardData; //for IE
        if (!clipboardData) { // for chrome
            clipboardData = event.originalEvent.clipboardData;
        }

        if (event.clipboardData != null/false/undefined) { //ignore the incorrectness of the truncation
        clipboarddata = event.clipboardData;
        } else if (window.clipboardData != null/false/undefined) {
         clipboarddata = window.clipboardData;
        } else { //default to the last option even if it is null/false/undefined
         clipboarddata = event.originalEvent.clipboardData;
        }

        //e.clipboardData.getData('text');//可以获取用户选中复制的数据
        //clipboardData.setData('Text', cpTxt);
        alert(clipboarddata.getData('text'));
        //$('#message').text('Copy Data : ' + cpTxt);
        return false;//否则设不生效
    },paste: function(e) {//paste事件
        var eve = e.originalEvent
        var cp = eve.clipboardData;
        var data = null;
        var clipboardData = window.clipboardData; // IE
        if (!clipboardData) { //chrome
            clipboardData = e.originalEvent.clipboardData
        }
        data = clipboardData.getData('Text');
        //$('#message').html(data);
    }
});     
*/
function addLink() {
    var body_element = document.getElementsByTagName('body')[0];
    var selection;
    selection = window.getSelection();
    var pagelink = "<br /><br />本文来源：xiazemin 的 泽民博客 <a href='"+document.location.href+"'>"+document.location.href+"</a>";
//+document.location.href+当前页面链接
    var copy_text = selection + pagelink;
    console.log(copy_text);
    var new_div = document.createElement('div');
    new_div.style.left='-99999px';
    new_div.style.position='absolute';
    body_element.appendChild(new_div );
    new_div.innerHTML = copy_text ;
    selection.selectAllChildren(new_div );
    window.setTimeout(function() {
        body_element.removeChild(new_div );
    },0);
}
document.oncopy = addLink;
     </script>
    <!--本文来自-->

</div>
  </body>

</html>