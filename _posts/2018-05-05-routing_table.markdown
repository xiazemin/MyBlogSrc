---
title: routing_table 路由表
layout: post
category: web
author: 夏泽民
---
路由表是指路由器中保存着的各种传输路径的相关数据，供路由选择时使用。路由表中保存着子网的标志信息、网上路由器的个数和下一个路由器的名字等内容。路由表可以是由系统管理员固定设置好的，也可以由系统动态修改，可以由路由器自动调整，也可以由主机控制。
由系统管理员事先设置好固定的路由表称之为静态（static）路由表，一般是在系统安装时就根据网络的配置情况预先设定的，它不会随未来网络结构的改变而改变。
在动态路由中，管理员不再需要与静态路由一样，手工对路由器上的路由表进行维护，而是在每台路由器上运行一个路由协议。这个路由协议会根据路由器上的接口的配置（如IP地址的配置）及所连接的链路的状态，生成路由表中的路由表项。
动态路由协议通过路由信息的交换生成并维护转发引擎所需的路由表，当网络拓扑结构改变时动态路由协议可以自动更新路由表，并负责决定数据传输最佳路径。常见的动态路由协议有RIP、OSPF、IS-IS、BGP等 [1]  。
路由表中通常包含以下信息：
Dest：目的逻辑网络或子网地址。
Mask：目的逻辑网络或子网的掩码。
Gw：与之相邻的路由器的端口地址，即该路由的下一跳IP地址。
Interface：学习到该路由条目的接口，也是数据包离开路由器去往目的地将经过的接口。
Owner：路由来源，表示该路由信息是怎样学习到的。
Pri：路由的管理距离，即优先级，决定了来自不同路由来源的路由信息的优先权。
Metric：度量值，表示每条可能路由的代价，度量值最小的路由就是最佳路由。Metric只有当同一种动态路由协议，发现多条到达同一目的网段路由的时候，才有比较性。不同路由协议的Metric不具有可比性。
路由来源（Owner）有三类，分别是直连路由（direct）、静态路由（static）、动态路由。
动态路由Owner信息为RIP、OSPF、IS-IS、BGP等，由动态路由协议生成，能够根据网络的拓扑变化调整相应的路由信息，适应大规模和复杂的网络。
对于动态路由表，当你去掉一条连线时，它会自动去掉其路由。路由器的每一个接口对应不同网络，而一条连接两个路由器连线的两个端点IP应该属于同一网络。 设置的IP地址时，如果路由器的其它端口已有这个网络了，则提示已有这个网络，并显示对应的端口。
特点：
1、节点增删时工作量少。
2、网络拓扑变化，协议自动调整。
3、配置不易出错。
4、对网络扩容性好。
5、需要占用路由器资源。

