---
title: 硬链接软连接
layout: post
category: linux
author: 夏泽民
---
ln –s 被链接的源文件 链接文件
  
  建立文件的软连接，用通俗的是方式类似于Windows下的快捷链接

源文件连接要是有绝对路径，不能使用相对路径，这样可以方便连接文件后，仍然正常使用

在软连接中，两文件占用相同大小的硬盘空间，当删除源文件后，软链接就会失效。

ln 被链接的源文件 链接文件
建立文件的硬链接，可以理解为拷贝一份并且更名

可以看出硬链接和原文件的属性完全一致，这不就是cp -p命令吗，其实，生成硬链接和cp -p命令还是有很大区别的，其中最大的区别是硬链接生成的文件跟源文件同步更新，也就是说，在硬链接或源文件中修改内容，另一方也会做更改（原因是他们的i节点相同），那如何判断一个文件是硬链接还是源文件呢？没有答案，因为无法判断了

硬链接不能跨区使用
不能针对目录使用
<!-- more -->
https://blog.csdn.net/wokkkok/article/details/111407544

硬链接是通过索引节点进行的链接。在Linux中，多个文件指向同一个索引节点是允许的，像这样的链接就是硬链接。硬链接只能在同一文件系统中的文件之间进行链接，不能对目录进行创建。如果删除硬链接对应的源文件，则硬链接文件仍然存在，而且保存了原有的内容，这样可以起到防止因为误操作而错误删除文件的作用。由于硬链接是有着相同 inode 号仅文件名不同的文件，因此，删除一个硬链接文件并不影响其他有相同 inode 号的文件。

硬链接可由命令 link 或 ln 创建


软链接（也叫符号链接）与硬链接不同，文件用户数据块中存放的内容是另一文件的路径名的指向。软链接就是一个普通文件，只是数据块内容有点特殊。软链接可对文件或目录创建。

软链接主要应用于以下两个方面：一是方便管理，例如可以把一个复杂路径下的文件链接到一个简单路径下方便用户访问；另一方面就是解决文件系统磁盘空间不足的情况。例如某个文件文件系统空间已经用完了，但是现在必须在该文件系统下创建一个新的目录并存储大量的文件，那么可以把另一个剩余空间较多的文件系统中的目录链接到该文件系统中，这样就可以很好的解决空间不足问题。删除软链接并不影响被指向的文件，但若被指向的原文件被删除，则相关软连接就变成了死链接。

https://www.linuxprobe.com/soft-hard-links-comments.html

