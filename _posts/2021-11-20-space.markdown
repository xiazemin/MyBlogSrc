---
title: Shell去除空格和空行的方法
layout: post
category: linux
author: 夏泽民
---
一、去除空行的方法

有时我们在处理和查看文件时，经常会有很多空行，为了美观或是有需要时，就有必要把这些除行去掉了，方法如下:

1）用tr命令



代码如下:


cat 文件名 |tr -s ‘\n'



2）用sed命令



代码如下:


cat 文件名 |sed ‘/^$/d'



3）用awk命令



代码如下:


cat 文件名 |awk ‘{if($0!=”")print}'
cat 文件名 |awk ‘{if(length !=0) print $0}'



4）用grep命令



代码如下:


grep -v “^$” 文件名
<!-- more -->
二、去除空格的方法




下面介绍sed是怎样实现的，当然awk同样可以。

1、删除行首空格



代码如下:


sed ‘s/^[ \t]*//g'



说明：

第一个/的左边是s表示替换，即将空格替换为空。
第一个/的右边是表示后面的以xx开头。
中括号表示“或”，空格或tab中的任意一种。这是正则表达式的规范。
中括号右边是*，表示一个或多个。

第二个和第三个\中间没有东西，表示空

g表示替换原来buffer（缓冲区）中的，sed在处理字符串的时候并不对源文件进行直接处理，先创建一个buffer，但是加g表示对原buffer进行替换

整体的意思是：用空字符去替换一个或多个用空格或tab开头的本体字符串

2、删除行末空格



代码如下:


sed ‘s/[ \t]*$//g'


和上面稍微有些不同是前面删除了^符，在后面加上了美元符，这表示以xx结尾的字符串为对象。



但是要注意在KSH中，Tab并不是\t而是直接打入一个Tab就可以了。

3、删除所有的空格



代码如下:


sed s/[[:space:]]//g

https://blog.51cto.com/u_10742668/1944831
