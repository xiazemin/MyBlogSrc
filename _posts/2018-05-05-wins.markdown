---
title: wins
layout: post
category: web
author: 夏泽民
---
<!-- more -->
WINS是Windows Internet Name Service，即Windows网络名称服务。它提供一个分布式数据库，能在路由网络的环境中动态地对IP地址和NETBios名的映射进行注册与查询。 WINS用来登记NetBIOS计算机名，并在需要时将它解析成为IP地址。WINS数据库是动态更新的。
WINS提供一个分布式数据库，它的作用是在路由网络的环境中对IP地址和NetBIOS名的映射进行注册与查询。 这可能是解决NetBIOS名与IP地址之间转换的比较合适的一种方法，对于比较复杂的网络如互联网更是如此。
LMHOSTS文件在广播式系统中有一点缺点，它是基于广播的，所以对网络的通信量是一个沉重的负担，这个问题并未得到解决。有人设计了通过路由协议进行单播式的动作对NetBIOS名字进行注册和解析。如果采用这个协议，那就可以解决了广播的问题，也就没有必要使用LMHOSTS文件了，使动态配置的灵活性与方便性得到重新体现，使得这个系统可以和DHCP协议无缝连接。我们可以想象，当DHCP给一台计算机分配了一个地址后，这个更新可以直接在WINS数据库中体现。用户和管理员都不需要进行任何额外的工作，十分方便。WINS协议可以和NBNS一起工作，但是因为WINS数据库备份的问题没有解决，因为它不能和别的NetBIOS名字服务器一起工作，数据不能在WINS服务器和非WINS服务器间进行复制。
WINS是基于客户服务器模型的，它有两个重要的部分，WINS服务器和WINS客户。我们首先看一下服务器，它主要负责处理由客户发来名字和IP地址的注册和解除注册信息。如果WINS客户进行查询时，服务器会返回当前查询名下的IP地址。服务器还负责对数据库进行备份。而客户主要在加入或离开网络时向WIN服务器注册自己的名字或解除注册。当然了，在进行通信的时候它也向服务器进行查询，以确定远程计算机的地址。
我们使用WINS的好处在什么地方呢？WINS就是以集中的方式进行IP地址和计算机名称的映射，这种方式可以简化网络的管理，减少网络内的通信量，但是这种集中式的管理方式可以和星型结构相比，我们有理由怀疑它可以会成为网络的瓶颈。在本地的域控制器不在路由器管理网段的另一段时，客户仍然可以游览远程域，在集中处理的时候，数据都会集中于这个服务器中，一定要注意不要让这个节点失败。
WINS的另外一个重要特点是可以和DNS进行集成。这使得非WINS客户通过DNS服务器解析获得NetBIOS名。这对于网络管理提供了方便，也为异种网的连接提供了另一种手段。我们可以看到，使用集中管理可以使管理工作大大简化，但是却使网络拓朴结构出现了中心结点，这是一个隐性的瓶颈，而如果采用分布式的管理方式，却有个一致性的问题，也就是如果一个服务器知道了这个改变，而另一个不知道，那数据就不一致了，这时候要有一些复杂的算法来解决这一问题，两台服务器要想知道对方的情况，不可能不进行通信，也就无形中加重了网络负担。网络就是这样，集中起来就加大了单机的处理压力，而分布了就增加了网络传输量，天下没有十全十美的事情。

